/*! For license information please see message-section.70aabc29.df2783d626591112d9dd.js.LICENSE */
(window.miniJsonp=window.miniJsonp||[]).push([[10],{"1h1e":function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),s=0,a=1,i=2,c=3,u=4,l=5,d=6,p=7;function f(){}function A(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function h(e,t,n,r,o,f){for(var A,h=++t,g=s;;){var m=e.charAt(h);switch(m){case"=":if(g===a)A=e.slice(t,h),g=c;else{if(g!==i)throw new Error("attribute equal must after attrName");g=c}break;case"'":case'"':if(g===c||g===a){if(g===a&&(f.warning('attribute value must after "="'),A=e.slice(t,h)),t=h+1,!((h=e.indexOf(m,t))>0))throw new Error("attribute value no end '"+m+"' match");E=e.slice(t,h).replace(/&#?\w+;/g,o),n.add(A,E,t-1),g=l}else{if(g!=u)throw new Error('attribute value must after "="');E=e.slice(t,h).replace(/&#?\w+;/g,o),n.add(A,E,t),f.warning('attribute "'+A+'" missed start quot('+m+")!!"),t=h+1,g=l}break;case"/":switch(g){case s:n.setTagName(e.slice(t,h));case l:case d:case p:g=p,n.closed=!0;case u:case a:case i:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),g==s&&n.setTagName(e.slice(t,h)),h;case">":switch(g){case s:n.setTagName(e.slice(t,h));case l:case d:case p:break;case u:case a:"/"===(E=e.slice(t,h)).slice(-1)&&(n.closed=!0,E=E.slice(0,-1));case i:g===i&&(E=A),g==u?(f.warning('attribute "'+E+'" missed quot(")!!'),n.add(A,E.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&E.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+E+'" missed value!! "'+E+'" instead!!'),n.add(E,E,t));break;case c:throw new Error("attribute value missed!!")}return h;case"Â€":m=" ";default:if(m<=" ")switch(g){case s:n.setTagName(e.slice(t,h)),g=d;break;case a:A=e.slice(t,h),g=i;break;case u:var E=e.slice(t,h).replace(/&#?\w+;/g,o);f.warning('attribute "'+E+'" missed quot(")!!'),n.add(A,E,t);case l:g=d}else switch(g){case i:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&A.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+A+'" missed value!! "'+A+'" instead2!!'),n.add(A,A,t),t=h,g=a;break;case l:f.warning('attribute space is required"'+A+'"!!');case d:g=a,t=h;break;case c:g=u,t=h;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function g(e,t,n){for(var r=e.tagName,o=null,s=e.length;s--;){var a=e[s],i=a.qName,c=a.value;if((p=i.indexOf(":"))>0)var u=a.prefix=i.slice(0,p),l=i.slice(p+1),d="xmlns"===u&&l;else l=i,u=null,d="xmlns"===i&&"";a.localName=l,!1!==d&&(null==o&&(o={},v(n,n={})),n[d]=o[d]=c,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,c))}for(s=e.length;s--;){(u=(a=e[s]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]))}var p;(p=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,p),l=e.localName=r.slice(p+1)):(u=null,l=e.localName=r);var f=e.uri=n[u||""];if(t.startElement(f,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(f,l,r),o)for(u in o)t.endPrefixMapping(u)}function m(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),o.characters(a,0,a.length),s)}return t+1}function E(e,t,n,r){var o=r[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o),o<t}function v(e,t){for(var n in e)t[n]=e[n]}function b(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var s=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var i=s[1][0],c=a>3&&/^public$/i.test(s[2][0])&&s[3][0],u=a>4&&s[4][0],l=s[a-1];return n.startDTD(i,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function _(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return n.processingInstruction(o[1],o[2]),r+2}return-1}return-1}function y(e){}function C(e,t){return e.__proto__=t,e}f.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),v(t,t={}),function(e,t,n,r,o){function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function a(t){if(t>v){var n=e.substring(v,t).replace(/&#?\w+;/g,s);d&&i(v),r.characters(n,0,t-v),v=t}}function i(t,n){for(;t>=u&&(n=l.exec(e));)c=n.index,u=c+n[0].length,d.lineNumber++;d.columnNumber=t-c+1}var c=0,u=0,l=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,p=[{currentNSMap:t}],f={},v=0;for(;;){try{var C=e.indexOf("<",v);if(C<0){if(!e.substr(v).match(/^\s*$/)){var x=r.doc,S=x.createTextNode(e.substr(v));x.appendChild(S),r.currentElement=S}return}switch(C>v&&a(C),e.charAt(C+1)){case"/":var O=e.indexOf(">",C+3),B=e.substring(C+2,O),w=p.pop();O<0?(B=e.substring(C+2).replace(/[\s<].*/,""),o.error("end tag name: "+B+" is not complete:"+w.tagName),O=C+1+B.length):B.match(/\s</)&&(B=B.replace(/[\s<].*/,""),o.error("end tag name: "+B+" maybe not complete"),O=C+1+B.length);var I=w.localNSMap,M=w.tagName==B;if(M||w.tagName&&w.tagName.toLowerCase()==B.toLowerCase()){if(r.endElement(w.uri,w.localName,B),I)for(var T in I)r.endPrefixMapping(T);M||o.fatalError("end tag name: "+B+" is not match the current start tagName:"+w.tagName)}else p.push(w);O++;break;case"?":d&&i(C),O=_(e,C,r);break;case"!":d&&i(C),O=b(e,C,r,o);break;default:d&&i(C);var k=new y,j=p[p.length-1].currentNSMap,R=(O=h(e,C,k,j,s,o),k.length);if(!k.closed&&E(e,O,k.tagName,f)&&(k.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),d&&R){for(var P=A(d,{}),N=0;N<R;N++){var D=k[N];i(D.offset),D.locator=A(d,{})}r.locator=P,g(k,r,j)&&p.push(k),r.locator=d}else g(k,r,j)&&p.push(k);"http://www.w3.org/1999/xhtml"!==k.uri||k.closed?O++:O=m(e,O,k.tagName,s,r)}}catch(e){o.error("element parse error: "+e),O=-1}O>v?v=O:a(Math.max(C,v)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},C({},C.prototype)instanceof C||(C=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=f},Ao50:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.USS=void 0;var a=n("vDqi"),i=n("rPHV"),c=n("zDSj"),u=n("ibA+"),l=new Map([["jpg",u.ContentTypeHeader.image],["jpeg",u.ContentTypeHeader.image],["png",u.ContentTypeHeader.pngImage]]),d=function(){function e(e){this.queueMap=new Map,this.bucket=e.bucket,this.domain=e.domain,this.concurrency=e.concurrency||3,this.$=a.default.create({baseURL:e.uploadDomain+"/api/v2",headers:{Authorization:e.authorization}}),this.$.interceptors.response.use((function(e){return e}),(function(e){var t,n,r,o,s,c,l;return a.default.isCancel(e)?Promise.reject(new i.Error({code:u.ErrorCode.UserCancel,message:"User cancel."})):(null===(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.code)?Promise.reject(new i.Error({code:null===(o=null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.data)||void 0===o?void 0:o.code,message:null===(c=null===(s=null==e?void 0:e.response)||void 0===s?void 0:s.data)||void 0===c?void 0:c.message,error:e,httpCode:null===(l=null==e?void 0:e.response)||void 0===l?void 0:l.status})):Promise.reject(e)})),this.sliceSize=e.sliceSize}return e.prototype.putObject=function(e){var t=e.file,n=e.contentType,a=e.cancelToken,l=e.onUploadProgress,d=e.autoPicType;return o(this,void 0,void 0,(function(){var e,p,f,A,h,g,m,E,v,b,_,y,C,x=this;return s(this,(function(S){switch(S.label){case 0:return e=d&&t.name.split(".").pop(),[4,c.getEtag(t)];case 1:if(p=S.sent(),f=i.createStorage(p),A=[],h=(f.get()||[]).reduce((function(e,t){return e.concat(e.find((function(e){return e.index===t.index}))?[]:[t])}),[]),g=t.size>this.sliceSize)for(m=function(e){var n=E.sliceSize*e,r=n+E.sliceSize,o=(r<=t.size?r:t.size)-n,s=t.slice(n,n+o);!!h.find((function(t){return t.index===e}))||A.push({index:e,slice:s,size:o})},E=this,v=0;v<t.size/this.sliceSize;v++)m(v);else A.push({index:0,slice:t,size:t.size});if(0!==A.length)return[3,5];S.label=2;case 2:return S.trys.push([2,,4,5]),[4,this.mergeObject(p,h,n,a,e)];case 3:return b=S.sent(),[2,r(r({},b),{url:this.getFileUrl(b.fid,n,e)})];case 4:return f.remove(),[7];case 5:return _=A.map((function(t){var i=t.slice,l=t.size,d=t.index;return function(){return o(x,void 0,void 0,(function(){var t,o=this;return s(this,(function(s){switch(s.label){case 0:return[4,c.getEtag(i)];case 1:return t=s.sent(),[2,this.$.post("/upload/"+this.bucket,i,{cancelToken:a.token,headers:{ETag:t,"Content-Type":g?u.ContentTypeHeader.slice:this.getContentTypeHeader(n,e)}}).then((function(t){var s=t.data.data;return{data:r(r({},s),{url:o.getFileUrl(s.fid,n,e)}),size:l,index:d}}))]}}))}))}})),y=new i.Queue(_,{concurrency:this.concurrency}),C=this.queueMap.get(a)||new Set,this.queueMap.set(a,C.add(y)),[2,new Promise((function(i,c){var u=0;y.setTaskFullfilledHandler((function(d){var A=d.data,g=d.size,m=d.index;return o(x,void 0,void 0,(function(){var o,d,E;return s(this,(function(s){switch(s.label){case 0:if(h.find((function(e){return e.index===m}))||h.push({index:m,size:g,fid:A.fid}),o=h.reduce((function(e,t){return e+t.size}),0),null==l||l({total:t.size,loaded:o,percent:parseFloat((o/t.size).toFixed(2))}),1===_.length)return i(r(r({},A),{url:this.getFileUrl(A.fid,n,e)})),[2];if(f.set(h),++u!==_.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.mergeObject(p,h,n,a,e)];case 2:return d=s.sent(),i(r(r({},d),{url:this.getFileUrl(d.fid,n,e)})),[3,5];case 3:return E=s.sent(),c(E),[3,5];case 4:return f.remove(),[7];case 5:return[2]}}))}))})),y.setAllTaskFullfilledHandler((function(){var e=x.queueMap.get(a)||new Set;e.delete(y),x.queueMap.set(a,e)})),y.setTaskRejectedHandler((function(e){f.remove(),x.cancel(a),c(e)})),y.start()}))]}}))}))},e.prototype.cancel=function(e){var t=this.queueMap.get(e);null==t||t.forEach((function(e){return e.cancel()})),e.cancel()},e.prototype.resume=function(e){var t=this.queueMap.get(e);null==t||t.forEach((function(e){return e.resume()}))},e.prototype.getFileUrl=function(e,t,n){var r;switch(console.log("autoExt",n),t){case u.ContentType.video:r=u.FileExt.video;break;case u.ContentType.audio:r=u.FileExt.audio;break;default:r=l.has(n)?n:u.FileExt.image}return this.domain+"/"+this.bucket+"/"+e+"."+r},e.prototype.getContentTypeHeader=function(e,t){return console.log("header autoExt",t),t&&l.has(t)?l.get(t):u.ContentTypeHeader[e]},e.prototype.mergeObject=function(e,t,n,r,a){return o(this,void 0,void 0,(function(){var o,i;return s(this,(function(s){switch(s.label){case 0:return[4,this.$.post("/mergeFiles/"+this.bucket,{fids:t.map((function(e){return{index:e.index,fid:e.fid}}))},{headers:{ETag:e,"Content-Type":this.getContentTypeHeader(n,a)},cancelToken:r.token})];case 1:return o=s.sent(),i=o.data.data,[2,{url:this.getFileUrl(i.fid,n,a),etag:i.etag,fid:i.fid}]}}))}))},e}();t.USS=d},Bhkv:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("s3hC"),s=n("YZgg"),a=function(){function e(e){this.allowReport=!0,this.enableResume=!0,this.getSignature=e.getSignature,void 0!==e.allowReport&&(this.allowReport=e.allowReport),void 0!==e.enableResume&&(this.enableResume=e.enableResume),this.appId=e.appId,this.reportId=e.reportId}return e.prototype.upload=function(e){var t=r({getSignature:this.getSignature,appId:this.appId,reportId:this.reportId,enableResume:this.enableResume},e),n=new o.default(t);return this.allowReport&&this.initReporter(n),n.start(),n},e.prototype.initReporter=function(e){new s.VodReporter(e)},e}();t.default=a},FRsH:function(e){e.exports=JSON.parse('{"name":"vod-js-sdk-v6","version":"1.4.12","description":"tencent cloud vod js sdk v6","main":"lib/src/tc_vod.js","unpkg":"dist/vod-js-sdk-v6.js","typings":"lib/src/tc_vod.d.ts","scripts":{"test":"cross-env NODE_ENV=test mocha -r espower-typescript/guess -r jsdom-global/register -r test/env test/**/*.test.ts","cover":"cross-env NODE_ENV=test nyc mocha -r espower-typescript/guess -r jsdom-global/register -r test/env test/**/*.test.ts","dev":"webpack --config webpack.dev.config.js --watch","dist":"webpack --config webpack.config.js","build":"npm run test && npm run dist && npm run compile","compile":"tsc -p tsconfig.json","prepublish":"npm run build","lint":"tsc --noEmit && eslint \'src/**/*.{js,ts,tsx}\' --quiet --fix"},"repository":{"type":"git","url":"git+https://github.com/tencentyun/vod-js-sdk-v6.git"},"keywords":["tencentcloud","sdk","vod"],"author":"alsotang <alsotang@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/tencentyun/vod-js-sdk-v6/issues"},"homepage":"https://github.com/tencentyun/vod-js-sdk-v6#readme","dependencies":{"axios":"^0.21.1","cos-js-sdk-v5":"0.5.27","eventemitter3":"^4.0.7","js-sha1":"^0.6.0","uuid":"^3.3.2"},"devDependencies":{"@types/mocha":"^5.2.5","@types/semver":"^6.0.0","@types/sha1":"^1.1.1","@types/uuid":"^3.4.4","@typescript-eslint/eslint-plugin":"^1.9.0","@typescript-eslint/parser":"^1.9.0","cross-env":"^6.0.3","eslint":"^5.16.0","eslint-config-prettier":"^4.3.0","eslint-plugin-prettier":"^3.1.0","espower-typescript":"^9.0.1","jsdom":"^13.1.0","jsdom-global":"^3.0.2","mm":"^2.4.1","mocha":"^5.2.0","nyc":"^13.1.0","power-assert":"^1.6.1","prettier":"^1.17.1","semver":"^6.1.1","ts-loader":"^5.3.3","typescript":"^3.5.3","webpack":"^4.28.1","webpack-cli":"^3.2.1"},"nyc":{"extension":[".ts",".tsx"],"include":["src"],"reporter":["html"],"all":true}}')},HsjP:function(e,t,n){var r,o,s,a,i,c,u,l,d,p,f,A,h,g,m,E,v,b,_,y,C,x,S,O,B,w,I,M,T,k,j,R,P,N,D;window,e.exports=(r=n("q1tI"),o=n("tvxL"),s=n("XnKn"),a=n("5rFJ"),i=n("MQp2"),c=n("4j81"),u=n("/MKj"),l=n("6SzI"),d=n("Ogvq"),p=n("+xQE"),f=n("XzT5"),A=n("p6iB"),h=n("TSYQ"),g=n("e4V/"),m=n("i/3b"),E=n("pvLd"),v=n("JKOH"),b=n("FvWG"),_=n("ucpa"),y=n("0ike"),C=n("m2L4"),x=n("9NEK"),S=n("Wx0F"),O=n("C5SH"),B=n("s3ZY"),w=n("GqUL"),I=n("Iatj"),M=n("oeg4"),T=n("ZkkK"),k=n("vLVT"),j=n("lPiR"),R=n("b4o9"),P=n("Qf4c"),N=n("9rZX"),D=n("lQul"),function(e){function t(t){for(var n,s,a=t[0],i=t[1],u=t[3]||[],l=0,d=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t),u.forEach((function(e){if(void 0===r[e]){r[e]=null;var t=document.createElement("link");o.nc&&t.setAttribute("nonce",o.nc),t.rel="prefetch",t.as="script",t.href=function(e){return o.p+""+({}[e]||e)+".js"}(e),document.head.appendChild(t)}}));d.length;)d.shift()()}var n={},r={2:0,0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonpseller_webchat_modules=window.webpackJsonpseller_webchat_modules||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=a;return o(o.s=261)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(130)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=i},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(81);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(82).default,o=n(6);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=l},function(e,t,n){"use strict";n.r(t),n.d(t,"showMyRateCard",(function(){return _})),n.d(t,"showRateCard",(function(){return y})),n.d(t,"evaluationRequested",(function(){return C})),n.d(t,"watchEvaluation",(function(){return S})),n.d(t,"sendMessagesFailedByOffline",(function(){return N.e})),n.d(t,"resetMessagesFailedByOffline",(function(){return N.d})),n.d(t,"resendOfflineMessagesOnce",(function(){return N.b})),n.d(t,"resendOfflineMessagesOnceSucceed",(function(){return N.c})),n.d(t,"updateResendConversationMessage",(function(){return N.f})),n.d(t,"watchOffline",(function(){return N.g})),n.d(t,"resendMessageRequested",(function(){return c.a})),n.d(t,"watchResend",(function(){return c.b})),n.d(t,"sendMessagesRequested",(function(){return i.h})),n.d(t,"sendMessagesSucceeded",(function(){return i.i})),n.d(t,"sendingMessages",(function(){return i.l})),n.d(t,"sendMessagesToPending",(function(){return i.j})),n.d(t,"sendMessagesFailed",(function(){return i.g})),n.d(t,"abortAllSendingMessages",(function(){return i.a})),n.d(t,"cancelSendingMessageRequested",(function(){return i.b})),n.d(t,"cancelSendingMessageSucceeded",(function(){return i.c})),n.d(t,"sendVideoMessageRequested",(function(){return i.k})),n.d(t,"handleSendSucceededMessages",(function(){return i.e})),n.d(t,"sendMessages",(function(){return i.f})),n.d(t,"watchSendWithCancel",(function(){return i.n})),n.d(t,"watchSend",(function(){return i.m})),n.d(t,"populateMessageRequested",(function(){return k})),n.d(t,"getPopulateContent",(function(){return j})),n.d(t,"watchPopulate",(function(){return P})),n.d(t,"fetchMessagesRequested",(function(){return a.c})),n.d(t,"fetchMessagesSucceeded",(function(){return a.f})),n.d(t,"updateFetchMessagesRequestedStatus",(function(){return a.g})),n.d(t,"updatePreloadedMessages",(function(){return a.h})),n.d(t,"deletePreloadedMessages",(function(){return a.b})),n.d(t,"fetchMessagesRequestedWithPreloadSaga",(function(){return a.e})),n.d(t,"fetchMessagesRequestedSaga",(function(){return a.d})),n.d(t,"watchFetchMessage",(function(){return a.i})),n.d(t,"receiveMessageRequested",(function(){return ve})),n.d(t,"receiveMessageSucceeded",(function(){return be})),n.d(t,"resetNewConversationQueue",(function(){return _e})),n.d(t,"resetOldConversationQueue",(function(){return ye})),n.d(t,"resetConversationQueue",(function(){return Ce})),n.d(t,"watchNewConversationMessageQueue",(function(){return Me})),n.d(t,"watchOldConversationMessageQueue",(function(){return Te})),n.d(t,"handleCurrentConversationChange",(function(){return je})),n.d(t,"watchReceive",(function(){return Re})),n.d(t,"translateMessagesRequested",(function(){return l.d})),n.d(t,"changeTranslateStatus",(function(){return l.a})),n.d(t,"showTranslateFeedback",(function(){return l.c})),n.d(t,"sendTranslateFeedback",(function(){return l.b})),n.d(t,"watchTranslate",(function(){return l.e})),n.d(t,"replaceHttpLinkWithHttps",(function(){return W.c})),n.d(t,"updateVideoInfo",(function(){return W.d})),n.d(t,"deleteVideoInfo",(function(){return W.b})),n.d(t,"uploadMonitor",(function(){return W.e})),n.d(t,"uploadVideoGetToken",(function(){return W.h})),n.d(t,"uploadVideGetResult",(function(){return W.f})),n.d(t,"uploadVideo",(function(){return W.g})),n.d(t,"fetchFaqMessagesRequested",(function(){return J})),n.d(t,"fetchFaqMessagesSucceeded",(function(){return K})),n.d(t,"updateFetchFaqMessagesRequestedStatus",(function(){return $})),n.d(t,"updateCurrentFaqId",(function(){return ee})),n.d(t,"showFaqHistoryModal",(function(){return te})),n.d(t,"watchFaqHistorySagas",(function(){return oe})),n.d(t,"setReplyToMessage",(function(){return De.i})),n.d(t,"resetReplyToMessage",(function(){return De.c})),n.d(t,"scrollToMessage",(function(){return De.e})),n.d(t,"setScrollToMessageId",(function(){return De.j})),n.d(t,"resetScrollToMessageId",(function(){return De.d})),n.d(t,"setInScrollToMessage",(function(){return De.h})),n.d(t,"setCurrentConversationReplyToMessage",(function(){return De.g})),n.d(t,"resetCurrentConversationReplyToMessage",(function(){return De.b})),n.d(t,"scrollToMessageSaga",(function(){return De.f})),n.d(t,"watchReplySaga",(function(){return De.k})),n.d(t,"deleteMessageRequested",(function(){return qe.b})),n.d(t,"deleteMessagePostRequested",(function(){return qe.a})),n.d(t,"watchDeleteMessage",(function(){return qe.c})),n.d(t,"handleSensitiveUrl",(function(){return F})),n.d(t,"deleteConversationMessageHash",(function(){return u.b})),n.d(t,"messageSyncUpdate",(function(){return ze})),n.d(t,"setEntryPoint",(function(){return Je})),n.d(t,"sagas",(function(){return tt})),n.d(t,"reducerMap",(function(){return nt}));var r=n(4),o=n.n(r),s=n(15),a=n(46),i=n(39),c=n(70),u=n(74),l=n(100),d=n(5),p=n.n(d),f=n(3),A=n(2),h=n(1),g=n(20),m=p.a.mark(_),E=p.a.mark(y),v=p.a.mark(x),b=p.a.mark(S);function _(e,t){var n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(f.select)(Object(h.rateCardSelector)(e));case 3:if((n=r.sent)&&"failed"!==n.fetchStatus&&n.status!==A.EvaluationStatus.UNRATED){r.next=8;break}return r.next=7,Object(f.call)(h.fetch,{parent:"rating_cards",parentId:e,resource:"get",params:t});case 7:n=r.sent;case 8:return r.abrupt("return",n);case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",{id:e,status:"",fetchStatus:"failed"});case 14:case"end":return r.stop()}}),m,null,[[0,11]])}function y(e){var t,n,r,o,s,a,i,c,u;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.ids,n=e.shopId,r=Array.isArray(t)?t:[t],o={},"0"!==n&&(o.shop_id=n),l.next=6,Object(f.select)(h.isSubAccountSelector);case 6:return s=l.sent,l.next=9,Object(f.select)(h.currentUserShopIdSelector);case 9:if(l.sent===parseInt(n)||s){l.next=19;break}return a=[],r.forEach((function(e){return a.push(Object(f.call)(_,e,o))})),l.next=15,Object(f.all)(a);case 15:return i=l.sent,l.abrupt("return",i);case 19:return l.prev=19,c="rating_cards",o.ids="[".concat(r.join(","),"]"),l.next=24,Object(f.call)(h.fetch,{resource:c,params:o});case 24:return u=l.sent,l.abrupt("return",u[c]||[]);case 28:return l.prev=28,l.t0=l.catch(19),l.abrupt("return",[]);case 31:case"end":return l.stop()}}),E,null,[[19,28]])}var C=Object(s.createActions)(o()({},g.a.EVALUATION_REQUESTED,(function(e){var t=e.id,n=e.shopId,r=e.grade,o=e.reason;return{id:t,shopId:n,grade:r,reason:void 0===o?[]:o}}))).evaluationRequested;function x(e){var t,n,r,o,s,a,i,c;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.id,r=t.shopId,o=t.grade,s=t.reason,u.prev=1,a={grade:o,reason:s},r&&(a.shop_id=r),u.next=6,Object(f.call)(h.fetch,{method:"PUT",parent:"rating_cards",parentId:n,resource:"evaluate",payload:JSON.stringify(a)});case 6:return u.next=8,Object(f.put)(Object(h.updateRecord)({name:"rateCards",id:n,record:{grade:o,status:A.EvaluationStatus.RATED}}));case 8:u.next=18;break;case 10:return u.prev=10,u.t0=u.catch(1),i=Date.now(),u.t0.message&&u.t0.message.error_code&&((c=u.t0.message.error_code)===A.EvaluationErrorCode.RATED&&(i=A.EvaluationStatus.RATED),c===A.EvaluationErrorCode.EXPIRED&&(i=A.EvaluationStatus.EXPIRED)),u.next=16,Object(f.put)(Object(h.updateRecord)({name:"rateCards",id:n,record:{status:i}}));case 16:return u.next=18,Object(f.call)(h.setToastInformationSaga,Object(h.setToastInformation)({error:u.t0}));case 18:case"end":return u.stop()}}),v,null,[[1,10]])}function S(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeLatest)(C,x);case 2:case"end":return e.stop()}}),b)}var O=n(28);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=p.a.mark(j),M=p.a.mark(R),T=p.a.mark(P),k=Object(s.createActions)(o()({},g.a.POPULATE_MESSAGE_REQUESTED,(function(e){return{message:e.message}}))).populateMessageRequested;function j(e,t){var n,r,o,s,a,i,c,u;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:o=(r=t).id,s=r.shopId,a=r.creatorId,i=r.cartItems,c=r.faqMessageIds,l.t0=e,l.next="product"===l.t0?4:"order"===l.t0?8:"offer"===l.t0?12:"shop"===l.t0?16:"shops"===l.t0?20:l.t0===A.MessageTypes.MSG_TYPE_RATE_CARDS?24:l.t0===A.MessageTypes.MSG_TYPE_VOUCHER_WEB?28:l.t0===A.MessageTypes.MSG_TYPE_FEED_STORY?32:l.t0===A.MessageTypes.MSG_TYPE_VOUCHER?36:l.t0===A.MessageTypes.MSG_TYPE_SHOPPING_CART?41:l.t0===A.MessageTypes.MSG_TYPE_UNTATED_ORDER_REMINDER?45:l.t0===A.MessageTypes.MSG_TYPE_BUNDLE_MESSAGE?49:53;break;case 4:return l.next=6,Object(f.call)(h.showProduct,{payload:{productId:o,shopId:s}});case 6:return n=l.sent,l.abrupt("break",54);case 8:return l.next=10,Object(f.call)(h.showOrder,{payload:{orderId:o,shopId:s}});case 10:return n=l.sent,l.abrupt("break",54);case 12:return l.next=14,Object(f.call)(h.showOffer,{payload:{offerId:o,shopId:s}});case 14:return n=l.sent,l.abrupt("break",54);case 16:return l.next=18,Object(f.call)(h.showShop,{payload:{shopId:s}});case 18:return n=l.sent,l.abrupt("break",54);case 20:return l.next=22,Object(f.call)(h.showShop,{payload:{shopId:t}});case 22:return n=l.sent,l.abrupt("break",54);case 24:return l.next=26,Object(f.call)(y,{shopId:s,ids:o});case 26:return n=l.sent,l.abrupt("break",54);case 28:return l.next=30,Object(f.call)(h.showVoucher,{shopId:s,ids:o});case 30:return n=l.sent,l.abrupt("break",54);case 32:return l.next=34,Object(f.call)(h.showFeedStory,{payload:{id:o,creatorId:a}});case 34:return n=l.sent,l.abrupt("break",54);case 36:return l.next=38,Object(f.call)(h.showVoucher,{shopId:s,ids:Array.isArray(o)?o:[o]});case 38:return u=l.sent,n=u[0],l.abrupt("break",54);case 41:return l.next=43,Object(f.call)(h.showCartReminder,{id:o,cartItems:i});case 43:return n=l.sent,l.abrupt("break",54);case 45:return l.next=47,Object(f.call)(h.showUnrateOrder,{payload:{orderId:o,shopId:s}});case 47:return n=l.sent,l.abrupt("break",54);case 49:return l.next=51,Object(f.call)(h.showFaqHistory,{payload:{ids:c.slice(0,3),id:o}});case 51:return n=l.sent,l.abrupt("break",54);case 53:n={};case 54:return l.abrupt("return",{type:e,content:n});case 55:case"end":return l.stop()}}),I)}function R(e){var t,n,r;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.message,o.next=3,Object(f.put)(Object(h.updateRecord)({name:"messages",id:t.id,record:{fetchStatus:""}}));case 3:return o.next=5,Object(f.select)(h.isSubAccountSelector);case 5:return n=o.sent,o.next=8,Object(f.select)(h.currentUserShopIdSelector);case 8:return r=o.sent,o.next=11,Object(f.call)(O.f,[t],r,n);case 11:return o.next=13,Object(f.put)(Object(h.updateRecord)({name:"messages",id:t.id,record:w({},t)}));case 13:case"end":return o.stop()}}),M)}function P(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(k,R);case 2:case"end":return e.stop()}}),T)}var N=n(71),D=n(29),q=p.a.mark(H),U=p.a.mark(L),F=Object(s.createActions)(o()({},g.a.HANDLE_SENSITIVE_URL,(function(e){return{href:e.href}}))).handleSensitiveUrl;function H(e){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.href,n.next=3,Object(f.put)(Object(h.showModal)({type:"CONFIRM_MODAL",title:{key:"common.navigation.cofirm_titile"},actions:{cancel:{label:{key:"common.cancel"},handler:function(){D.store.dispatch(Object(h.closeModal)())}},confirm:{label:{key:"common.navigation.confirm"},handler:function(){D.store.dispatch(Object(h.closeModal)());var e=window.open();e.opener=null,e.location=t}}},additions:{content:{key:"common.navigation.cofirm_content"},modalStyle:{width:"352px"},contentStyle:{paddingTop:"8px",paddingBottom:"13px"}}}));case 3:case"end":return n.stop()}}),q)}function L(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(F,H);case 2:case"end":return e.stop()}}),U)}var G,z,W=n(40);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=p.a.mark(re),Q=p.a.mark(oe),Z=Object(s.createActions)((G={},o()(G,g.a.FETCH_FAQ_MESSAGES_REQUESTED,(function(e){var t=e.sourceId,n=e.shopId,r=e.reset;return{sourceId:t,shopId:n,reset:void 0!==r&&r}})),o()(G,g.a.FETCH_FAQ_MESSAGES_SUCCEEDED,(function(e){var t=e.messageIds,n=e.sourceId,r=e.faqHistoryStatus,o=e.offset,s=e.hasMore;return{messageIds:t,sourceId:n,faqHistoryStatus:r,offset:o,hasMore:void 0===s||s}})),o()(G,g.a.UPDATE_FETCH_FAQ_MESSAGES_REQUESTED_STATUS,(function(e){return{status:e.status}})),o()(G,g.a.UPDATE_CURRENT_FAQ_ID,(function(e){return{id:e.id}})),o()(G,g.a.SHOW_FAQ_HISTORY_MODAL,(function(e){return{sourceId:e.sourceId,shopId:e.shopId}})),G)),J=Z.fetchFaqMessagesRequested,K=Z.fetchFaqMessagesSucceeded,$=Z.updateFetchFaqMessagesRequestedStatus,ee=Z.updateCurrentFaqId,te=Z.showFaqHistoryModal,ne=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return new Promise((function(o,s){Object(h.fetch)({parent:"conversation",resource:"bundle_message",params:{shop_id:t,offset:n,limit:r,source_id:e}}).then((function(e){var t=e.bundle_message,n=e.total;o({messages:t,total:n})})).catch((function(e){s(e)}))}))};function re(e){var t,n,r,o,s,a,i,c,u,l,d,g,m,E,v,b,_;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,n=t.sourceId,r=t.shopId,o=t.reset,p.prev=1,p.next=4,Object(f.put)(ee({id:n}));case 4:return p.next=6,Object(f.select)(h.currentFaqHistorySeletor);case 6:if(s=p.sent,a=s.offset,i=void 0===a?0:a,!(void 0!==(c=s.hasMore)&&!c||o&&i)){p.next=13;break}return p.abrupt("return",null);case 13:return p.next=15,Object(f.select)(h.isSubAccountSelector);case 15:return u=p.sent,p.next=18,Object(f.select)(h.currentUserShopIdSelector);case 18:return l=p.sent,p.next=21,Object(f.put)($({status:o?A.DataFetchStatus.INIT_PENDING:A.DataFetchStatus.PENDING}));case 21:return p.next=23,ne(n,r,i);case 23:return d=p.sent,g=d.messages,m=d.total,E=i+g.length,g.sort((function(e,t){return Object(O.a)(e.id,t.id)})),g=g.filter((function(e){return"webview"!==e.type})),v=Object(h.normalize)("messages",g),b=v.result,_=v.entities,p.next=32,Object(f.put)(Object(h.updateEntities)({entities:_}));case 32:return p.next=34,Object(f.call)(O.f,g,l,u);case 34:return p.next=36,Object(f.put)(K({sourceId:n,offset:E,hasMore:E<m,faqHistoryStatus:A.DataFetchStatus.SUCCEED,messageIds:b}));case 36:p.next=42;break;case 38:return p.prev=38,p.t0=p.catch(1),p.next=42,Object(f.put)($({status:o?A.DataFetchStatus.INIT_FAILED:A.DataFetchStatus.FAILED}));case 42:case"end":return p.stop()}}),X,null,[[1,38]])}function oe(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(J,re);case 2:case"end":return e.stop()}}),Q)}var se=(z={},o()(z,g.a.FETCH_FAQ_MESSAGES_SUCCEEDED,(function(e,t){var n=t.payload,r=n.messageIds,s=n.sourceId,a=n.faqHistoryStatus,i=n.offset,c=n.hasMore,u=e.faqHistoryHash,l=(u[s]||{all:[]}).all,d=Array.from(new Set(l.concat(r)));return V(V({},e),{},{faqHistoryHash:V(V({},u),{},o()({},s,{all:d,offset:i,hasMore:c})),faqHistoryStatus:a})})),o()(z,g.a.UPDATE_FETCH_FAQ_MESSAGES_REQUESTED_STATUS,(function(e,t){var n=t.payload.status;return V(V({},e),{},{faqHistoryStatus:n})})),o()(z,g.a.UPDATE_CURRENT_FAQ_ID,(function(e,t){var n=t.payload.id;return V(V({},e),{},{faqId:n})})),z);function ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=p.a.mark(we),ue=p.a.mark(Ie),le=p.a.mark(Me),de=p.a.mark(Te),pe=p.a.mark(je),fe=p.a.mark(Re);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=A.MessageTypes.MSG_TYPE_OFFER,me=A.MessageTypes.MSG_TYPE_VIDEO,Ee=Object(s.createActions)({RECEIVE_MESSAGE_REQUESTED:function(e){return{message:e.message}},RECEIVE_MESSAGE_SUCCEEDED:function(e){return{conversationId:e.conversationId,message:e.message}},RESET_NEW_CONVERSATION_QUEUE:function(){return{}},RESET_OLD_CONVERSATION_QUEUE:function(){return{}},RESET_CONVERSATION_QUEUE:function(){return{}}}),ve=Ee.receiveMessageRequested,be=Ee.receiveMessageSucceeded,_e=Ee.resetNewConversationQueue,ye=Ee.resetOldConversationQueue,Ce=Ee.resetConversationQueue,xe=2e3,Se=2e3,Oe=[],Be=[];function we(e){var t,n,r,o,s,a,i,c;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.content,e.from_id,e.send_by_yourself,n=e.conversation_id,o=(r=t||{}).offer_id,s=r.model_id,r.shop_id,a=r.product_id,i=[],c={},u.next=6,Object(f.select)(Object(h.relatedOfferIdsSelector)(n,s,o,a));case 6:return u.sent.forEach((function(e){var t=e.id;c[t]=he(he({},e),{},{status:A.OfferStatus.CANCELLED})})),i.push(Object(f.put)(Object(h.batchUpdateRecord)({name:"offers",records:c}))),u.next=11,Object(f.all)(i);case 11:case"end":return u.stop()}}),ce)}function Ie(e){var t,n,r,o,s,a,c,u,l,d,A,g,m,E,v,b,_,y,C,x,S,B,w,I,M,T,k,j,R,P,N,D,q,U,F,H;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload.message,n=t.id,r=t.type,o=t.request_id,t.from_shop_id,t.to_shop_id,s=t.conversation_id,a=t.send_by_yourself,c=t.content,u=t.created_at,p.next=4,Object(f.select)(h.isSubAccountSelector);case 4:return l=p.sent,p.next=7,Object(f.select)((function(e){return e.conversationReducer}));case 7:return d=p.sent,A=d.conversationIdsMap,g=d.currentConversationId,m=d.currentConversationCanRead,p.next=13,Object(f.select)(Object(h.getConversation)(s));case 13:if(E=p.sent,v=E.id&&E.faking,A&&A[s.toString()]||v){p.next=20;break}Oe.push(t),p.next=110;break;case 20:if(r!==ge){p.next=24;break}return p.next=24,Object(f.call)(we,t);case 24:if(b=g===s,_=Object(O.b)(t,{updateMaxGeneralOptionHideTime:a}),y=Object(O.c)(t),!b){p.next=109;break}if(!a){p.next=77;break}return p.next=31,Object(f.select)(h.messagesWithSourceSelector);case 31:C=p.sent,x=!1,S=!1,B=!1,w=ae(C),p.prev=36,w.s();case 38:if((I=w.n()).done){p.next=48;break}if(M=I.value,T=M.id,k=M.retryRequestId,S=T===o,B=k===o,!((x=T===n)||S||B)){p.next=46;break}return p.abrupt("break",48);case 46:p.next=38;break;case 48:p.next=53;break;case 50:p.prev=50,p.t0=p.catch(36),w.e(p.t0);case 53:return p.prev=53,w.f(),p.finish(53);case 56:if(x){p.next=75;break}if(!S&&!B){p.next=62;break}return p.next=60,Object(f.call)(i.e,[t],s);case 60:p.next=75;break;case 62:return p.next=64,Object(f.select)(h.currentUserSelector)||{};case 64:return j=p.sent,R=j.shop_id,p.next=68,Object(f.call)(O.f,[t],R,l,!0);case 68:return P=Object(h.normalize)("messages",t),p.next=71,Object(f.put)(Object(h.updateEntities)({entities:P.entities}));case 71:return p.next=73,Object(f.put)(Object(h.updateRecord)({name:"conversations",id:s,record:he(he({latest_message_id:n,latest_message_type:r,latest_message_content:c,last_message_time:u},_),y)}));case 73:return p.next=75,Object(f.put)(be({conversationId:s,message:t}));case 75:p.next=101;break;case 77:if(r!==me){p.next=80;break}return p.next=80,Object(f.put)(Object(W.d)({id:o,info:{shouldPreload:!0}}));case 80:return p.next=82,Object(f.select)(h.currentUserSelector)||{};case 82:return N=p.sent,D=N.shop_id,p.next=86,Object(f.select)(h.currentConversationSelector);case 86:return q=p.sent,p.next=89,Object(f.call)(O.f,[t],D,l,!0);case 89:return U=Object(h.normalize)("messages",t),p.next=92,Object(f.put)(Object(h.updateEntities)({entities:U.entities}));case 92:if(F=q.unread_count,H=m?F:F+1,0!==F||m){p.next=97;break}return p.next=97,Object(f.spawn)(h.handleUnreadCountChangeAction,Object(h.updateUnreadCount)({type:h.unreadCountActions.RECEIVE_UNREADABLE_MESSAGE,conversation:q}));case 97:return p.next=99,Object(f.put)(Object(h.updateRecord)({name:"conversations",id:s,record:he(he({latest_message_id:n,latest_message_type:r,latest_message_content:c,last_message_time:u,unread_count:H},_),y)}));case 99:return p.next=101,Object(f.put)(be({conversationId:s,message:t}));case 101:if(!v){p.next=104;break}return p.next=104,Object(f.call)(h.fetchConversationsRequestedSaga,Object(h.fetchConversationsRequested)({direction:"latest"}));case 104:if(a||!m){p.next=107;break}return p.next=107,Object(f.call)(h.markMessagesRequestedSaga,Object(h.markMessagesRequested)({conversationId:s,isRead:!0,latestMessageId:n,shopId:E.shop_id}));case 107:p.next=110;break;case 109:Be.push(t);case 110:case"end":return p.stop()}}),ue,null,[[36,50,53,56]])}function Me(){var e,t,n,r,o,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(f.delay)(xe);case 3:if(e=Oe.length){a.next=8;break}xe=8e3===xe?xe:2*xe,a.next=24;break;case 8:return t=Oe.splice(0,e).sort((function(e,t){return e.created_timestamp-t.created_timestamp})),xe=2e3,a.next=12,Object(f.select)(h.isSubAccountSelector);case 12:return n=a.sent,a.next=15,Object(f.select)((function(e){return e.conversationReducer}));case 15:if(r=a.sent,o=r.maxLatestTimestampNano,s=r.maxLatestReceivedMessageId,!(n?Object(A.greaterThan)(t[0].id,s):o<=t[0].created_timestamp*Math.pow(10,9))){a.next=24;break}return a.next=22,Object(f.call)(h.fetchConversationsRequestedSaga,Object(h.fetchConversationsRequested)({direction:"latest"}));case 22:return a.next=24,Object(f.spawn)(h.handleUnreadCountChangeAction,Object(h.updateUnreadCount)({type:h.unreadCountActions.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT}));case 24:a.next=0;break;case 26:case"end":return a.stop()}}),le)}function Te(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(f.delay)(Se);case 3:if(e=Be.length){t.next=8;break}Se=8e3===Se?Se:2*Se,t.next=9;break;case 8:return t.delegateYield(p.a.mark((function t(){var n,r,o,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.put)(Object(h.updateFetchConversationsDirection)({direction:"latest"}));case 2:return n=Be.splice(0,e),Se=2e3,r=Array.from(new Set(n.map((function(e){return e.conversation_id})))),t.next=7,Object(f.select)(Object(h.getConversations)(r));case 7:return o=t.sent,s={},a=0,n.forEach((function(e){var t=e.id,n=e.type,r=e.content,i=e.created_at,c=e.conversation_id,u=e.send_by_yourself,l=Object(O.b)(e,{updateMaxGeneralOptionHideTime:u}),d=Object(O.c)(e),p=he(he({latest_message_id:t,latest_message_type:n,latest_message_content:r,last_message_time:i},l),d),f=s[c];if(f)t>f.latest_message_id?s[c]=he(he(he({},f),p),{},{unread_count:u?f.unread_count:f.unread_count+1}):s[c]=he(he({},f),{},{unread_count:u?f.unread_count:f.unread_count+1});else{var A=o.find((function(e){return e.id===c}))||{},h=A.unread_count,g=void 0===h?0:h;A.shop_id,s[c]=he(he({},p),{},{unread_count:u?g:g+1}),u||0!==g||(a+=1)}})),t.next=13,Object(f.put)(Object(h.batchUpdateRecord)({name:"conversations",records:s,checkProp:"latest_message_id"}));case 13:return t.next=15,Object(f.spawn)(h.handleUnreadCountChangeAction,Object(h.updateUnreadCount)({type:h.unreadCountActions.MESSAGE_QUEUE_UPDATE,messageQueueUpdate:{totalIncrease:a}}));case 15:case"end":return t.stop()}}),t)}))(),"t0",9);case 9:t.next=0;break;case 11:case"end":return t.stop()}}),de)}function ke(){var e=Oe.length,t=Be.length;e&&Oe.splice(0,e),t&&Be.splice(0,t)}function je(e){var t,n,r,o,s,a,i,c,u,l,d;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(!(t=Be.filter((function(t){return t.conversation_id===e}))).length){p.next=12;break}return t.forEach((function(e){var t=Be.findIndex((function(t){return t.id===e.id}));Be.splice(t,1)})),n=t.sort((function(e,t){return t.latest_message_id-e.latest_message_id})),r=n[0],o=r.id,s=r.type,a=r.content,i=r.created_at,c=r.send_by_yourself,u=Object(O.b)(r,{updateMaxGeneralOptionHideTime:c}),l=Object(O.c)(r),d=he(he({latest_message_id:o,latest_message_type:s,latest_message_content:a,last_message_time:i},u),l),p.next=11,Object(f.put)(Object(h.updateRecord)({name:"conversations",id:e,record:d}));case 11:return p.abrupt("return",o);case 12:return p.abrupt("return",null);case 13:case"end":return p.stop()}}),pe)}function Re(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(ve,Ie);case 2:return e.next=4,Object(f.takeEvery)(Ce,ke);case 4:case"end":return e.stop()}}),fe)}var Pe,Ne=o()({},be,(function(e,t){var n,r=t.payload,s=r.conversationId,a=r.message,i=a.id,c=a.request_id,u=e.messageIdsHash,l=u[s]||{},d=l.all||[],p=l.sending||[];return n=d.includes(i)?d:[i].concat(d).filter((function(e){return e!==c})),he(he({},e),{},{messageIdsHash:he(he({},u),{},o()({},s,he(he({},l),{},{all:n,sending:p.filter((function(e){return!p.includes(c)}))})))})})),De=n(91),qe=n(101);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=p.a.mark(Ye),Le=p.a.mark(Ve),Ge=Object(s.createActions)((Pe={},o()(Pe,g.a.MESSAGE_SYNC_UPDATE,(function(e){return{conversation:e.conversation}})),o()(Pe,g.a.MESSAGE_UPDATE_TIME_NOW,(function(e){return{conversationId:e.conversationId,timeNow:e.timeNow}})),Pe)),ze=Ge.messageSyncUpdate,We=Ge.messageUpdateTimeNow;function Ye(e){var t,n,r,o,s,i,c,u,l,d,A,g,m,E,v,b,_,y,C;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload.conversation,n=t.id,r=t.shop_id,p.next=4,Object(f.select)(Object(h.messageUpdateTimeNowSelector)(n));case 4:return o=p.sent,p.prev=5,p.next=8,Object(f.select)(Object(h.createMessageIdsHashSelector)({isAgentConversation:!1}));case 8:if(i=p.sent,c=i[n]||{},0!==(void 0===(u=c.all)?[]:u).length){p.next=13;break}return p.abrupt("return");case 13:return p.next=15,Object(f.call)(h.fetch,{subServer:"coreapi",parent:"conversation",resource:"updated_message_list",params:{conversation_id:n,shop_id:r,last_update_time:o||"0"}});case 15:if(l=p.sent,d=l.messages,A=void 0===d?[]:d,g=l.page_result,A.sort((function(e,t){return t.id-e.id})),!(A.length>0)){p.next=22;break}return m=Object(h.normalize)("messages",A),E=m.entities,p.next=22,Object(f.put)(Object(h.updateEntities)({entities:E}));case 22:if(v=c.oldestMessageId,b=null===(s=A[0])||void 0===s?void 0:s.id,y=(_=g||{}).has_more,!(C=_.next_last_update_time)){p.next=28;break}return p.next=28,Object(f.put)(We({conversationId:n,timeNow:C}));case 28:if(!(y&&v<b)){p.next=31;break}return p.next=31,Object(f.call)(Ye,{payload:{conversation:t}});case 31:p.next=40;break;case 33:if(p.prev=33,p.t0=p.catch(5),!(p.t0 instanceof h.CustomError)){p.next=40;break}return p.next=38,Object(f.put)(We({conversationId:n,timeNow:"0"}));case 38:return p.next=40,Object(f.put)(Object(a.c)({conversation:t,reset:!0}));case 40:case"end":return p.stop()}}),He,null,[[5,33]])}function Ve(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(ze,Ye);case 2:case"end":return e.stop()}}),Le)}var Xe=o()({},g.a.MESSAGE_UPDATE_TIME_NOW,(function(e,t){var n=t.payload,r=n.conversationId,s=n.timeNow,a=e.messageUpdateTimeMap;return Fe(Fe({},e),{},{messageUpdateTimeMap:Fe(Fe({},a),{},o()({},r,s))})}));function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=Object(s.createActions)(o()({},g.a.SET_ENTRY_POINT,(function(e){return{type:e.type,conversationId:e.conversationId}}))).setEntryPoint,Ke=o()({},g.a.SET_ENTRY_POINT,(function(e,t){var n=t.payload;return Ze(Ze({},e),{},{entryPoint:n})}));function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=[a.i,i.m,c.b,Re,L,l.e,P,N.g,S,i.n,oe,Te,Me,De.k,qe.c,Ve],nt={messageReducer:Object(s.handleActions)(et(et(et(et(et(et(et(et(et(et({},a.a),i.d),Ne),u.a),N.a),W.a),se),Ke),De.a),Xe),{status:"pendingInit",messageIdsHash:{},videoMap:{1234:{percentage:"10",size:"1300"}},offlineMessages:{},entryPoint:{},faqHistoryHash:{},faqId:null,faqHistoryStatus:"",reply:{toMessageId:{},inScrollToMessage:!1,scrollToMessageId:""},messageUpdateTimeMap:{}})}},function(e,t,n){"use strict";var r=n(4),o=n.n(r),s=n(11),a=n.n(s),i=n(12),c=n.n(i),u=n(6),l=n.n(u),d=n(13),p=n.n(d),f=n(14),A=n.n(f),h=n(8),g=n.n(h),m=n(0),E=n.n(m),v=n(1),b=n(9),_=n(2),y=n(189),C=n(190),x=n(103),S=E.a.memo((function(e){var t,n,r,o,s=e.content,a=void 0===s?{}:s,i=e.comingShopContent,c=void 0===i?{}:i,u=e.sendStatus,l=e.isSendByMe,d=e.isSubAccount,p=e.isScChat,f=e.isFaking,A=e.messageId,h=e.conversationId,g=a.status,m=a.id,v=a.shop_id;d?(n=c&&c.content?c.content:null)&&(t=n.id,o="https://".concat(Object(_.getMallUrl)(n.country),"/product/").concat(v,"/").concat(m,"/")):(r="https://".concat(Object(_.getSellerCenterUrl)(),"/portal/product/").concat(m),o="https://".concat(Object(_.getMallUrl)(),"/product/").concat(v,"/").concat(m));var b=a.id,y=a.image,C=a.name,S=a.original_price_string,O=a.actual_price_string,B={isSubAccount:d,originPrice:S,status:g,stock:a.stock,scProductLink:r,mallProductLink:o,shopId:t,itemId:b,sendStatus:u,isSendByMe:l,isScChat:p,isFaking:f,messageId:A,conversationId:h};return E.a.createElement(x.a,{id:b,category:"source",type:"product",image:y,name:C,price:O,extraProps:B})})),O=E.a.memo((function(e){var t=e.message,n=e.timeFlag,r=e.isSubAccount,o=e.isScChat,s=e.shopId,a=e.isSend,i=e.region,c=t.isFaking,u=t.source_type,l=t.sourceContent,d=void 0===l?{}:l,p=t.hasMessageSource,f=t.shopContent,A=void 0===f?{}:f,h=t.fetchStatus,g=void 0===h?"":h,m=t.send_status,v=t.id,_=t.conversation_id;if(!p)return null;var y,x={marginTop:n?"1.5em":"0.75em"};return g.includes("Source")?E.a.createElement(b.Processor,{type:"loading",messageType:"source",style:x}):d||"done"!==g?d?("product"===u?y=E.a.createElement(S,{isFaking:c,content:d.content,comingShopContent:A,sendStatus:m,isSendByMe:a,isSubAccount:r,isScChat:o,messageId:v,conversationId:_}):"order"===u&&(y=E.a.createElement(C.a,{isFaking:c,content:d.content,sendStatus:m,isSendByMe:a,isSubAccount:r,shopId:s,isScChat:o,region:i,messageId:v,conversationId:_})),y&&E.a.createElement("div",{style:x},y)):null:E.a.createElement(b.Processor,{type:"reload",messageType:"source",reloadRequest:(void 0).handleReload,style:x})})),B=n(195),w=n(196),I=n(198);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,j=_.MessageTypes.MSG_TYPE_OFFER,R=E.a.memo((function(e){var t=e.messageType,n=e.conversationShopId,r=e.messageContent,o=t===j&&n!==r.shop_id?T(T({},r),{},{tax_value:"0.00"}):r;return E.a.createElement(b.Processor,{type:"loading",messageType:t,content:o})}));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=_.MessageTypes.MSG_TYPE_BUNDLE_DEAL,q=_.MessageTypes.MSG_TYPE_FLASH_SALE,U=_.MessageTypes.MSG_TYPE_VOUCHER,F=_.MessageTypes.MSG_TYPE_SHOP_CATEGORY,H=_.MessageTypes.MSG_TYPE_ITEM_LIST,L=_.MessageTypes.MSG_TYPE_UNTATED_ORDER_REMINDER,G=_.MessageTypes.MSG_TYPE_SHOPPING_CART,z=_.MessageTypes.MSG_TYPE_PRODUCT,W=_.MessageTypes.MSG_TYPE_VIDEO,Y=_.MessageTypes.MSG_TYPE_IMAGE,V=_.MessageTypes.MSG_TYPE_TEXT,X=(k={},o()(k,D,"impressionBundleDealCard"),o()(k,q,"impressionFlashSaleCard"),o()(k,U,"impressionVoucherCard"),o()(k,F,"impressionProductCategoryCard"),o()(k,H,"impressionProductListCard"),o()(k,z,"impressionProductCard"),o()(k,L,"impressionRateCard"),o()(k,G,"impressionCartCard"),o()(k,W,"impressionVideoMessage"),o()(k,Y,"impressionImageMessage"),k),Q=function(e){var t=e.trackerName,n=void 0===t?"":t,r=e.operation,o=void 0===r?"impression":r,s=e.data,a=void 0===s?{}:s,i=e.info,c=i.message,u=c.id,l=c.type,d=c.content,p=c.source,f=c.textContent,A=void 0===f?{}:f,h=c.to_id,g=c.from_id,m=c.request_id,E=c.crm_activity_id,b=i.conversation,y=b.buyerId,C=b.shopId,x=b.id,S=N({message_id:u,crm_activity_id:E||"",from_source:E?"CRM":"",conversation_id:x},a);switch(l){case V:S=N({message_id:u,conversation_id:x,message_type:_.ApiMessageTypes[V],is_sender:y===h},a);break;case D:S.bundle_deal_id=d.bundle_deal_id;break;case q:S.flash_sale_id=d.flash_sale_id;break;case L:S.order_id=d.order_id;break;case U:var O=y===h,B=A.status,w=void 0===B?"":B,I=A.claimed,M=["unclaimed","claimed","expired"];S.voucher_id=d.voucher_id,O||(S=N(N({},S),{},{shopid:C,promotion_id:d.voucher_id,promotion_shopid:C,source:p,voucher_status:"finished"===w?M[2]:I?M[1]:M[0],is_sender:O}));break;case F:S.shop_collection_id=d.collection_id;break;case W:S={message_id:u===m?0:u,is_sender:y===h,to_user_id:h,from_user_id:g,video_original_duration:d.duration_seconds,conversation_id:x};break;case Y:var T=y===h;if(!d.unknown_qr_code||T)return;S={shopid:C,message_id:u===m?0:u,conversation_id:x}}var k={trackerName:n||X[l],data:S,shopId:C};"impression"!==o?Object(v.clickTracker)(k):Object(v.impressionTracker)(k)},Z=n(62),J=n.n(Z),K=n(36),$=n.n(K),ee=n(16),te=n(10),ne={setReplyToMessage:ee.setReplyToMessage,deleteMessageRequested:ee.deleteMessageRequested},re=Object(te.connect)((function(e){return{scrollToMessageId:Object(v.scrollToMessageIdSelector)(e),hasReplyPermission:Object(v.hasReplyPermissionSelector)(e),hasDeletePermission:Object(v.hasDeletePermissionSelector)(e),currentConversationId:Object(v.currentConversationIdSelector)(e),deleteConfigDuration:Object(v.deleteConfigDurationSelector)(e)}}),ne)((function(e){return E.a.createElement(b.MessageToolbar,$()({},e,{impressionTracker:v.impressionTracker,clickTracker:v.clickTracker}))}));function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=_.MessageTypes.MSG_TYPE_WEBVIEW,ie=_.MessageTypes.MSG_TYPE_NOTIFICATION,ce=_.MessageTypes.MSG_TYPE_ORDER,ue=_.MessageTypes.MSG_TYPE_OFFER,le=_.MessageTypes.MSG_TYPE_RATE_CARDS,de=_.MessageTypes.MSG_TYPE_VIDEO,pe=_.MessageTypes.MSG_TYPE_TEXT,fe=["index","timeFlag","isLastMessage"];t.a=function(e){var t=function(t){p()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A()(this,n)}}(r);function r(e,t){var o;a()(this,r),o=n.call(this,e,t);var s=e.index,i=e.message,c=e.newMessageFlag,u=e.exposedMessageIds,d=void 0===u?[]:u,p=e.addExposedMessageId,f=i.type===ce&&"done"===i.fetchStatus&&!i.order;if((0===s||i.type===ue||c||f)&&(o.needRemeasure=!0),o.onReload=o.onReload.bind(l()(o)),o.handleResendMessage=o.handleResendMessage.bind(l()(o)),o.handleCancelMessage=o.handleCancelMessage.bind(l()(o)),o.track=o.track.bind(l()(o)),o.timer=null,o.messageNode=null,o.shouldExpose=!0,o.clearTimer=o.clearTimer.bind(l()(o)),o.needExpose="function"==typeof IntersectionObserver&&X[o.props.message.type]&&!d.includes(o.props.message.id),o.needExpose){var A={root:document.querySelector("#messagesContainer"),threshold:.5};o.observer=new IntersectionObserver((function(e){var t=e[0];t&&t.isIntersecting&&t.intersectionRatio>=.5?!o.timer&&o.shouldExpose&&(o.shouldExpose=!1,o.timer=setTimeout((function(){o.track(),o.clearTimer(),p&&p(o.props.message.id)}),1e3)):t&&t.intersectionRatio<=0&&(o.shouldExpose=!0)}),A)}return o}return c()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.message,n=e.hasSourceMessageMap;void 0===n[t.id]&&(n[t.id]=t.hasMessageSource),this.needExpose&&this.observer.observe(this.messageNode),this.measureMessage()}},{key:"componentWillUnmount",value:function(){this.clearTimer(),this.needExpose&&this.observer.unobserve(this.messageNode)}},{key:"componentDidUpdate",value:function(e){var t=this,n=e.message,r=e.hasSourceMessageMap,o=e.newMessageFlag,s=e.showWarningMessageIds,a=this.props,i=a.message,c=a.newMessageFlag,u=a.showWarningMessageIds,l=!1;if(n.type===ue)l=(n.textContent&&n.textContent.status)!==(i.textContent&&i.textContent.status);else{var d=["errorCode","status","send_status","fetchStatus"];i.type!==ae&&d.push("content"),(l=d.some((function(e){return n[e]!==i[e]})))||(l=fe.some((function(n){return t.props[n]!==e[n]})))}r[i.id]!==i.hasMessageSource&&(l=!0,r[i.id]=i.hasMessageSource),o!==c&&(l=!0),n.type===pe&&s.indexOf(n.id)!==u.indexOf(i.id)&&(l=!0),!Object(_.isDeletedMessage)(n)&&Object(_.isDeletedMessage)(i)&&(l=!0),l&&(this.needRemeasure=l),this.measureMessage()}},{key:"clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"onReload",value:function(){var e=this.props,t=e.message;(0,e.populateMessageRequested)({message:t})}},{key:"measureMessage",value:function(){this.needRemeasure&&(this.props.measure(),this.needRemeasure=!1)}},{key:"handleResendMessage",value:function(){var e=this.props,t=e.message,n=e.resendMessageRequested,r=e.conversationId,o=e.conversationShopId,s=e.conversationStatus,a=t.id;t.type===de&&Object(v.clickTracker)({shopId:o,trackerName:"clickResendVideo",data:{message_id:a,conversation_id:r}}),n({conversationId:r,conversationStatus:s,message:t})}},{key:"handleCancelMessage",value:function(){var e=this.props,t=e.message,n=e.cancelSendingMessageRequested,r=e.conversationId,o=e.conversationShopId,s=t.id;Object(v.clickTracker)({shopId:o,trackerName:"clickCancelVideo",data:{message_id:s,conversation_id:r}}),n({id:s,conversationId:r})}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"impression",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.props,o=r.message,s=r.conversationBuyerId,a=r.conversationId,i=r.conversationShopId;Q({trackerName:e,operation:t,data:n,info:{message:o,conversation:{buyerId:s,shopId:i,id:a}}})}},{key:"processMessage",value:function(e){var t=e.quoted_msg;if(t){var n=this.props.conversationBuyerId,r=t.to_id===n;return se(se({},e),{},{quoted_msg:se(se({},t),{},{isSend:r})})}return e}},{key:"renderMessage",value:function(t){var n=this.props,r=n.message,o=n.measure,s=n.timeFlag,a=n.isScChat,i=n.isSubAccount,c=n.newMessageFlag,u=n.isLastSystemMessage,l=n.showWarningMessageIds,d=n.shop,p=n.conversationId,f=n.conversationShopId,A=n.conversationBuyerId,h=n.conversationStatus,g=n.isInFaqHistoryModal,m=void 0!==g&&g,v=r.type,C=r.send_status,x=r.hasMessageSource,S=r.fetchStatus,M=void 0===S?"":S,T=r.content,k=void 0===T?{}:T,j=r.from_shop_id,P=r.request_id,N=!t&&c,D=v===_.MessageTypes.MSG_TYPE_TEXT&&!t&&-1!==l.indexOf(r.id),q=v===ie||v===ae&&k.type===le&&(t||i),U=q?J.a.message:t?J.a.messageSend:J.a.messageReceive,F=!(x||s||u||q)||s&&q?"4px":"8px",H=(d&&d.country?d.country:"SG").toLowerCase(),L="closed"===h,G=Object(_.isDeletedMessage)(r),z=this.processMessage(r);return E.a.createElement(E.a.Fragment,null,N&&E.a.createElement(y.a,null),s&&E.a.createElement("div",{className:J.a.messageTime},s),E.a.createElement(O,{message:z,timeFlag:s,isSubAccount:i,isScChat:a,shopId:f,isSend:t,region:H}),E.a.createElement("div",{style:{marginTop:F},className:U},t&&E.a.createElement(B.a,{isClosed:L,message:z,resendMessage:this.handleResendMessage}),t&&!q&&E.a.createElement(w.a,{type:v,status:C,requestId:P,handleCancelMessage:this.handleCancelMessage}),G?E.a.createElement(b.DeletedMessage,{isSend:t}):E.a.createElement(re,{isSend:t,message:z,isInFaqHistoryModal:m,isClosed:L},E.a.createElement("div",{className:J.a.bubble},M.includes("Card")?E.a.createElement(R,{messageContent:k,messageType:v,conversationShopId:f}):E.a.createElement(e,{message:z,isScChat:a,isSend:t,measure:o,isSubAccount:i,handleReload:this.onReload,track:this.track,shop:d,region:H,conversationId:p,conversationShopId:f,conversationBuyerId:A,conversationStatus:h,isInFaqHistoryModal:m})))),E.a.createElement(I.a,{message:z,buyerId:A,shop:d}),D&&E.a.createElement(b.TextWarning,{shopId:j,region:H}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.message,o=t.isLastMessage,s=t.conversationBuyerId,a=t.className,i=this.renderMessage(r.to_id===s),c="".concat(J.a.root," ").concat(o?J.a.lastMessage:""," ").concat(a);return E.a.createElement("div",{style:n,className:c,ref:function(t){return e.messageNode=t}},i)}}]),r}(E.a.PureComponent);return t.defaultProps={showWarningMessageIds:[]},t}},function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=a(l),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:l,updater:h(p,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var s=n.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function p(e,t,n){var r=n.css,o=n.media,s=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),s&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,A=0;function h(e,t){var n,r,o;if(t.singleton){var s=A++;n=f||(f=c(t)),r=d.bind(null,n,s,!1),o=d.bind(null,n,s,!0)}else n=c(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);s[o].references--}for(var c=i(e,t),u=0;u<n.length;u++){var l=a(n[u]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=c}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,s=e[1]||"",a=e[3];if(!a)return s;if(t&&"function"==typeof btoa){var i=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[s].concat(c).concat([i]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.DELETE_CONVERSATION_MESSAGE_HASH="DELETE_CONVERSATION_MESSAGE_HASH",e.SET_ENTRY_POINT="SET_ENTRY_POINT",e.EVALUATION_REQUESTED="EVALUATION_REQUESTED",e.FETCH_FAQ_MESSAGES_REQUESTED="FETCH_FAQ_MESSAGES_REQUESTED",e.FETCH_FAQ_MESSAGES_SUCCEEDED="FETCH_FAQ_MESSAGES_SUCCEEDED",e.UPDATE_FETCH_FAQ_MESSAGES_REQUESTED_STATUS="UPDATE_FETCH_FAQ_MESSAGES_REQUESTED_STATUS",e.UPDATE_CURRENT_FAQ_ID="UPDATE_CURRENT_FAQ_ID",e.SHOW_FAQ_HISTORY_MODAL="SHOW_FAQ_HISTORY_MODAL",e.FETCH_MESSAGES_REQUESTED="FETCH_MESSAGES_REQUESTED",e.FETCH_MESSAGES_SUCCEEDED="FETCH_MESSAGES_SUCCEEDED",e.UPDATE_FETCH_MESSAGES_REQUESTED_STATUS="UPDATE_FETCH_MESSAGES_REQUESTED_STATUS",e.UPDATE_PRELOADED_MESSAGES="UPDATE_PRELOADED_MESSAGES",e.DELETE_PRELOADED_MESSAGES="DELETE_PRELOADED_MESSAGES",e.HANDLE_SENSITIVE_URL="HANDLE_SENSITIVE_URL",e.SEND_MESSAGES_FAILED_BY_OFFLINE="SEND_MESSAGES_FAILED_BY_OFFLINE",e.RESET_MESSAGES_FAILED_BY_OFFLINE="RESET_MESSAGES_FAILED_BY_OFFLINE",e.RESEND_OFFLINE_MESSAGES_ONCE="RESEND_OFFLINE_MESSAGES_ONCE",e.RESEND_OFFLINE_MESSAGES_ONCE_SUCCEED="RESEND_OFFLINE_MESSAGES_ONCE_SUCCEED",e.POPULATE_MESSAGE_REQUESTED="POPULATE_MESSAGE_REQUESTED",e.RECEIVE_MESSAGE_REQUESTED="RECEIVE_MESSAGE_REQUESTED",e.RECEIVE_MESSAGE_SUCCEEDED="RECEIVE_MESSAGE_SUCCEEDED",e.RESET_NEW_CONVERSATION_QUEUE="RESET_NEW_CONVERSATION_QUEUE",e.RESET_OLD_CONVERSATION_QUEUE="RESET_OLD_CONVERSATION_QUEUE",e.RESET_CONVERSATION_QUEUE="RESET_CONVERSATION_QUEUE",e.RESEND_MESSAGE_REQUESTED="RESEND_MESSAGE_REQUESTED",e.SEND_MESSAGES_REQUESTED="SEND_MESSAGES_REQUESTED",e.SEND_MESSAGES_SUCCEEDED="SEND_MESSAGES_SUCCEEDED",e.SENDING_MESSAGES="SENDING_MESSAGES",e.SEND_MESSAGES_TO_PENDING="SEND_MESSAGES_TO_PENDING",e.SEND_MESSAGES_FAILED="SEND_MESSAGES_FAILED",e.ABORT_ALL_SENDING_MESSAGES="ABORT_ALL_SENDING_MESSAGES",e.CANCEL_SENDING_MESSAGE_REQUESTED="CANCEL_SENDING_MESSAGE_REQUESTED",e.CANCEL_SENDING_MESSAGE_SUCCEEDED="CANCEL_SENDING_MESSAGE_SUCCEEDED",e.SEND_VIDEO_MESSAGE_REQUESTED="SEND_VIDEO_MESSAGE_REQUESTED",e.SEND_PRODUCTS_MESSAGE_REQUESTED="SEND_PRODUCTS_MESSAGE_REQUESTED",e.TRANSLATE_MESSAGES_REQUESTED="TRANSLATE_MESSAGES_REQUESTED",e.CHANGE_TRANSLATE_STATUS="CHANGE_TRANSLATE_STATUS",e.UPDATE_VIDEO_INFO="UPDATE_VIDEO_INFO",e.DELETE_VIDEO_INFO="DELETE_VIDEO_INFO",e.MESSAGE_SYNC_UPDATE="MESSAGE_SYNC_UPDATE",e.MESSAGE_UPDATE_TIME_NOW="MESSAGE_UPDATE_TIME_NOW",e.SHOW_TRANSLATE_FEEDBACK="SHOW_TRANSLATE_FEEDBACK",e.SEND_TRANSLATE_FEEDBACK="SEND_TRANSLATE_FEEDBACK"}(r||(r={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"t",(function(){return s}));var r=n(47),o=n.n(r),s=o.a.t.bind(o.a)},function(e,t,n){var r=n(64),o=n(65),s=n(52),a=n(66);e.exports=function(e,t){return r(e)||o(e,t)||s(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},,,function(e,t,n){var r=n(127),o=n(128),s=n(52),a=n(129);e.exports=function(e){return r(e)||o(e)||s(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return N})),n.d(t,"e",(function(){return q})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return F}));var r=n(22),o=n.n(r),s=n(4),a=n.n(s),i=n(25),c=n.n(i),u=n(5),l=n.n(u),d=n(3),p=n(16),f=n(1),A=n(2),h=n(92),g=n.n(h),m=l.a.mark(O),E=l.a.mark(I),v=l.a.mark(M),b=l.a.mark(N);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=["product","order","offer","voucher","feed_story","unrated_order_reminder","bundle_message"],x=function(e,t){for(var n,r=e.length,o=t.length,s=0,a=0,i=new Array(r+o).fill(0);s<r||a<o;)n=s===r?t[a++]:a===o?e[s++]:/^\d+$/.test(e[s])?Object(A.greaterThan)(e[s],t[a])?e[s++]:t[a++]:e[s++],i[s+a-1]=n;return c()(new Set(i))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,s=void 0===o||o,a=e||{},i=a.created_timestamp,c=a.message_option,u=r?{max_general_option_hide_time:i}:{},l=s?{last_message_option:c}:{};return y(y({},u),l)};function O(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],n=[],Object.entries(e).forEach((function(e){var t=o()(e,2),r=t[0],s=t[1];Array.isArray(s)?n.push(Object(d.call)(p.getPopulateContent,r,c()(new Set(s)))):Object.entries(s).forEach((function(e){var t=o()(e,2),s=t[0],a=t[1];n.push(Object(d.call)(p.getPopulateContent,r,{shopId:s,id:c()(new Set(a))}))}))})),r.next=5,Object(d.all)(n);case 5:return r.sent.forEach((function(e){var n=Object(f.normalize)("voucher_web"===e.type?"vouchers":Object(A.camelCase)(e.type),e.content);t.push(Object(d.put)(Object(f.updateEntities)({entities:n.entities})))})),r.next=9,Object(d.all)(t);case 9:case"end":return r.stop()}}),m)}function B(e,t,n,r){var s=[],a={sourceInfo:n,contentInfo:r},i=t.filter((function(e){return"shops"===e.type}));return Object.keys(a).forEach((function(n){Object.entries(a[n]).forEach((function(r){var a=o()(r,2),c=a[0],u=a[1];Object.entries(u).forEach((function(r){var a=o()(r,2),u=a[0],l=a[1];s=s.concat(l);var d=t.find((function(e){return e.type===c&&e.content&&parseInt(e.content.id+"")===parseInt(u)}));l.forEach((function(t){switch(n){case"sourceInfo":if(e[t].sourceContent=d,d){var r=i.findIndex((function(e){return[d.content.shop_id,d.content.id].includes(e.content.id)}));e[t].shopContent=-1!==r?i[r]:{}}else e[t].shopContent={};break;case"contentInfo":e[t].textContent=d&&d.content||{}}}))}))}))})),c()(new Set(s))}function w(e,t){var n={},r=[],o=[],s=[];return t.forEach((function(e){var t=e.content,o=t.id,s=t.result,a=t.fetchStatus;n[o]=s,"failed"===a&&r.push(o)})),e.forEach((function(e,t){"shopping_cart"===e.type&&n[e.id]&&(e.textContent=n[e.id],o.push(t)),r.includes(e.id)&&s.push(t)})),[c()(new Set(o)),c()(new Set(s))]}function I(e,t){var n,r,s,a,i,c;return l.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=[],Object.entries(t).forEach((function(e){var t=o()(e,2),r=t[0],s=t[1];n.push(Object(d.call)(p.getPopulateContent,"shopping_cart",{id:r,cartItems:s}))})),u.next=4,Object(d.all)(n);case 4:r=u.sent,s=w(e,r),a=o()(s,2),i=a[0],c=a[1],e.forEach((function(e,t){i.includes(t)&&(e.fetchStatus="done"),c.includes(t)&&(e.fetchStatus="failed")}));case 7:case"end":return u.stop()}}),E)}function M(e,t){var n,r,s,a,i,u,h,g,m,E,b,_;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=t.merge,r=t.source,s=t.content,a=t.sourceShops,i=t.webviews,u=t.cartReminders,l.t0=Object.keys(i).length,!l.t0){l.next=5;break}return l.next=5,Object(d.fork)(O,i);case 5:return h=[],Object.entries(n).forEach((function(e){var t,n=o()(e,2),r=n[0],s=n[1];(t=h).push.apply(t,c()(s.map((function(e){return Object(d.call)(p.getPopulateContent,r,e)}))))})),g=Array.from(new Set(a)).map((function(e){return Object(d.call)(p.getPopulateContent,"shops",e)})),h=h.concat(g),l.next=11,Object(d.all)(h);case 11:if(m=l.sent,E=B(e,m,r,s),e.filter((function(e,t){return E.includes(t)})).forEach((function(e){e.fetchStatus="done"})),l.t1=Object.keys(u).length,!l.t1){l.next=18;break}return l.next=18,Object(d.call)(I,e,u);case 18:return e[0]&&window.clickedConversationId===e[0].conversation_id&&(window.populateMessageConversationId=window.clickedConversationId),(b=c()(e)).forEach((function(t){var n=t.quoted_msg;if(n){var r=e.find((function(e){return e.id===n.id}));r&&!Object(A.isDeletedMessage)(r)&&(t.quoted_msg=r)}})),_=Object(f.normalize)("messages",b),l.next=24,Object(d.put)(Object(f.updateEntities)({name:"messages",entities:_.entities}));case 24:case"end":return l.stop()}}),v)}A.MessageTypes.MSG_TYPE_OFFER,A.MessageTypes.MSG_TYPE_ORDER;var T=A.MessageTypes.MSG_TYPE_UNTATED_ORDER_REMINDER,k=A.MessageTypes.MSG_TYPE_BUNDLE_MESSAGE,j=function(e,t,n){return e.some((function(e){return e[t]===n}))},R=function(e,t,n,r){!e[t][n]&&(e[t][n]={}),!e[t][n][r]&&(e[t][n][r]=[]),!e.merge[n]&&(e.merge[n]=[])},P=function(e,t,n){var r={source:{},content:{},merge:{},sourceShops:[],webviews:{},cartReminders:{}};return t.forEach((function(t,o){var s=t.id,a=t.source_type,i=t.source_content,c=void 0===i?{}:i,u=t.type,l=t.content,d=void 0===l?{}:l,p=t.hasPopulated,f=!e[s]||!e[s].fetchStatus;if(a&&c){var h=c["".concat(a,"_id")];if(h&&![-1,0].includes(h)){var g=c.shop_id;R(r,"source",a,h),n&&r.sourceShops.push(g),r.source[a][h].push(o),f&&(t.fetchStatus="pendingSource"),j(r.merge[a],"id",h)||r.merge[a].push({id:h,shopId:g})}}if(C.includes(u)&&d){f&&(t.fetchStatus="pendingSource"===t.fetchStatus?"pendingCardAndSource":"pendingCard");var m=d.shop_id,E=function(e){var t=e.type,n=e.content,r=e.id;return t===T?n.order_id:t===k?r:n["".concat(t,"_id")]}(t),v=d.creator_id,b=d.messages;R(r,"content",u,E),r.content[u][E].push(o),j(r.merge[u],"id",E)||r.merge[u].push({id:E,shopId:m,creatorId:v,faqMessageIds:b})}else if("webview"===u){var _=d.url,x=void 0===_?"":_,S=x.split("/"),O=S[S.length-2],B="rate_cards"===(O="voucher"===O?"".concat(O,"_web"):O)?Object(A.getUrlParam)("id",x):parseInt(Object(A.getUrlParam)("id",x)),w=Object(A.getUrlParam)("shop_id",x);t.content=y(y({},d),{},{id:B,type:O}),p||(w&&(R(r,"webviews",O,w),r.webviews[O][w].push(B)),w||(R(r,"webviews",O,"0"),r.webviews[O][0].push(B)),t.content.fetchStatus="pendingCard")}else if("shopping_cart"===u){var I=t.content.cart_items,M=t.id;t.fetchStatus="pendingCard",r.cartReminders[M]=I}})),r};function N(e,t,n){var r,o,s,a,i=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>3&&void 0!==i[3]&&i[3],t.next=3,Object(d.select)((function(e){return e.entityReducer}));case 3:return o=t.sent,s=o.messages,t.next=7,Object(d.call)(P,s,e,n);case 7:if(a=t.sent,!r){t.next=13;break}return t.next=11,Object(d.call)(M,e,a);case 11:t.next=15;break;case 13:return t.next=15,Object(d.spawn)(M,e,a);case 15:case"end":return t.stop()}}),b)}var D={1:"product_entry_point",2:"order_entry_point",3:"shop_entry_point",8:"product_inactive_seller",10:"lowest_price_guaranteed",11:"poor_fulfilment"},q=function(e){var t=e.id,n=e.recipientID,r=e.message,o=e.redirectInfo,s=e.conversationId,a=e.entryPoint,i=e.replyToMessageId,c=t||g()(),u=r.content,l=r.type,d=r.shopId,p={id:c,type:l,content:u,isFaking:r.isFaking,to_id:n,shop_id:d,request_id:c,created_timestamp:Math.floor(Date.now()/1e3),chat_send_option:{force_send_cancel_order_warning:!1,comply_cancel_order_warning:!1}};if(i&&(p.content=y(y({},p.content),{},{quoted_msg_id:i})),a&&a.type&&a.conversationId===s?p.entry_point=D[a.type]:p.entry_point="direct_chat_entry_point",o){var f=o.orderId,A=o.productId,h=o.conversationId,m=o.shopId;if(parseInt(s)===parseInt(h)){if(f){var E=parseInt(f);p=y(y({},p),{},{order_id:E,source_content:{order_id:E,shop_id:m},source_type:"order"})}if(A){var v=parseInt(A);p=y(y({},p),{},{product_id:v,source_content:{product_id:v,shop_id:m},source_type:"product"})}}}return p},U=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}},F=function(e,t){return e===t?0:Object(A.greaterThan)(e,t)?1:-1}},function(e,t){e.exports=d},,,,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n(25);var r=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},o=function(e,t){return e>t},s=function(e){return e[e.length-1]},a=function(e,t){return e?function(){}:t},i=function(e,t){return e.length===t.length&&e.every((function(e,n){var r=t[n];return JSON.stringify(e)===JSON.stringify(r)}))}}).call(this,n(21).t)},function(e,t,n){var r=n(18),o=n(238);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},,function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r=n(22),o=n.n(r),s={};Object.entries({"input-field":["fetchMessageShortcutsGroupRequested","updateFetchMessageShortcutsGroupStatus","fetchMessageShortcutsGroupSucceeded","setCurrentGroupType","setCurrentGroupId","fetchOffersRequested","fetchOffersSucceed","updateFetchOffersRequestedStatus","getPendingOffersCountRequested","getPendingOffersCountSucceed","replyOfferRequested","fetchAllOrdersRequested","fetchOrdersRequested","fetchOrdersSucceed","updateFetchOrdersStatus","fetchAllOrders","fetchOrders","fetchProductsRequested","fetchMyShopProducts","fetchProductsSucceed","updateMyShopProductsRequestedStatus","updateOtherShopProductsRequestedStatus","updateAllShopProductsRequestedStatus","updateMyShopSearchKeyword","updateOtherShopSearchKeyword","updateSelectedProductTab","fetchAllProductsRequested","fetchAllShopProducts","fetchProducts","initPacks","initStickers","selectSticker","updateCurrentSticker","fetchSingleStickerRequested","fetchSingleStickerSucceeded","updateFetchPacksRequestedStatus","updateFetchStickersRequestedStatus","fetchStickersRequested","fetchStickersRequestedSaga","claimVoucherRequested","fetchVouchersRequested","fetchVouchersSucceeded","updateFetchVouchersRequestedStatus"],"message-section":["deleteConversationMessageHash","deleteMessageRequested","deleteMessagePostRequested","setEntryPoint","evaluationRequested","showMyRateCard","showRateCard","fetchFaqMessagesRequested","fetchFaqMessagesSucceeded","updateFetchFaqMessagesRequestedStatus","updateCurrentFaqId","showFaqHistoryModal","fetchMessagesRequested","fetchMessagesSucceeded","updateFetchMessagesRequestedStatus","updatePreloadedMessages","deletePreloadedMessages","fetchMessagesRequestedWithPreloadSaga","fetchMessagesRequestedSaga","handleSensitiveUrl","sendMessagesFailedByOffline","resetMessagesFailedByOffline","resendOfflineMessagesOnce","resendOfflineMessagesOnceSucceed","updateResendConversationMessage","populateMessageRequested","getPopulateContent","receiveMessageRequested","receiveMessageSucceeded","resetNewConversationQueue","resetOldConversationQueue","resetConversationQueue","handleCurrentConversationChange","setReplyToMessage","resetReplyToMessage","scrollToMessage","setScrollToMessageId","resetScrollToMessageId","setInScrollToMessage","setCurrentConversationReplyToMessage","resetCurrentConversationReplyToMessage","resendMessageRequested","sendMessagesRequested","sendMessagesSucceeded","sendingMessages","sendMessagesToPending","sendMessagesFailed","abortAllSendingMessages","cancelSendingMessageRequested","cancelSendingMessageSucceeded","sendVideoMessageRequested","sendProductsMessageRequested","handleSendSucceededMessages","sendMessages","messageSyncUpdate","messageUpdateTimeNow","translateMessagesRequested","changeTranslateStatus","showTranslateFeedback","sendTranslateFeedback","populateWebviewContent","populateCartReminder","populateRoughMessage","populateMessageWithSourceAndContent","updateVideoInfo","deleteVideoInfo","uploadVideoGetToken","uploadVideGetResult","uploadVideo"]}).forEach((function(e){var t=o()(e,2),n=t[0];t[1].forEach((function(e){s[e]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.payload,o=t.isLazy;return{id:n,action:e,payload:r,isLazy:o}}}))})),t.default=s},function(e,t,n){var r=n(18),o=n(252);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){"use strict";(function(e,r){n.d(t,"h",(function(){return le})),n.d(t,"i",(function(){return de})),n.d(t,"l",(function(){return pe})),n.d(t,"j",(function(){return fe})),n.d(t,"g",(function(){return Ae})),n.d(t,"a",(function(){return he})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return me})),n.d(t,"k",(function(){return Ee})),n.d(t,"e",(function(){return Oe})),n.d(t,"f",(function(){return Be})),n.d(t,"n",(function(){return Te})),n.d(t,"m",(function(){return ke}));var o,s=n(22),a=n.n(s),i=n(25),c=n.n(i),u=n(4),l=n.n(u),d=n(5),p=n.n(d),f=n(92),A=n.n(f),h=n(29),g=n(201),m=n.n(g),E=n(202),v=n.n(E),b=n(203),_=n.n(b),y=n(15),C=n(3),x=n(1),S=n(70),O=n(46),B=n(71),w=n(74),I=n(28),M=n(40),T=n(2),k=p.a.mark(be),j=p.a.mark(_e),R=p.a.mark(ye),P=p.a.mark(xe),N=p.a.mark(Oe),D=p.a.mark(Be),q=p.a.mark(we),U=p.a.mark(Ie),F=p.a.mark(Me),H=p.a.mark(Te),L=p.a.mark(ke);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=T.MessageTypes.MSG_TYPE_IMAGE,Y=T.MessageTypes.MSG_TYPE_TEXT,V=T.MessageTypes.MSG_TYPE_VOUCHER,X=T.MessageTypes.MSG_TYPE_VOUCHER_WEB,Q=T.MessageTypes.MSG_TYPE_WEBVIEW,Z=T.MessageTypes.MSG_TYPE_VIDEO,J=(T.MessageTypes.MSG_TYPE_ITEM_LIST,T.MessageTypes.MSG_TYPE_RATE_CARDS),K=T.MessageErrorCode.DEFAULT,$=T.MessageErrorCode.FORBIDDEN,ee=T.MessageErrorCode.LIMITING,te=T.MessageErrorCode.CUSTOM_ERROR,ne=T.MessageErrorCode.BLACKLIST,re=T.MessageErrorCode.CANCEL_ORDER,oe=T.MessageErrorCode.UNVERIFIED_PHONE_NUMBER,se=T.MessageErrorCode.EXCEED_DAILY_LIMIT,ae=T.MessageErrorCode.UNTRUSTED_NETWORK,ie=T.MessageErrorCode.NEED_CAPTCHA,ce=T.MessageErrorCode.DFP_ERROR,ue=Object(y.createActions)({SEND_MESSAGES_REQUESTED:function(e){var t=e.id,n=e.conversationId,r=e.conversationUserId,o=e.messages,s=e.more;return{id:t,conversationId:n,conversationUserId:r,messages:o,more:void 0===s?{}:s}},SEND_MESSAGES_SUCCEEDED:function(e){return{conversationId:e.conversationId,requestIdToMessageId:e.requestIdToMessageId}},SENDING_MESSAGES:function(e){var t=e.conversationId,n=e.requestIds,r=e.isCancelable;return{conversationId:t,requestIds:n,isCancelable:void 0!==r&&r}},SEND_MESSAGES_TO_PENDING:function(e){return{conversationId:e.conversationId,requestIds:e.requestIds}},SEND_MESSAGES_FAILED:function(e){return{conversationId:e.conversationId,requestIds:e.requestIds}},ABORT_ALL_SENDING_MESSAGES:function(){return{}},CANCEL_SENDING_MESSAGE_REQUESTED:function(e){return{id:e.id,conversationId:e.conversationId}},CANCEL_SENDING_MESSAGE_SUCCEEDED:function(e){return{id:e.id,conversationId:e.conversationId}},SEND_VIDEO_MESSAGE_REQUESTED:function(e){var t=e.conversationId,n=e.conversationUserId,r=e.message,o=e.isResend;return{conversationId:t,conversationUserId:n,message:r,isResend:void 0!==o&&o}}}),le=ue.sendMessagesRequested,de=ue.sendMessagesSucceeded,pe=ue.sendingMessages,fe=ue.sendMessagesToPending,Ae=ue.sendMessagesFailed,he=ue.abortAllSendingMessages,ge=ue.cancelSendingMessageRequested,me=ue.cancelSendingMessageSucceeded,Ee=ue.sendVideoMessageRequested;function ve(e,t){return delete e.errorCode,delete e.error,z(z({},e),{},{chat_send_option:{force_send_cancel_order_warning:t,comply_cancel_order_warning:!t}})}function be(t){var n,r,o,s,a,i,c,u;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.conversationId,o=n.conversationUserId,s=n.message,a=n.isResend,l.next=3,Object(C.call)(M.h,r,s.shopId||s.shop_id);case 3:if(null!==(i=l.sent)){l.next=8;break}return l.next=7,Object(C.call)(x.setToastInformationSaga,Object(x.setToastInformation)({toast:{show:!0,type:"fail",message:e("toast.chat_bot_limit")}}));case 7:return l.abrupt("return");case 8:if(!1!==i){l.next=12;break}return l.next=11,Object(C.call)(x.setToastInformationSaga,Object(x.setToastInformation)({error:null}));case 11:return l.abrupt("return");case 12:return c=a?s.id:A()(),u=z({},i),a&&(u.precent=0),l.next=17,Object(C.put)(Object(M.d)({id:c,info:u}));case 17:return l.next=19,Object(C.put)(le({id:c,conversationId:r,conversationUserId:o,messages:[z(z({},s),{},{type:Z})],more:{isResend:a}}));case 19:case"end":return l.stop()}}),k)}function _e(e,t){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(C.delay)(1e3);case 2:return n.next=4,Object(C.put)(fe({conversationId:e,requestIds:t}));case 4:case"end":return n.stop()}}),j)}function ye(e,t){var n,r,o,s,a,i,c,u,l,d,f,A,g,m,E,v;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=e.type,r=e.request_id,o=e.content,s=o.url,a=o.file,i=o.duration_seconds,c=o.video_url,u=n===Z,p.prev=2,n!==W||s){p.next=24;break}return(l=new window.FormData).append("file",a),l.append("conversation_id",t),p.next=9,Object(C.call)(x.fetch,{method:"POST",subServer:"coreapi",resource:"images",payload:l});case 9:d=p.sent,f=d.url,A=d.thumbnail,g=d.thumb_width,m=d.thumb_height,E=d.file_server_id,e.content.url_hash=f.split("/").pop(),e.content.url=f,e.content.thumb_url=A,e.content.thumb_width=g,e.content.thumb_height=m,e.content.file_server_id=E,delete e.content.file,p.next=30;break;case 24:if(!u||c){p.next=30;break}return p.next=27,Object(C.call)(M.g,{id:r,file:a,duration:i,onProgress:function(e){h.store.dispatch(Object(M.d)({id:r,info:{percent:e}}))}});case 27:v=p.sent,e.content=z(z({},e.content),v),delete e.content.file;case 30:return p.abrupt("return",!0);case 33:if(p.prev=33,p.t0=p.catch(2),p.t1=u,!p.t1){p.next=39;break}return p.next=39,Object(C.put)(Object(M.d)({id:r,info:{percent:void 0}}));case 39:return p.abrupt("return",!1);case 40:case"end":return p.stop()}}),R,null,[[2,33]])}var Ce=["request_id","to_id","type","content","shop_id","order_id","source","chat_send_option","source_content","source_type","entry_point"];function xe(t,n,o){var s,a,i,c,u,l,d,f,A,h,g,E;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return s="",a={},Ce.forEach((function(e){t[e]&&(a[e]=t[e]),a[e]&&a[e].localUrl&&(s=a[e].localUrl,delete a[e].localUrl)})),t.retryRequestId&&(a.request_id=t.retryRequestId),i=JSON.stringify(z(z({},a),{},{device_id:o,source:Object(T.getChatSource)()?"minichat":"pc_mall"})),c=""+Date.parse(new Date)/1e3,u={},p.prev=7,l=m()(i).toString(),p.next=11,_.a.x(l,c,1,(r.env.COUNTRY||"SG").toUpperCase());case 11:u=p.sent,p.next=17;break;case 14:p.prev=14,p.t0=p.catch(7),u={"X-Sap-Access-S":i.request_id,"X-Sap-Access-T":c,"X-Sap-Access-F":"error"};case 17:return p.prev=17,p.next=20,v.a.getClientCheckData();case 20:d=p.sent,p.next=26;break;case 23:p.prev=23,p.t1=p.catch(17),d="error";case 26:return f=Math.floor(Date.now()/1e3),p.prev=27,A=z(z({},u),{},{"X-Dfp-Access-F":d}),p.next=31,Object(C.select)(x.captchaSignatureSelector);case 31:if(!(h=p.sent)){p.next=36;break}return A["X-Dfp-Access-S"]=h,p.next=36,Object(C.call)(x.updateCaptchaSignatureSaga,Object(x.updateCaptchaSignature)({signature:""}));case 36:return p.next=38,Object(C.call)(x.fetch,{method:"POST",resource:"messages",payload:i,headers:z({},A)});case 38:return g=p.sent,s&&(g.content.localUrl=s),n&&Object(T.removeItem)("mini-sc_redirect"),p.abrupt("return",z(z({},g),{},{created_at:new Date,created_timestamp:f}));case 44:p.prev=44,p.t2=p.catch(27),p.t3=!0,p.next=p.t3===p.t2 instanceof x.Forbidden?49:p.t3===p.t2 instanceof x.Limiting?51:p.t3===p.t2 instanceof x.CustomError?53:p.t3===p.t2 instanceof x.Blacklist?55:p.t3===p.t2 instanceof x.CancelOrderWarning?58:p.t3===p.t2 instanceof x.UnverifiedPhoneNumber?60:p.t3===("message_exceed_daily_limit"===p.t2.message)?62:p.t3===("request_block_errorrequest block error."===p.t2.message)?64:p.t3===("need_captcha"===p.t2.message)?66:p.t3===("dfp_block_error"===p.t2.message)||p.t3===("captcha_error"===p.t2.message)?68:70;break;case 49:return E=$,p.abrupt("break",71);case 51:return E=ee,p.abrupt("break",71);case 53:return E=te,p.abrupt("break",71);case 55:return E=ne,t.content={text:e("common.blacklist.replaced_text")},p.abrupt("break",71);case 58:return E=re,p.abrupt("break",71);case 60:return E=oe,p.abrupt("break",71);case 62:return E=se,p.abrupt("break",71);case 64:return E=ae,p.abrupt("break",71);case 66:return E=ie,p.abrupt("break",71);case 68:return E=ce,p.abrupt("break",71);case 70:E=K;case 71:return s&&(t.content.localUrl=s),p.abrupt("return",z(z({},t),{},{requestId:t.request_id,created_timestamp:f,errorCode:E,error:p.t2}));case 73:case"end":return p.stop()}}),P,null,[[7,14],[17,23],[27,44]])}var Se=function(e){return e.content&&e.content.translation&&e.content.translation.text};function Oe(e,t){var n,r,o,s,a,i,c,u,d,f,A,h,g,m;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return n=[],r=[],p.next=4,Object(C.select)(x.currentConversationIdSelector);case 4:if((o=p.sent)===t){p.next=12;break}return p.next=8,Object(C.select)(Object(x.conversationMessageIdsSelector)(t));case 8:return n=p.sent,p.next=11,Object(C.select)(Object(x.getMessagesSelector)(n.all));case 11:r=p.sent;case 12:return p.next=14,Object(C.select)(x.messagesWithSourceSelector);case 14:if(s=p.sent,a=Object(x.normalize)("messages",s).entities.messages||{},i=[],(c=e.map((function(e){var n,c=e.request_id,u=e.id,l=e.content,d=e.type;if(d===Q&&l&&l.type===V&&(l.type=X),a[c]){d===Z&&i.push(Object(C.put)(Object(M.b)({id:c}))),i.push(Object(C.put)(Object(x.deleteRecord)({name:"messages",id:c})));var p=z(z({},a[c]),{},{translateStatus:Se(e)?T.TranslationStatus.SHOW:T.TranslationStatus.FAILED});return a[u]?null:Object(T.deepMerge)(p,e)}if((n=o!==t?r.filter((function(e){return e&&e.retryRequestId===c})):s.filter((function(e){return e.retryRequestId===c}))).length){var f=n[0].request_id;i.push(Object(C.put)(Object(x.deleteRecord)({name:"messages",id:f})));var A=z(z({},a[f]),{},{translateStatus:Se(e)?T.TranslationStatus.SHOW:T.TranslationStatus.FAILED}),h=a[u]?null:Object(T.deepMerge)(A,e);return h&&h.retryRequestId&&(h.original_request_id=f),h}return null})).filter(Boolean)).length){p.next=20;break}return p.abrupt("return");case 20:return p.next=22,Object(C.call)(x.updateOrReplaceAction,a,c,"messages");case 22:return p.next=24,Object(C.put)(de({conversationId:t,requestIdToMessageId:c.reduce((function(e,t){return t.original_request_id?z(z({},e),{},l()({},t.original_request_id,t.id)):z(z({},e),{},l()({},t.request_id,t.id))}),{})}));case 24:return c.sort((function(e,t){return t.id-e.id})),p.next=27,Object(C.all)(i);case 27:return u=c[0],d=u.id,f=u.content,A=u.created_at,h=u.created_timestamp,g=u.type,m=u.message_option,p.next=30,Object(C.put)(Object(x.updateRecord)({name:"conversations",id:t,record:{latest_message_id:d,latest_message_type:g,latest_message_content:f,last_message_time:A,last_message_option:m,max_general_option_hide_time:h,crm_message_preview:{},unread_count:0,flag:"normal"}}));case 30:case"end":return p.stop()}}),N)}function Be(t){var n,r,o,s,a,i,u,l,d,f,g,m,E,v,b,_,y,O,w,I,M,k,j,R,P,N,q,U,F,H,L,G,V,X,$;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=t.conversationId,r=t.requestIds,o=t.messages,s=t.more,i=(a=void 0===s?{}:s).isRedirect,u=a.isFakingSource,l=a.isCancelable,o[0].content.type===J){p.next=5;break}return p.next=5,Object(C.put)(pe({conversationId:n,requestIds:r,isCancelable:l}));case 5:if(!u){p.next=7;break}return p.abrupt("return");case 7:if(d=o.length,p.t0=!l,!p.t0){p.next=12;break}return p.next=12,Object(C.spawn)(_e,n,r);case 12:return f=0,g=[],m=[],E=[],p.next=18,Object(C.select)(x.networkStatusSelector);case 18:return v=p.sent,p.next=21,Object(C.call)(T.getItem,"device_id");case 21:if(b=p.sent,"offline"!==v){p.next=28;break}_=o.map((function(e){return z(z({},e),{},{requestId:e.request_id})})),E.push.apply(E,c()(_)),m.push.apply(m,c()(_)),p.next=57;break;case 28:if(!(f<d)){p.next=57;break}return y=o[f],p.next=32,Object(C.call)(ye,y,n);case 32:if(O=p.sent,w=void 0,O){p.next=39;break}w=z(z({},y),{},{requestId:y.request_id}),m.push(w),p.next=54;break;case 39:return p.next=41,Object(C.call)(xe,y,i,b);case 41:if(!(w=p.sent).errorCode){p.next=52;break}if(I=y.type,M=y.content,I!==Q||!M||M.type!==J){p.next=49;break}return p.next=47,Object(C.call)(x.setToastInformationSaga,Object(x.setToastInformation)({error:w.error}));case 47:p.next=50;break;case 49:m.push(w);case 50:p.next=53;break;case 52:g.push(w);case 53:w.error&&w.error.offlineError&&E.push(w);case 54:f++,p.next=28;break;case 57:if(!g.length){p.next=61;break}return g.forEach((function(e){e.send_status=T.MessageSendStatus.SUCCEED})),p.next=61,Object(C.call)(Oe,g,n);case 61:if(!m.length){p.next=109;break}return p.next=64,Object(C.select)(x.currentConversationIdSelector);case 64:if(p.sent!==n){p.next=78;break}if(!(k=m.find((function(e){return e.errorCode===ie})))){p.next=72;break}return p.next=70,Object(C.put)(Object(x.updateCaptchaVisible)({visible:!0,resendMessagePayload:{conversationId:n,messageId:k.id}}));case 70:p.next=78;break;case 72:if(j=[K,te],R=m.find((function(e){return j.includes(e.errorCode)})),p.t1=R,!p.t1){p.next=78;break}return p.next=78,Object(C.call)(x.setToastInformationSaga,Object(x.setToastInformation)({error:R.error}));case 78:return P=[],m.forEach((function(e){var t=e.errorCode,n=e.error,r=e.request_id,o=e.type,s=e.content,a=e.to_id,i=e.from_id,c=e.shop_id,u=e.conversation_id;t===ee&&P.push(Object(C.call)(x.setToastInformationSaga,Object(x.setToastInformation)({error:n})));var l={errorCode:t,translateStatus:T.TranslationStatus.FAILED,retryRequestId:A()()};o===Z&&Object(x.impressionTracker)({trackerName:"impressionResendVideo",data:{message_id:0,conversation_id:u,is_sender:!0,from_user_id:i,to_user_id:a,video_original_duration:s.duration_seconds},shopId:c}),(o===Y&&t===ne||[Z,W].includes(o))&&(l.content=s),P.push(Object(C.put)(Object(x.updateRecord)({name:"messages",id:r,record:l})))})),p.next=82,Object(C.all)(P);case 82:return N=m.map((function(e){return e.requestId})),p.next=85,Object(C.put)(Ae({conversationId:n,requestIds:N}));case 85:if(q=[re,ae,ce,se],!(U=m.find((function(e){return q.includes(e.errorCode)})))){p.next=109;break}return p.next=90,Object(C.select)(x.currentConversationShopSelectors);case 90:F=p.sent,H=(F||{}).country,L=H&&H.toLowerCase(),p.t2=U.errorCode,p.next=p.t2===re?96:p.t2===se?102:105;break;case 96:return p.next=98,Object(C.select)(Object(x.getMessageSelector)(U.request_id));case 98:return G=p.sent,p.next=101,Object(C.put)(Object(x.showModal)({type:"Cancel_ORDER_WARNING_MODAL",title:{key:"cancel_order.modal.title"},additions:{content:{key:"cancel_order.modal.content"},region:L||"sg"},actions:{cancel:{label:{key:"cancel_order.modal.send_it"},handler:function(){h.store.dispatch(Object(x.closeModal)());var e=ve(G,!0);h.store.dispatch(Object(S.a)({conversationId:n,message:e}))}},confirm:{label:{key:"cancel_order.modal.not_send"},handler:function(){h.store.dispatch(Object(x.closeModal)());var e=ve(G,!1);h.store.dispatch(Object(S.a)({conversationId:n,message:e}))}}}}));case 101:return p.abrupt("break",109);case 102:return p.next=104,Object(C.put)(Object(x.showModal)({type:"CONFIRM_MODAL",additions:{content:{key:"label.exceed.daily.limit.warning"}},actions:{confirm:{label:{key:"label.modal.confirm"},handler:function(){return h.store.dispatch(Object(x.closeModal)())}}}}));case 104:return p.abrupt("break",109);case 105:return V=U.errorCode===ce,X='<a style="color: #395692" target="blank" href="'.concat(Object(T.getShopeeCustomerService)(L),'">').concat(e("text.shopee_cs"),"</a>"),p.next=109,Object(C.put)(Object(x.showModal)({type:"CONFIRM_MODAL",title:{key:"modal.title.".concat(V?"common_error":"untrusted_network")},additions:{withCloseIcon:!0,renderContentAsHtml:!0,content:e("modal.content.".concat(V?"common_error_hint":"untrusted_network"),{someone:X})},actions:{confirm:{label:{key:"common.ok"}}}}));case 109:if(!E.length){p.next=114;break}return $=E.map((function(e){return e.requestId})),p.next=113,Object(C.put)(Object(B.e)({conversationId:n,requestIds:$}));case 113:Object(x.networkJudge)();case 114:case"end":return p.stop()}}),D)}function we(e){var t,n,r,o,s,a,i,c,u,l,d,f,A,h,g,m,E,v,b,_,y,S,B,M,k;return p.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.payload,n=t.id,r=t.conversationId,o=t.conversationUserId,s=t.messages,a=t.more,!Object(T.getChatSource)()){p.next=4;break}return p.next=4,Object(C.put)(Object(x.reportRequested)({event_time:(Date.parse(new Date)/1e3).toString(),url:window.location.href}));case 4:if(i=a.isResend,c=a.isFakingSource,!i){p.next=9;break}return p.next=8,Be({conversationId:r,messages:s,requestIds:[s[0].request_id],more:{isCancelable:!!n}});case 8:return p.abrupt("return");case 9:return p.next=11,Object(C.select)(x.inlocationSelector);case 11:if(!p.sent){p.next=22;break}return p.next=15,Object(C.select)(x.currentConversationSelector);case 15:return u=p.sent,p.next=18,Object(C.put)(Object(x.updateLocationMode)({inlocation:!1}));case 18:return p.next=20,Object(C.put)(Object(w.b)({conversationId:u.id}));case 20:return p.next=22,Object(C.call)(O.d,{payload:{conversation:u,reset:!0,source:T.MessageSource.send}});case 22:return p.next=24,Object(C.select)(x.entryPointSelector);case 24:return l=p.sent,p.next=27,Object(C.select)(x.messagesWithSourceSelector);case 27:return d=p.sent,p.next=30,Object(C.call)(T.getItem,"mini-sc_redirect");case 30:return f=p.sent,A=s.map((function(e){var t;return Object(I.e)({id:n,recipientID:o,message:e,redirectInfo:f,conversationId:r,replyToMessageId:null==e||null===(t=e.replyToMessage)||void 0===t?void 0:t.id,entryPoint:l})})),p.next=34,Object(C.select)(x.currentUserIdSelector);case 34:return h=p.sent,p.next=37,Object(C.select)(x.currentUserShopIdSelector);case 37:return g=p.sent,p.next=40,Object(C.select)(x.currentUserSelector);case 40:if(m=p.sent,E=A.map((function(e,t){var n,r=z({},e);r.from_id=h;var o,a=r.type,i=r.content;if(["product","order","voucher"].includes(a)){var c="".concat(a,"_id"),u=i[c];r.fetchStatus="done";var l=s.find((function(e){return e.content[c]===u}));l&&(r.textContent=l.textContent)}else a===Y&&(r.translateStatus=T.TranslationStatus.PENDING);return null!==(n=s[t])&&void 0!==n&&n.replyToMessage&&(r.quoted_msg=null===(o=s[t])||void 0===o?void 0:o.replyToMessage),r.from_user_name=m.username||m.name,r})),v=d.filter((function(e){return e.hasMessageSource&&!e.isFaking})),b=d.filter((function(e){return e.hasMessageSource&&e.isFaking})),_=b[b.length-1],!b.length){p.next=51;break}return y=[],c||(E[0].sourceContent=_.sourceContent),b.forEach((function(e){y.push(Object(C.put)(Object(x.deleteRecord)({name:"messages",id:e.id})))})),p.next=51,Object(C.all)(y);case 51:if(!c){p.next=62;break}if(S=E[0]||{},B=S.source_content||{},!v.filter((function(e){var t=e.source_content||{};return B.shop_id===t.shop_id&&B.product_id===t.product_id&&B.order_id===t.order_id})).length){p.next=57;break}return p.abrupt("return");case 57:return p.next=59,Object(C.select)(x.isSubAccountSelector);case 59:return M=p.sent,p.next=62,Object(C.call)(I.f,E,g,M,!0);case 62:return k=Object(x.normalize)("messages",E),p.next=65,Object(C.put)(Object(x.updateEntities)({entities:k.entities}));case 65:return p.next=67,Be({conversationId:r,messages:A,requestIds:k.result,more:{isFakingSource:c,isRedirect:!!f,isCancelable:!!n}});case 67:case"end":return p.stop()}}),q)}function Ie(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(C.select)(x.messageIdsHashSelector);case 2:return e=n.sent,t=[],Object.entries(e).forEach((function(e){var n=a()(e,2),r=n[0],o=n[1].sending||[];o.length&&t.push(Object(C.put)(Ae({conversationId:r,requestIds:o})))})),n.next=7,Object(C.all)(t);case 7:case"end":return n.stop()}}),U)}function Me(e){var t,n,r;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.conversationId,o.next=3,Object(C.put)(me({id:n,conversationId:r}));case 3:return o.next=5,Object(C.put)(Object(x.deleteRecord)({name:"messages",id:n}));case 5:case"end":return o.stop()}}),F)}function Te(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEveryWithCancel)(le,we,me);case 2:case"end":return e.stop()}}),H)}function ke(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.takeEvery)(ge,Me);case 2:return e.next=4,Object(C.takeEvery)(Ee,be);case 4:return e.next=6,Object(C.takeLatest)(he,Ie);case 6:case"end":return e.stop()}}),L)}t.d=(o={},l()(o,pe,(function(e,t){var n=t.payload,r=n.conversationId,o=n.requestIds,s=n.isCancelable,a=e.messageIdsHash,i=a[r]||{},c=i.sending||[];c=s?c.concat(o):c;var u=i.all||[],d=i.failed||[];return z(z({},e),{},{messageIdsHash:z(z({},a),{},l()({},r,z(z({},i),{},{all:o.reverse().filter((function(e){return!u.includes(e)})).concat(u),failed:d.filter((function(e){return!o.includes(e)})),sending:c})))})})),l()(o,fe,(function(e,t){var n=t.payload,r=n.conversationId,o=n.requestIds,s=e.messageIdsHash,a=s[r]||{},i=a.sending||[],c=a.all||[],u=a.failed||[],d=o.filter((function(e){return c.includes(e)&&!u.includes(e)}));return z(z({},e),{},{messageIdsHash:z(z({},s),{},l()({},r,z(z({},a),{},{sending:i.concat(d)})))})})),l()(o,de,(function(e,t){var n=t.payload,r=n.conversationId,o=n.requestIdToMessageId,s=e.messageIdsHash,a=s[r]||{},i=(a.all||[]).map((function(e){return o[e]?o[e]:e})),c=a.sending||[];return z(z({},e),{},{messageIdsHash:z(z({},s),{},l()({},r,z(z({},a),{},{all:i,offset:i[i.length-1],sending:c.filter((function(e){return!o.hasOwnProperty(e)}))})))})})),l()(o,Ae,(function(e,t){var n=t.payload,r=n.conversationId,o=n.requestIds,s=e.messageIdsHash,a=s[r]||{},i=a.failed||[],c=a.sending||[];return z(z({},e),{},{messageIdsHash:z(z({},s),{},l()({},r,z(z({},a),{},{sending:c.filter((function(e){return!o.includes(e)})),failed:i.concat(o)})))})})),l()(o,me,(function(e,t){var n=t.payload,r=n.id,o=n.conversationId,s=e.messageIdsHash,a=s[o]||{},i=a.all||[],c=a.sending||[];return z(z({},e),{},{messageIdsHash:z(z({},s),{},l()({},o,z(z({},a),{},{all:i.filter((function(e){return e!==r})),sending:c.filter((function(e){return e!==r}))})))})})),o)}).call(this,n(21).t,n(131))},function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return M})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return N}));var r,o,s=n(4),a=n.n(s),i=n(5),c=n.n(i),u=n(3),l=n(15),d=n(1),p=n(20);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=c.a.mark(T),g=c.a.mark(k),m=c.a.mark(j),E=c.a.mark(R),v=c.a.mark(N),b=function(e){return e?e/3*1e3:8e3},_=function(e){return e.startsWith("http:")?e.replace("http:","https:"):e},y=Object(l.createActions)((r={},a()(r,p.a.UPDATE_VIDEO_INFO,(function(e){var t=e.id,n=e.info;return{id:t,info:void 0===n?{}:n}})),a()(r,p.a.DELETE_VIDEO_INFO,(function(e){return{id:e.id}})),r)),C=y.updateVideoInfo,x=y.deleteVideoInfo,S="get_config_error",O="upload_error",B="report_upload_error",w="push_timeout",I="query_result_error";function M(e,t){Object(d.fetch)({method:"POST",subServer:"coreapi",parent:"video",resource:"monitor",payload:JSON.stringify({step:e,reason:t})}).catch((function(){return{}}))}function T(e,t){var n,r,o,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(u.call)(d.fetch,{method:"POST",subServer:"coreapi",parent:"video",resource:"preupload",payload:JSON.stringify({conversation_id:e,shop_id:t})});case 3:if(n=a.sent,r=n.is_allowed,o=n.data,s=void 0===o?{}:o,r){a.next=11;break}return a.next=10,Object(u.call)(M,S,"Not Allowed");case 10:return a.abrupt("return",null);case 11:return a.abrupt("return",s);case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object(u.call)(M,S);case 18:return a.abrupt("return",!1);case 19:case"end":return a.stop()}}),h,null,[[0,14]])}function k(e){var t,r,o,s,a,i,u,l,p,f,A,h,m,E,v,b;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=performance.now(),r=e.file,o=e.uploadId,s=e.onProgress,a=e.serviceId,i=e.token,u=e.domain,l=e.uploadDomain,p=e.sliceSize,f=e.bucket,c.next=4,Promise.resolve().then(n.t.bind(null,259,7));case 4:return A=c.sent,h=A.default,m=A.UploaderEvents,E=A.MediaType,v=new h({authorization:i,serviceID:a,uploadDomain:_(l),domain:_(u),vid:o,sliceSize:p,bucket:f}),c.next=11,v.upload({mediaFile:r,mediaType:E.video});case 11:return(b=c.sent).on(m.mediaProgress,(function(e){return s(.95*e.percent*100)})),c.next=15,b.done().then((function(e){var n=performance.now();return Object(d.collectAsyncTask)(d.ReportPoint.VIDEO_UPLOAD,n-t),{error:!1,data:e}})).catch((function(){return M(O),!1}));case 15:return c.abrupt("return",c.sent);case 16:case"end":return c.stop()}}),g)}function j(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u.call)(d.fetch,{method:"POST",subServer:"coreapi",parent:"video",resource:"report_upload",payload:JSON.stringify(e)});case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Object(u.call)(M,B);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),m,null,[[0,6]])}function R(e){var t;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(u.call)(d.fetch,{subServer:"coreapi",parent:"video",resource:"upload_status",params:{vid:e}});case 3:return t=n.sent,n.abrupt("return",t);case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,Object(u.call)(M,I);case 11:return n.abrupt("return",{});case 12:case"end":return n.stop()}}),E,null,[[0,7]])}var P=function(e){var t=e.video,n=e.thumbnail,r=e.duration;return{video_url:t,thumb_url:n,thumb_width:e.width,thumb_height:e.height,duration_seconds:Math.ceil(r/1e3)}};function N(e){var t,n,r,o,s,a,i,l,p,f,A,h,g,m,E,_,y,x,S,O,B,T,N,D,q,U,F,H;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=new Error("upload fail"),n=e.id,r=e.file,o=e.duration,s=e.onProgress,a=void 0===s?function(){return{}}:s,c.next=4,Object(u.select)(Object(d.selectVideoInfoByKey)(n));case 4:return i=c.sent,p=(l=i||{}).vid,f=l.services,A=f.find((function(e){return"txcloud"===e.service_id}))||f[0],h=A.service_id,g=A.token,m=A.upload_domain,E=A.domain,_=A.bucket,y=A.slice_size,c.next=10,Object(u.call)(k,{file:r,uploadId:p,serviceId:h,token:g,domain:E,bucket:_,sliceSize:y,uploadDomain:m,onProgress:a});case 10:if(x=c.sent){c.next=13;break}throw t;case 13:if(S="txcloud"===h,O=x.data.video,B=O.md5,T=O.extendId,N=O.url,!S||N){c.next=17;break}throw t;case 17:return c.next=19,Object(u.call)(j,{vid:p,md5:B,service_id:h,extend_id:T,file_size:r.size,video_url:N||"".concat(E,"/").concat(p,".ori.mp4")});case 19:if(c.sent){c.next=22;break}throw t;case 22:return c.next=24,Object(u.delay)(b(o));case 24:D=180;case 25:if(!(D>0)){c.next=58;break}return c.next=28,Object(u.select)(Object(d.selectVideoInfoByKey)(n));case 28:if("successful"!==(i=c.sent).status){c.next=31;break}return c.abrupt("return",P(i.uploadResult));case 31:if("failed"!==i.status){c.next=35;break}return c.next=34,Object(u.call)(M,I,"failed");case 34:throw t;case 35:return c.next=37,Object(u.call)(R,p);case 37:if(q=c.sent,(U=q.status)&&"reported"!==U){c.next=45;break}return c.next=42,Object(u.delay)(3e3);case 42:D-=3,c.next=56;break;case 45:return c.next=47,Object(u.put)(C({id:n,info:{status:U}}));case 47:if("successful"!==U){c.next=53;break}return(F=performance.getEntriesByName("REPORT_UPLOAD_".concat(p),"mark")[0])&&(performance.mark("SERVICE_DONE_".concat(p)),H=performance.getEntriesByName("SERVICE_DONE_".concat(p))[0].startTime-F.startTime,performance.clearMarks("REPORT_UPLOAD_".concat(p)),performance.clearMarks("SERVICE_DONE_".concat(p)),Object(d.collectAsyncTask)(d.ReportPoint.SERVICE_DONE,H)),c.abrupt("return",P(q));case 53:return c.next=55,Object(u.call)(M,I,U);case 55:throw t;case 56:c.next=25;break;case 58:return c.next=60,Object(u.call)(M,w,status);case 60:throw t;case 61:case"end":return c.stop()}}),v)}t.a=(o={},a()(o,p.a.UPDATE_VIDEO_INFO,(function(e,t){var n=t.payload,r=n.id,o=n.info,s=e.videoMap[r]||{};return A(A({},e),{},{videoMap:A(A({},e.videoMap),{},a()({},r,A(A({},s),o)))})})),a()(o,p.a.DELETE_VIDEO_INFO,(function(e,t){var n=t.payload.id,r=e.videoMap;return delete r[n],A(A({},e),{},{videoMap:A({},r)})})),o)},,function(e,t,n){var r=n(18),o=n(249);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t){e.exports=p},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return I})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return N})),n.d(t,"i",(function(){return D}));var r,o=n(25),s=n.n(o),a=n(4),i=n.n(a),c=n(5),u=n.n(c),l=n(15),d=n(3),p=n(1),f=n(28),A=n(2),h=u.a.mark(T),g=u.a.mark(k),m=u.a.mark(j),E=u.a.mark(R),v=u.a.mark(P),b=u.a.mark(N),_=u.a.mark(D);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=Object(l.createActions)({FETCH_MESSAGES_REQUESTED:function(e){return{conversation:e.conversation,reset:e.reset,direction:e.direction,messageId:e.messageId,cachedLatestId:e.cachedLatestId,cachedOldestId:e.cachedOldestId,source:e.source,isPreload:e.isPreload,messageList:e.messageList}},FETCH_MESSAGES_SUCCEEDED:function(e){return{conversationId:e.conversationId,messageIds:e.messageIds,limit:e.limit,persist:e.persist,status:e.status,messageRequestIds:e.messageRequestIds,direction:e.direction,reset:e.reset,cachedOldestId:e.cachedOldestId}},UPDATE_FETCH_MESSAGES_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_PRELOADED_MESSAGES:function(e){return{conversationId:e.conversationId,key:e.key,payload:e.payload}},DELETE_PRELOADED_MESSAGES:function(e){return{conversationId:e.conversationId,key:e.key}}}),S=x.fetchMessagesRequested,O=x.fetchMessagesSucceeded,B=x.updateFetchMessagesRequestedStatus,w=x.updatePreloadedMessages,I=x.deletePreloadedMessages,M=function(e){var t=e.conversationId,n=e.shopId,r=e.offset,o=e.limit,s=void 0===o?20:o,a=e.direction,i=void 0===a?"older":a,c=(e.source,{shop_id:n,offset:r,limit:"around"===i?Math.ceil(s/2):s,direction:i});return new Promise((function(e,n){Object(p.fetch)({parent:"conversations",parentId:t,resource:"messages",params:c}).then((function(t){var n=t.messages;e({messages:void 0===n?[]:n,limit:s})})).catch((function(e){n(e)}))}))};function T(e){var t,n,r,o;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(d.call)(N,{payload:C(C({},t),{},{isPreload:!0,reset:!1,direction:"older"})});case 3:if(!(n=s.sent)){s.next=11;break}return r=t.conversation.id,s.next=8,Object(d.call)(k,r);case 8:return o=s.sent,s.next=11,Object(d.put)(w({conversationId:r,key:o,payload:n}));case 11:case"end":return s.stop()}}),h)}function k(e){var t,n,r;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(d.select)((function(e){return e.messageReducer}));case 2:return t=o.sent,n=t.messageIdsHash,r=n[e]||{},o.abrupt("return",r.oldestMessageId);case 6:case"end":return o.stop()}}),g)}function j(e){var t,n,r;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(d.select)((function(e){return e.messageReducer}));case 2:return t=o.sent,n=t.messageIdsHash,r=n[e]||{},o.abrupt("return",r.preloaded||{});case 6:case"end":return o.stop()}}),m)}function R(e){var t,n,r,o;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.reset||"around"===e.direction){s.next=8;break}return s.next=3,Object(d.select)((function(e){return e.messageReducer}));case 3:return t=s.sent,n=t.messageIdsHash,r=e.conversation.id,o=n[r]||{},s.abrupt("return",0===(o.all||[]).length);case 8:return s.abrupt("return","older"===e.direction);case 9:case"end":return s.stop()}}),E)}function P(e){var t,n,r,o,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,R(t);case 3:if(!a.sent){a.next=31;break}return n=null,r=t.conversation.id,a.next=9,Object(d.call)(k,r);case 9:if(!(o=a.sent)){a.next=15;break}return a.next=13,Object(d.call)(j,r);case 13:s=a.sent,n=s[o];case 15:if(!n){a.next=22;break}return a.next=18,Object(d.put)(O(n));case 18:return a.next=20,Object(d.put)(I({conversationId:r,key:o}));case 20:a.next=27;break;case 22:return a.next=24,Object(d.call)(N,{payload:t});case 24:if(a.sent){a.next=27;break}return a.abrupt("return");case 27:return a.next=29,Object(d.fork)(T,{payload:t});case 29:a.next=33;break;case 31:return a.next=33,Object(d.call)(N,{payload:t});case 33:case"end":return a.stop()}}),v)}function N(e){var t,n,r,o,a,i,c,l,h,g,m,E,v,_,y,C,x,w,I,T,k,j,R,P,N,D,q,U,F,H,L,G,z,W;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.conversation,r=t.reset,o=t.direction,a=t.messageId,i=t.cachedOldestId,c=t.cachedLatestId,l=t.source,h=t.isPreload,g=t.isPopulateSync,m=t.messageList,u.prev=1,u.next=4,Object(d.select)((function(e){return e.conversationReducer}));case 4:return E=u.sent,v=E.persist,u.next=8,Object(d.select)(p.currentUserShopIdSelector);case 8:return _=u.sent,u.next=11,Object(d.select)(p.isSubAccountSelector);case 11:return y=u.sent,C=n.id,x=n.shop_id,u.next=15,Object(d.select)((function(e){return e.messageReducer}));case 15:if(w=u.sent,I=w.messageIdsHash,T=I[C]||{},!r||"around"===o){u.next=25;break}k=0,o="older",j=!0,i=T.oldestMessageId,u.next=38;break;case 25:u.t0=o,u.next="older"===u.t0?28:"latest"===u.t0?31:"around"===u.t0?34:37;break;case 28:return k=T.oldestMessageId,j=T.hasMoreOlderMessage,u.abrupt("break",38);case 31:return k=T.latestMessageId,j=T.hasMoreLatestMessage,u.abrupt("break",38);case 34:return k=a,j=!0,u.abrupt("break",38);case 37:return u.abrupt("break",38);case 38:if(j){u.next=46;break}return u.next=41,Object(d.select)(p.messageHttpStatusSelector);case 41:if(!u.sent.includes("failed")){u.next=45;break}return u.next=45,Object(d.put)(B({status:A.DataFetchStatus.SUCCEED}));case 45:return u.abrupt("return");case 46:if(h){u.next=49;break}return u.next=49,Object(d.put)(B({status:r||"around"===o?A.DataFetchStatus.INIT_PENDING:A.DataFetchStatus.PENDING}));case 49:if(!m||!m.length){u.next=54;break}R=m,P=20,u.next=59;break;case 54:return u.next=56,Object(d.call)(M,{conversationId:C,shopId:x,offset:k,direction:o,source:l});case 56:N=u.sent,R=N.messages,P=N.limit;case 59:return R.sort((function(e,t){return t.id-e.id})),D=R.map((function(e){return e.id})),q=s()(R),R.forEach((function(e){var t=e.quoted_msg;if(t){if(q.some((function(e){return e.id===t.id})))return;q=[].concat(s()(q),[t])}})),u.next=65,Object(d.call)(f.f,q,_,y,g);case 65:return u.next=67,Object(d.select)(p.messagesWithSourceSelector);case 67:return U=u.sent,u.next=70,Object(d.call)(p.updateOrReplaceAction,U,R,"messages",["content"]);case 70:if(F=new Map,H=R.reduce((function(e,t){var n=t.request_id,r=t.id;return e.has(n)||e.set(n,r),e}),F),L={reset:r,limit:P,direction:o,messageIds:D,conversationId:C,persist:v,status:A.DataFetchStatus.SUCCEED,messageRequestIds:H},G=!1,(z=c||(T.all||[])[0])&&(r||c)&&(W=D[D.length-1]||k,z&&Object(A.greaterThan)(W,z)?(G=!0,c=c||z):L.cachedOldestId=i),h){u.next=79;break}return u.next=79,Object(d.put)(O(L));case 79:if(!G){u.next=82;break}return u.next=82,Object(d.put)(S({direction:"older",conversation:n,cachedLatestId:c,cachedOldestId:i||0}));case 82:return("around"===o||m&&m.length)&&a&&p.EventBus.emit("scrollToMessage",a),u.abrupt("return",L);case 86:if(u.prev=86,u.t1=u.catch(1),h){u.next=91;break}return u.next=91,Object(d.put)(B({status:r?A.DataFetchStatus.INIT_FAILED:A.DataFetchStatus.FAILED}));case 91:case"end":return u.stop()}}),b,null,[[1,86]])}function D(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(S,P);case 2:case"end":return e.stop()}}),_)}t.a=(r={},i()(r,O,(function(e,t){var n=t.payload,r=n.limit,o=n.status,s=n.conversationId,a=n.messageIds,c=n.persist,u=n.messageRequestIds,l=n.direction,d=n.reset,p=n.cachedOldestId,A=e.messageIdsHash,h=A[s]||{},g={};switch(l){case"older":g.oldestMessageId=p||a[a.length-1],g.hasMoreOlderMessage=a.length>=r;break;case"latest":g.latestMessageId=a[0],g.hasMoreLatestMessage=a.length>=r;break;case"around":g.oldestMessageId=a[a.length-1],g.latestMessageId=a[0],g.hasMoreOlderMessage=!0,g.hasMoreLatestMessage=!0,h={}}d&&"around"!==l&&(g.hasMoreLatestMessage=!1);var m=(h.all||[]).map((function(e){return u.has(e)?u.get(e):e})),E=h.failed||[];return C(C({},e),{},{status:o,messageIdsHash:C(C({},A),{},i()({},s,C(C({},h),{},{all:Object(f.d)(m,a),failed:E.filter((function(e){return!u.has(e)}))},g))),persist:c})})),i()(r,B,(function(e,t){var n=t.payload.status;return C(C({},e),{},{status:n})})),i()(r,w,(function(e,t){var n=t.payload,r=n.conversationId,o=n.key,s=n.payload,a=e.messageIdsHash,c=a[r]||{},u=c.preloaded||{};return C(C({},e),{},{messageIdsHash:C(C({},a),{},i()({},r,C(C({},c),{},{preloaded:C(C({},u),{},i()({},o,s))})))})})),i()(r,I,(function(e,t){var n=t.payload,r=n.conversationId,o=n.key,s=e.messageIdsHash,a=s[r]||{},c=a.preloaded||{};return c[o]?C(C({},e),{},{messageIdsHash:C(C({},s),{},i()({},r,C(C({},a),{},{preloaded:C(C({},c),{},i()({},o,null))})))}):e})),r)},function(e,t){e.exports=f},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=n.n(r).a.createContext({});o.displayName="ImgCacheContext"},,function(e,t,n){var r=n(18),o=n(250);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(53);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(126);e.exports=function(e,t){if(null==e)return{};var n,o,s=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAABIFBMVEUAAADr7vnt8Prt8Pnt8fvt8fvt8PvEpaPs8Prt8fvt8Pvo7Pbo7fjr7/nn7Pfs7/rv8f3h5fDg5PDi5/Hn6/To6/Te4+7s7/np7fni5vHo7Pjm6vfk6fbf4/De4/Dc4O3d4u3i5/TZ3uvP1OHZ3ura3urvWz7y9f7/gmrW2ufvWz7Y3enxXUDW2uj4bVLyYET/g2vvWz7xXkL+eF70ZUn2Zkr+d13w8/zj5/Dm6vTj5vH3a0//gGf5blP4bVHN09/L0N3y9f7S1+Po7PbX2+fl6fPw8vvP1OHr7vfd4eza3+rs7/ng5e/u8Pre4u3U2eXv8/zj5/Hi5vH////Y3enl5/LwWz7yYUX09fn2Z0z/f2f5bVL8c1n4+fv/eV/u8Pak0IEiAAAAP3RSTlMABwwZEhYkBSAQHAQzLzcrJ0JKPi4pRx86Oj5CRlRQWE1PXe3Lp+rn6djDsJNrD6aLg/PHWSXwh4Ht37uejXhSf/O8AAAHjUlEQVR42uzWS2oDMRBF0TfTMkImctMI9z8T24FsokXbJvtfRqwWxJ+JZzao7tnBpSiqBAAAAAAAAAAAAAAAAABPuLaqWic72uNFKzuqFFzJjOk3+ZIZ4zkZZMbhlBxkxm5JRpnRx7jEOMmKKSa9zBjnpNat7b7gVySswd1d73C82KtM9Ro83vUWfZn7NXjSPzecV6UG+9Trb3p3p+xbZQoPK9wsWVChXOd95669MWtkQ5gzK73dnNWlHuFH3liv+ty7lRXhfb0fm58X2nxq5YL3zXvm+8eeHewmCwQBHB9YNEqXGq1iuPkqXwhkjUiKpIkX0vd/i8+NG6sG1llbBlb9zUUOHv4ZwmXIelUxdO0fMaCgD/6knD4Ea702/Nrwa8P933BKONTB7ohPw1U45SP3GV7pQbT6ETGQPokBHTeaXYrkllNiQIaFs2she+BgP6yzfNhgFtZjqZ6twe60SZpu6YYumGuCtSzd8OCj0ZYYtMzxGBu4/FmCWRDdstWzKtgN3m/b6tkUPOAYG2LQmnGAstGzJ9iZzFE2evYE+xOcjZ41wc4CSRCDlnhDJCHEhm7aC2YjJKFnzYb9JZLQsycYS+hZE8ywhJ41wd4AKSYGLXE9pFjPmmBnjBTrWRMMLlKsZ0+w82zB4ODECenE0B5ksJ5FGwZ4cxASYtCqt9uSJCYd6FqiZ9mGexwsL9Wz1Uxdqps9SPD1pbrZQwTXXarJJElxx5wY/7HxUk3l6y5pVUqp+DLVfKkmUtzhuzyp4sJM46Xah1p9CE7Lc9+FEXfaxAUSO2Oy96J4VyO7tlN4YzCHOt0HJ+W1RBd7Hf3RjEGN7oP3p70m6meKqVV0wWrFLpMnbWhLZqg4RsaZVJVSlRmINMYAbz4//uZq350Hi1LaHx/U59o0+L3BCDz+8xSM4aDz4H0pCVV/HpyjcI25zy8MAKAnwcn5hiuVmyEmDwJ+GCQPoPPgC9Xp/Za5KHMpOAyKA38u/wX1lRa5gcn8MGjLNoKze0f1VrmJhRmnPxsuqvKoWJsYDhenQfD6E6x6q93ayOjM8Paw3gSr93mfr+8KVpa3+PDX/nNXvz9pA3Ecx48KgkxnFIZTBB1gFkP2eG5Prr1eKXeUNjCW7Nn+//9idz1+iPZKvx3Iyes0NkJi3n5aZflMVe+QQVVXrqqbGROs/gP/FVccdNgRkCnB6o6OeyHAwSWjgv9wuBKMtYNgnuPkDy7CFMxYmM+/5HACYqGt42/MAimYEuz+inE4aK9ZwTO4AoDsfT/BfOqOBo4wcqcsXzASzAqmWsHQeW404VQpxz5kgHZjlsuG4GDgvPJ7HqwBrM2P5pIazEdOkjGjAgIyJDhN6OhMqQgua46G+cFTZ27ghVzuHXpjZ847wIUDRxkyusLdZTEqwzY2PTicr8uidYvneoKADAmONIeqLJdGr3hOrAmc2JBgHbWjFyVRD/fXEwRiRHCkE6p9SbLfjvR9zxNTGsGPztgRxhEhUeIZxi8fIRiDF1YDc5GWjA4MmDjKgWi46obWm8RPMajLhGDdHUsH0ozoRQMJ9IfaiGDNxEzWDEkabyB8R/tEtmciawKShg2E3l4XJiQCHw1vLHBCfP2hY+ErAjF34eFIoCTVSLIAExsfTFIXVu+pouxMCNbGSMRP5Q6FyoEs7GYNPpSFvQzBQ8lCe5yYEB96dKauQP00xBV+IBADFtZgrsD8NDNX6KHyYSxMPWGC0wSe8IRAzF2YeFKE9dQ7rtE+J/a3B4eeEGI95gk/EYTRwZGaeMPAT6j8zhbGWuFECPzUl38UEYTZwdFUYjgZn0pP6N0tnFLMAonjJDSQflpov/AW2RiHgcTk9frBsyDWL8MWNjpYIGGMkZffZ+HcAyzJ8GBbFCuc4PnMMpeGwqr4YBa2BcIWKJFPu08oZ2tAG5sRbCcfVexzlozPlsXZJzYjWMeOYSriXh+KMTVgY6wF33iZ7FP+EiXxr4IrD4eysPhQ/Gg917elVXE/a5cpwfZmmBAqEaJqlR5V+vtb2M5zcvv2uCiulCz05gpFnJOdU2dZ3PvW6bQbtbNP1WIBIejC8NKr8+tGq9PJuXD+4GfFnaVW4/r8SnTvQqF0fHrRvlvAbzyx+JGdx0jpde7WtS9Oj0tbzC5W6rX71rrcC0OLu3asJayK71oJ7mv1ShH9J6tar7W/JLB3qbv8XGpLd49E6bcTfJHatXrVyjvs8cfbSx0bAFqb5DLW7pFY9zLV7cdj6NQnldPmbRr7jTWU+54KFpe36ZqnlROUTeGoftPcxN6Jru7mti/mLuPiB3HV3OymflTYWFs9u8mia++UCl3pXiw0+t2u7L3J6Kya0vyhdP45o3/t3U0OgkAMhuFSRkUGhUQN7llzB+9/KoOTKCFE4/9k+j5dddl8m26a9t3ph7p+N3F8Qr3w8+G21TZRVZvNPc1KWqGTdDfJG6fs6mjsH6tf5STwZROTw33NG0of5l2acZk4LwzJRbSMUzvUyNB/gIrLTXGyMEacMaJrU1RETRERr4aEzSMzw0uQGSFX3gRBJFa3+vtlOL6MbAEAAAAAAAAAAAAAAID0nAFUiEuaAG9VMQAAAABJRU5ErkJggg=="},,function(e,t,n){var r=n(18),o=n(255);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},,,function(e,t,n){var r=n(18),o=n(237);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(239);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(245);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(256);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return s}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(72),a=n.n(s),i=n(7),c=n(2),u=n(55),l=function(t){var n=Object(r.useRef)(null),s=Object(r.useRef)(0),l=Object(c.throttle)((function(e){var r=t.loadMoreOffset,o=t.onLoadMore,a=t.onScroll,i=t.status,u=n.current,l=u.scrollHeight,d=u.scrollTop,p=u.clientHeight;if(i===c.DataFetchStatus.PENDING)return!1;l-d-p<=r&&s.current<d&&o&&o(),s.current=d,a&&a()}),200),d=t.listData,p=t.makeItem,f=t.status,A=t.emptyImage,h=t.emptyText,g=t.emptyClassName;return o.a.createElement("div",{className:a.a.root,onScroll:l,ref:n},f===c.DataFetchStatus.SUCCEED||f===c.DataFetchStatus.PENDING||f===c.DataFetchStatus.FAILED?d.length>0?d.map((function(e,t){return p(e,t)})):o.a.createElement(i.Empty,{classname:g||a.a.empty,image:A||u.a,text:h||e("common.scroll_list.no_data")}):"")};l.defaultProps={loadMoreOffset:10,emptyImage:u.a},t.a=Object(i.CatchStatus)(l)}).call(this,n(21).t)},function(e,t){e.exports=A},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(4),o=n.n(r),s=n(5),a=n.n(s),i=n(15),c=n(3),u=n(2),l=n(1),d=n(39),p=n(20),f=a.a.mark(g),A=a.a.mark(m),h=Object(i.createActions)(o()({},p.a.RESEND_MESSAGE_REQUESTED,(function(e){var t=e.conversationId,n=e.conversationStatus;return{conversationId:t,conversationStatus:void 0===n?"":n,message:e.message}}))).resendMessageRequested;function g(e){var t,n,r,o,s,i,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.conversationId,r=t.conversationStatus,o=t.message,"closed"!==r){a.next=5;break}return a.next=4,Object(c.call)(l.setToastInformationSaga,Object(l.setToastInformation)({type:"conversation-closed-tip"}));case 4:return a.abrupt("return");case 5:if(s=o.type,i=o.content,p=o.to_id,s!==u.MessageTypes.MSG_TYPE_VIDEO||i.video_url){a.next=10;break}return a.next=9,Object(c.put)(Object(d.k)({conversationId:n,conversationUserId:p,message:o,isResend:!0}));case 9:return a.abrupt("return");case 10:return a.next=12,Object(c.put)(Object(d.h)({conversationId:n,conversationUserId:p,messages:[o],more:{isResend:!0}}));case 12:case"end":return a.stop()}}),f)}function m(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.takeEvery)(h,g);case 2:case"end":return e.stop()}}),A)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return B})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return j}));var r,o,s=n(25),a=n.n(s),i=n(22),c=n.n(i),u=n(4),l=n.n(u),d=n(5),p=n.n(d),f=n(15),A=n(3),h=n(29),g=n(39),m=n(1),E=n(20);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=p.a.mark(T),y=p.a.mark(k),C=p.a.mark(j);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=Object(f.createActions)((r={},l()(r,E.a.SEND_MESSAGES_FAILED_BY_OFFLINE,(function(e){return{conversationId:e.conversationId,requestIds:e.requestIds}})),l()(r,E.a.RESET_MESSAGES_FAILED_BY_OFFLINE,(function(){return{}})),l()(r,E.a.RESEND_OFFLINE_MESSAGES_ONCE,(function(){return{}})),l()(r,E.a.RESEND_OFFLINE_MESSAGES_ONCE_SUCCEED,(function(e){return{conversationId:e.conversationId,messageIds:e.messageIds}})),r)),B=O.sendMessagesFailedByOffline,w=O.resetMessagesFailedByOffline,I=O.resendOfflineMessagesOnce,M=O.resendOfflineMessagesOnceSucceed;function T(){var e,t,n,r,o,s,a,i,u;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(A.select)(m.offlineMessagesSelector);case 2:e=l.sent,t=Object.entries(e),n=[],r=p.a.mark((function e(){var t,r,a,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s[o],r=c()(t,2),a=r[0],i=r[1],e.next=4,Object(A.select)(Object(m.getMessagesSelector)(i));case 4:u=e.sent,l=i.map((function(e,t){return{conversationId:a,requestIds:[e],messages:[u[t]]}})).filter((function(e){return e.messages[0]})),n=n.concat(l);case 7:case"end":return e.stop()}}),e)})),o=0,s=t;case 7:if(!(o<s.length)){l.next=12;break}return l.delegateYield(r(),"t0",9);case 9:o++,l.next=7;break;case 12:a=x(n),l.prev=13,a.s();case 15:if((i=a.n()).done){l.next=23;break}return u=i.value,l.next=19,Object(g.f)(u);case 19:return l.next=21,Object(A.delay)(400);case 21:l.next=15;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(13),a.e(l.t1);case 28:return l.prev=28,a.f(),l.finish(28);case 31:return l.next=33,Object(A.put)(w());case 33:case"end":return l.stop()}}),_,null,[[13,25,28,31]])}function k(e){var t,n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.conversationId,n=e.messageIds,r.next=3,Object(A.put)(M({conversationId:t,messageIds:n}));case 3:case"end":return r.stop()}}),y)}function j(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.takeEvery)(I,T);case 2:case"end":return e.stop()}}),C)}window.addEventListener("judge-online",(function(){h.store.dispatch(I())})),t.a=(o={},l()(o,E.a.SEND_MESSAGES_FAILED_BY_OFFLINE,(function(e,t){var n=t.payload,r=n.conversationId,o=n.requestIds,s=e.offlineMessages,i=(s[r]||[]).concat(o);return b(b({},e),{},{offlineMessages:b(b({},s),{},l()({},r,a()(new Set(i))))})})),l()(o,E.a.RESET_MESSAGES_FAILED_BY_OFFLINE,(function(e){return b(b({},e),{},{offlineMessages:{}})})),l()(o,E.a.RESEND_OFFLINE_MESSAGES_ONCE_SUCCEED,(function(e,t){var n=t.payload,r=n.conversationId,o=n.messageIds,s=e.messageIdsHash,a=s[r]||{},i=(a.all||[]).filter((function(e){return!o.includes(e)})),c=(a.failed||[]).filter((function(e){return!o.includes(e)})),u=(a.sending||[]).filter((function(e){return!o.includes(e)}));return b(b({},e),{},{messageIdsHash:b(b({},s),{},l()({},r,b(b({},a),{},{all:i,failed:c,sending:u})))})})),o)},function(e,t,n){var r=n(18),o=n(132);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(4),o=n.n(r),s=n(15),a=n(20);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(s.createActions)(o()({},a.a.DELETE_CONVERSATION_MESSAGE_HASH,(function(e){return{conversationId:e.conversationId}}))).deleteConversationMessageHash;t.a=o()({},a.a.DELETE_CONVERSATION_MESSAGE_HASH,(function(e,t){var n=t.payload.conversationId,r=e.messageIdsHash;return delete r[n],c(c({},e),{},{messageIdsHash:c({},r)})}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),s=n(10),a=n(17),i=n(9),c=n(1),u=n(43),l=n.n(u),d=n(37),p=function(e){return l.a.put(d.default.claimVoucherRequested({payload:e}))},f={visitShopSellerCenterRequested:c.visitShopSellerCenterRequested};t.a=Object(a.a)(Object(s.connect)((function(e){return{locale:Object(c.localeSelector)(e),isSubAccount:Object(c.isSubAccountSelector)(e),shopAccess:Object(c.shopAccessSelector)(e)}}),f)((function(e){var t=e.isSend,n=e.visitShopSellerCenterRequested,r=e.isSubAccount,s=e.handleReload,a=e.measure,c=e.locale,u=e.message,l=e.shopAccess,d=e.track,f=l.hasViewVoucherAccess,A=u.content,h=u.textContent,g=u.id;return o.a.createElement(i.VoucherMessage,{content:A,textContent:h,isSend:t,visitShopSellerCenterRequested:n,claimVoucherRequested:p,isSubAccount:r,id:g,handleReload:s,measure:a,hasViewVoucherAccess:f,locale:c,track:d})})))},function(e,t){e.exports=h},,function(e,t,n){var r=n(18),o=n(231);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(236);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(257);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t){e.exports=g},function(e,t){e.exports=m},function(e,t){e.exports=E},function(e,t){e.exports=v},function(e,t){e.exports=b},function(e,t){e.exports=_},function(e,t){e.exports=y},function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return C})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"k",(function(){return w}));var r,o=n(4),s=n.n(o),a=n(5),i=n.n(a),c=n(15),u=n(1),l=n(3),d=n(46),p=n(2),f=i.a.mark(w);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=Object(c.createActions)({SET_REPLY_TO_MESSAGE:function(e){return{messageId:e.messageId}},RESET_REPLY_TO_MESSAGE:function(){return{}},SCROLL_TO_MESSAGE:function(e){return{messageId:e.messageId}},SET_SCROLL_TO_MESSAGE_ID:function(e){return{messageId:e.messageId}},RESET_SCROLL_TO_MESSAGE_ID:function(){},SET_IN_SCROLL_TO_MESSAGE:function(e){return{inScrollToMessage:e.inScrollToMessage}},SET_CURRENT_CONVERSATION_REPLY_TO_MESSAGE:function(e){return{messageId:e.messageId,currentConversationId:e.currentConversationId}},RESET_CURRENT_CONVERSATION_REPLY_TO_MESSAGE:function(e){return{currentConversationId:e.currentConversationId}}}),m=g.setReplyToMessage,E=g.resetReplyToMessage,v=g.scrollToMessage,b=g.setScrollToMessageId,_=g.resetScrollToMessageId,y=g.setInScrollToMessage,C=g.setCurrentConversationReplyToMessage,x=g.resetCurrentConversationReplyToMessage,S=i.a.mark((function t(n){var r,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.payload.messageId,t.next=3,Object(l.select)(u.messageIdsSelector);case 3:if(t.sent.all.includes(r)){t.next=14;break}return t.next=7,Object(l.select)(u.currentConversationSelector);case 7:return o=t.sent,t.next=10,Object(l.call)(d.d,{payload:{conversation:o,direction:"around",reset:!0,messageId:r,isPopulateSync:!0}});case 10:return t.next=12,Object(l.put)(y({inScrollToMessage:!0}));case 12:t.next=22;break;case 14:return t.next=16,Object(l.select)(Object(u.getMessageSelector)(r));case 16:if(s=t.sent,!Object(p.isDeletedMessage)(s)){t.next=21;break}return t.next=20,Object(l.call)(u.setToastInformationSaga,Object(u.setToastInformation)({toast:{show:!0,type:"fail",message:e("message.notfound")}}));case 20:return t.abrupt("return");case 21:u.EventBus.emit("scrollToMessage",r);case 22:return t.next=24,Object(l.put)(b({messageId:r}));case 24:return t.next=26,Object(l.delay)(1500);case 26:return t.next=28,Object(l.select)(u.scrollToMessageIdSelector);case 28:if(t.sent!==r){t.next=32;break}return t.next=32,Object(l.put)(_());case 32:case"end":return t.stop()}}),t)})),O=i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.messageId,e.next=3,Object(l.select)(u.currentConversationIdSelector);case 3:return r=e.sent,e.next=6,Object(l.put)(C({currentConversationId:r,messageId:n}));case 6:case"end":return e.stop()}}),e)})),B=i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.select)(u.currentConversationIdSelector);case 2:return t=e.sent,e.next=5,Object(l.put)(x({currentConversationId:t}));case 5:case"end":return e.stop()}}),e)}));function w(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.takeEvery)(v,S);case 2:return e.next=4,Object(l.takeEvery)(E,B);case 4:return e.next=6,Object(l.takeEvery)(m,O);case 6:case"end":return e.stop()}}),f)}t.a=(r={},s()(r,C,(function(e,t){var n=t.payload,r=n.currentConversationId,o=void 0===r?"":r,a=n.messageId,i=void 0===a?"":a;return o&&i?h(h({},e),{},{reply:h(h({},e.reply),{},{toMessageId:h(h({},e.reply.toMessageId),{},s()({},o,i))})}):e})),s()(r,x,(function(e,t){var n=t.payload.currentConversationId,r=void 0===n?"":n;return r?h(h({},e),{},{reply:h(h({},e.reply),{},{toMessageId:h(h({},e.reply.toMessageId),{},s()({},r,""))})}):e})),s()(r,b,(function(e,t){return h(h({},e),{},{reply:h(h({},e.reply),{},{scrollToMessageId:t.payload.messageId})})})),s()(r,_,(function(e){return h(h({},e),{},{reply:h(h({},e.reply),{},{scrollToMessageId:""})})})),s()(r,y,(function(e,t){return h(h({},e),{},{reply:h(h({},e.reply),{},{inScrollToMessage:t.payload.inScrollToMessage})})})),r)}).call(this,n(21).t)},function(e,t,n){var r=n(246),o=n(247);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var i=0;i<16;++i)t[s+i]=a[i];return t||o(a)}},function(e,t){e.exports=C},,function(e,t,n){var r=n(18),o=n(233);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(234);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(240);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(251);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(253);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return N}));var r,o=n(4),s=n.n(o),a=n(5),i=n.n(a),c=n(15),u=n(29),l=n(3),d=n(2),p=n(1),f=n(20),A=i.a.mark(w),h=i.a.mark(T),g=i.a.mark(k),m=i.a.mark(R),E=i.a.mark(P),v=i.a.mark(N);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(c.createActions)((r={},s()(r,f.a.TRANSLATE_MESSAGES_REQUESTED,(function(e){return{messageId:e.messageId,shopId:e.shopId,conversationId:e.conversationId,toggle:e.toggle,targetLang:e.targetLang,isClickTryagain:e.isClickTryagain,isSend:e.isSend}})),s()(r,f.a.CHANGE_TRANSLATE_STATUS,(function(e){return{messageId:e.messageId,status:e.status,changeMidStatus:e.changeMidStatus}})),s()(r,f.a.SHOW_TRANSLATE_FEEDBACK,(function(e){return{messageId:e.messageId,conversationId:e.conversationId,shopId:e.shopId,translationSource:e.translationSource,track:e.track}})),s()(r,f.a.SEND_TRANSLATE_FEEDBACK,(function(e){return{quality:e.quality,messageId:e.messageId,conversationId:e.conversationId,shopId:e.shopId,translationModel:e.translationModel,feedbacks:e.feedbacks,otherSuggestion:e.otherSuggestion}})),r)),C=y.translateMessagesRequested,x=y.changeTranslateStatus,S=y.showTranslateFeedback,O=y.sendTranslateFeedback,B=function(e,t){return Object(l.put)(Object(p.updateRecord)({name:"messages",id:e,record:t}))};function w(e,t,n,r,o,s,a){var c,u,l;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=a?d.TranslationStatus.SUCCEED:d.TranslationStatus.FAILED,u=n?{toggleTranslateStatus:c}:{translateStatus:c},l=a?_(_({},a),{},{target_language:r}):{text:"",target_language:r},i.next=5,B(e,_(_({},u),{},{content:{text:t,translation:n?o:l,mid:n?l:s}}));case 5:case"end":return i.stop()}}),A)}function I(e,t,n,r,o,s,a,i,c,u,l){var d={step2_target_language:c,step2_translation_status:!!u},f=e||t&&!s?_(_({},{step1_target_language:a,step1_translation_status:!!i}),d):d;Object(p.clickTracker)({trackerName:"translationTryAgain",data:_({message_id:n,conversation_id:r,message_type:0,is_sender:o,original_language:l},f)})}function M(e,t,n,r,o,s){var a=e||t&&!s?{step1_translation_status:!1,step2_translation_status:!1}:{step2_translation_status:!1};Object(p.clickTracker)({trackerName:"translationTryAgain",data:_({message_id:n,conversation_id:r,message_type:0,is_sender:o},a)})}function T(e){var t,n,r,o,s,a,c,u,f,A,g,m,E,v,b,y,C,x,S,O,T,j,R,P,N,D,q,U,F,H,L,G,z;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.messageId,r=t.shopId,o=t.conversationId,s=t.toggle,a=t.targetLang,c=t.isClickTryagain,u=t.isSend,i.next=3,Object(l.select)(Object(p.getMessageSelector)(n));case 3:if(i.t0=i.sent,i.t0){i.next=6;break}i.t0={};case 6:return f=i.t0,A=f.content||{},g=A.text,m=A.translation,E=A.mid,v=(E||{}).text,i.prev=9,b={},a&&s?b.toggleTranslateStatus=d.TranslationStatus.PENDING:b.translateStatus=d.TranslationStatus.PENDING,i.next=14,B(n,b);case 14:if(!s){i.next=19;break}if(!E||!E.text){i.next=19;break}return i.next=18,k({payload:{messageId:n,status:d.TranslationStatus.SUCCEED,changeMidStatus:!0}});case 18:return i.abrupt("return");case 19:return i.next=21,Object(l.call)(p.fetch,{method:"POST",resource:"messages",suffix:"retry_translate",payload:JSON.stringify({shop_id:r,message_id:n,conversation_id:o})});case 21:if(y=i.sent,x=(C=y||{}).translated,S=C.middle_translated,T=(O=x||{}).translated_text,j=O.target_language,R=O.source_language,N=(P=S||{}).translated_text,D=P.target_language,q=P.source_language,U=s?_(_({},S),{},{text:N}):_(_({},x),{},{text:T}),F=s?!!N:!!T,H=q||R,c&&I(s,a,n,o,u,v,D,N,j,T,H),!a){i.next=34;break}return i.next=32,w(n,g,s,a,m,E,F?U:void 0);case 32:i.next=39;break;case 34:return L=F?d.TranslationStatus.SUCCEED:d.TranslationStatus.FAILED,G={translateStatus:L},z=F?U:{text:"",source:""},i.next=39,B(n,_(_({},G),{},{content:{text:g,translation:z,mid:E}}));case 39:i.next=46;break;case 41:return i.prev=41,i.t1=i.catch(9),i.next=45,w(n,g,s,a,m,E);case 45:c&&M(s,a,n,o,u,v);case 46:case"end":return i.stop()}}),h,null,[[9,41]])}function k(e){var t,n,r,o,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.messageId,r=t.status,o=t.changeMidStatus,s=o?{toggleTranslateStatus:r}:{translateStatus:r},a.next=4,B(n,s);case 4:case"end":return a.stop()}}),g)}var j={shopee_en:"local_en",shopee_cn:"cn_en",shopee_kr:"kr_en"};function R(e){var t,n,r,o,s,a;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.messageId,r=t.conversationId,o=t.shopId,s=t.translationSource,a=t.track,i.next=3,Object(l.put)(Object(p.showModal)({type:"EVALUTE_MODAL",title:{key:"modal.translation_feedback.title"},actions:{cancel:{label:{key:"common.cancel"},shape:"default",handler:function(){u.store.dispatch(Object(p.closeModal)())}},confirm:{label:{key:"common.submit"},handler:function(e){u.store.dispatch(Object(p.closeModal)()),e.quality===d.TranslationFeedbackQuality.GOOD&&a("clickFeedbackGoodSubmit","click"),(e.feedbacks||e.otherSuggestion)&&a("clickFeedbackTellSubmit","click"),u.store.dispatch(O(_({messageId:n,conversationId:r,shopId:o,translationModel:j[s]},e)))}}},additions:{track:a}}));case 3:case"end":return i.stop()}}),m)}function P(t){var n,r,o,s,a,c,u,d,f,A,h;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.quality,o=n.messageId,s=n.conversationId,a=n.shopId,c=n.translationModel,u=n.feedbacks,d=n.otherSuggestion,i.prev=1,i.next=4,Object(l.select)(Object(p.getMessageSelector)(o));case 4:if(i.t0=i.sent,i.t0){i.next=7;break}i.t0={};case 7:return f=i.t0,i.next=10,Object(l.select)(p.isSubAccountSelector);case 10:return A=i.sent,h={quality:r,message_id:o,conversation_id:s,translation_model:c,feedbacks:u,other_suggestion:d,to_shop_id:String(f.from_shop_id)},A&&(h.shop_id=a),i.next=15,Object(l.call)(p.fetch,{method:"POST",resource:"translation",suffix:"feedback",payload:JSON.stringify(h)});case 15:return i.next=17,Object(l.call)(p.setToastInformationSaga,Object(p.setToastInformation)({toast:{show:!0,type:"success",message:e("common.toast.translation_feedback")}}));case 17:i.next=21;break;case 19:i.prev=19,i.t1=i.catch(1);case 21:case"end":return i.stop()}}),E,null,[[1,19]])}function N(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.takeEvery)(C,T);case 2:return e.next=4,Object(l.takeEvery)(x,k);case 4:return e.next=6,Object(l.takeEvery)(S,R);case 6:return e.next=8,Object(l.takeEvery)(O,P);case 8:case"end":return e.stop()}}),v)}}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y}));var r=n(4),o=n.n(r),s=n(5),a=n.n(s),i=n(29),c=n(15),u=n(3),l=n(1),d=n(2);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=a.a.mark(b),h=a.a.mark(_),g=a.a.mark(y),m=Object(c.createActions)({DELETE_MESSAGE_REQUESTED:function(e){return{messageId:e.messageId,messageType:e.messageType,currentConversationId:e.currentConversationId}},DELETE_MESSAGE_POST_REQUESTED:function(e){return{messageId:e.messageId,messageType:e.messageType,currentConversationId:e.currentConversationId}}}),E=m.deleteMessageRequested,v=m.deleteMessagePostRequested;function b(t){var n,r,o,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.messageId,o=n.messageType,s=n.currentConversationId,a.next=3,Object(u.put)(Object(l.showModal)({type:"CONFIRM_MODAL",title:{key:"message.delete.title"},actions:{cancel:{label:e("common.cancel"),handler:function(){i.store.dispatch(Object(l.closeModal)()),Object(l.clickTracker)({trackerName:"cancelConfirm",data:{message_id:r,message_type:o,conversation_id:s}})}},confirm:{label:e("common.confirm"),handler:function(){i.store.dispatch(Object(l.closeModal)()),i.store.dispatch(v({messageId:r,messageType:o,currentConversationId:s})),Object(l.clickTracker)({trackerName:"deleteConfirm",data:{message_id:r,message_type:o,conversation_id:s}})}}}}));case 3:case"end":return a.stop()}}),A)}function _(e){var t,n,r,o,s,i,c,p,A,g,m,E,v,b,_,y,C,x;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.messageId,r=t.messageType,o=t.currentConversationId,a.prev=1,a.next=4,Object(u.select)(l.deleteConfigSelector);case 4:return s=a.sent,a.next=7,Object(u.select)(Object(l.getMessageSelector)(n));case 7:return i=a.sent,a.next=10,Object(u.call)(l.fetch,{method:"POST",parent:"messages",resource:"delete",payload:JSON.stringify({msg_id:n,type:i.type,delete_config_version:s.deleteConfigVersion})});case 10:return c=a.sent,p=i.message_option|d.EMessageOption.MSG_OPT_DELETE,A=Object(l.normalize)("messages",f(f({},i),{},{message_option:p})),g=A.entities,a.next=15,Object(u.put)(Object(l.updateEntities)({entities:g}));case 15:return a.next=17,Object(u.select)(Object(l.getConversation)(i.conversation_id));case 17:if((m=a.sent).latest_message_id!==i.id){a.next=22;break}return E=Object(l.normalize)("conversations",f(f({},m),{},{last_message_option:p,latest_message_content:{text:""},latest_message_from_id:i.from_id})),v=E.entities,a.next=22,Object(u.put)(Object(l.updateEntities)({entities:v}));case 22:if(b=c.config_version,s.deleteConfigVersion!==b){a.next=25;break}return a.abrupt("return");case 25:return a.next=27,Object(u.select)(l.currentUserSelector);case 27:return _=a.sent,y=(c.region_config||[]).find((function(e){return e.region===_.country})),C=!1,x=0,y&&y.duration&&(C=!0,x=y.duration),a.next=34,Object(u.put)(Object(l.checkDeletePermissionSucceeded)({hasDeletePermission:C,deleteConfigVersion:b,deleteConfigDuration:x}));case 34:a.next=41;break;case 36:return a.prev=36,a.t0=a.catch(1),a.next=40,Object(u.call)(l.setToastInformationSaga,Object(l.setToastInformation)({error:a.t0}));case 40:Object(l.impressionTracker)({trackerName:"error",data:{message_id:n,message_type:r,conversation_id:o,error_reason:a.t0.message}});case 41:case"end":return a.stop()}}),h,null,[[1,36]])}function y(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.takeEvery)(E,b);case 2:return e.next=4,Object(u.takeEvery)(v,_);case 4:case"end":return e.stop()}}),g)}}).call(this,n(21).t)},,function(e,t,n){"use strict";var r=n(36),o=n.n(r),s=n(54),a=n.n(s),i=n(4),c=n.n(i),u=n(11),l=n.n(u),d=n(12),p=n.n(d),f=n(6),A=n.n(f),h=n(13),g=n.n(h),m=n(14),E=n.n(m),v=n(8),b=n.n(v),_=n(0),y=n.n(_),C=n(10),x=n(140),S=n.n(x),O=n(191),B=n(193),w=n(194),I=n(2),M=n(1),T=["type","image"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var j=function(e){g()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).visitInSC=r.visitInSC.bind(A()(r)),r.visitOrderInSC=r.visitOrderInSC.bind(A()(r)),r.visitProductInSC=r.visitProductInSC.bind(A()(r)),r}return p()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.id,r=e.extraProps,o=r.messageId,s=r.conversationId,a=r.shopId,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({message_id:o,conversation_id:s},c()({},"".concat(t,"_id"),n));"order"===t&&Object(M.impressionTracker)({shopId:a,trackerName:"impressionOrderFromSourceInSpecialMessage",data:i}),"product"===t&&Object(M.impressionTracker)({shopId:a,trackerName:"impressionProductFromSourceInSpecialMessage",data:i})}},{key:"visitInSC",value:function(){var e=this.props.type;"product"===e?this.visitProductInSC():"order"===e&&this.visitOrderInSC()}},{key:"visitProductInSC",value:function(){var e=this.props,t=e.extraProps,n=t.status,r=t.isScChat,o=t.isSubAccount,s=t.scProductLink,a=t.mallProductLink,i=t.shopId,c=t.itemId,u=t.messageId,l=t.conversationId,d=e.visitShopSellerCenterRequested,p=e.shopAccess.hasViewProductAccess;n===I.ProductStatusUsingNumber.DELETED||(Object(M.clickTracker)({shopId:i,trackerName:"clickVisitProductInSellerCenter",data:{product_id:c,message_id:u,conversation_id:l}}),r?Object(I.redirectionWithAccess)({access:p,isSubAccount:o,action:function(){return d({shopId:i,itemId:c})},url:s}):window.open(a))}},{key:"visitOrderInSC",value:function(){var e=this.props,t=e.extraProps,n=t.isScChat,r=t.isSubAccount,o=t.shopId,s=t.orderLink,a=t.mallOrderLink,i=t.orderId,c=t.messageId,u=t.conversationId,l=e.visitShopSellerCenterRequested,d=e.shopAccess.hasViewOrderAccess;Object(M.clickTracker)({shopId:o,trackerName:"clickVisitOrderInSellerCenter",data:{order_id:i,message_id:c,conversation_id:u}}),n?Object(I.redirectionWithAccess)({access:d,isSubAccount:r,action:function(){return l({shopId:o,orderId:i})},url:s}):window.open(a)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.image,r=a()(e,T),s=r.shopAccess,i=s.hasViewOrderAccess,c=s.hasViewProductAccess,u=i||c,l="".concat(S.a.root," ").concat(S.a.source);return y.a.createElement("div",{className:l,onClick:this.visitInSC,style:{cursor:u?"pointer":"default"}},"product"===t&&y.a.createElement(w.a,o()({image:n},r)),"order"===t&&y.a.createElement(B.a,o()({image:n},r)),y.a.createElement(O.a,o()({type:t},r)))}}]),n}(y.a.PureComponent),R={visitShopSellerCenterRequested:M.visitShopSellerCenterRequested};t.a=Object(C.connect)((function(e){return{currentUser:Object(M.currentUserSelector)(e),shopAccess:Object(M.shopAccessSelector)(e)}}),R)(j)},function(e,t){e.exports=x},function(e,t,n){"use strict";var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(93),E=n.n(m),v=n(7),b=n(9),_=n(2),y=n(104),C=n.n(y),x=n(42),S=n.n(x),O=function(e){l()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).renderProductImage=r.renderProductImage.bind(c()(r)),r.handleOnClick=r.handleOnClick.bind(c()(r)),r}return a()(n,[{key:"renderProductImage",value:function(e,t,n){return g.a.createElement("div",{className:S.a.image},g.a.createElement(v.Image,{src:e,hash:n}),g.a.createElement("div",{className:S.a.imageBorder}),t&&g.a.createElement("div",{className:S.a.invalid},g.a.createElement(v.Icon,{svg:C.a,className:S.a.invalidIcon})))}},{key:"handleOnClick",value:function(){this.props.productStatus===_.ProductStatusUsingNumber.DELETED||(window.open(this.props.url),this.props.trackItem(this.props.id))}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.imageHash,r=e.name,o=e.price,s=e.inValid,a=e.status,i=e.productStatus===_.ProductStatusUsingNumber.DELETED,c=this.renderProductImage(t,s,n);return g.a.createElement("div",{className:S.a.detailBlock,onClick:this.handleOnClick},i?g.a.createElement(b.UnavailableProduct,null):g.a.createElement(g.a.Fragment,null,c,g.a.createElement("div",{className:S.a.content},g.a.createElement("div",{className:S.a.name,title:r},g.a.createElement(E.a,{tagName:"span",className:S.a.dot,clamp:1},r)),g.a.createElement("div",{className:S.a.priceDetail},g.a.createElement("div",{className:S.a.price,title:o},o),a&&g.a.createElement("div",{className:S.a.divider}),a&&g.a.createElement("div",{className:S.a.invalidBrand},a)))))}}]),n}(g.a.PureComponent);t.a=O},function(e,t,n){"use strict";var r,o=n(4),s=n.n(o),a=n(2),i=n(0),c=n.n(i),u=n(17),l=n(9),d=n(10),p=n(1),f=n(16),A=function(){return{}},h={handleSensitiveUrl:f.handleSensitiveUrl,changeTranslateStatus:f.changeTranslateStatus,translateMessagesRequested:f.translateMessagesRequested,scrollToMessage:f.scrollToMessage,showTranslateFeedback:f.showTranslateFeedback},g=Object(u.a)(Object(d.connect)((function(e){return{autoTranslation:Object(p.autoTranslation)(e),shopTranslationSettings:Object(p.shopTranslationSettingsSelector)(e),currentConversationAutoTranslation:Object(p.currentConversationAutoTranslationSelectors)(e),currentConversationTranslationAccess:Object(p.currentConversationTranslationAccessSelector)(e)}}),h)((function(e){var t=e.isScChat,n=e.isSend,r=e.isSubAccount,o=e.autoTranslation,s=e.shopTranslationSettings,a=e.measure,i=e.handleSensitiveUrl,u=e.changeTranslateStatus,d=e.translateMessagesRequested,p=e.message,f=e.currentConversationAutoTranslation,h=e.conversationShopId,g=e.currentConversationTranslationAccess,m=e.scrollToMessage,E=e.isInFaqHistoryModal,v=e.conversationId,b=e.conversationBuyerId,_=e.track,y=e.showTranslateFeedback,C=p.send_status,x=p.message_option,S=p.content,O=p.id,B=p.country,w=p.translateStatus,I=p.toggleTranslateStatus,M=p.type,T=p.quoted_msg,k=p.source;if(!S.text)return null;var j=(S||{}).translation,R=(j=void 0===j?{}:j).text,P=s[h]||{},N=P.translationPreference,D=P.autoTranslationStatus,q=P.source,U=P.inTranslationFeedbackWhitelist,F="enabled"===(D||o),H=t?r?D?"enabled"===D:f:F:n?F:F||g&&!!R,L=E?A:m;return c.a.createElement(l.TextMessage,{buyerId:b,shopId:h,sendStatus:C,messageOption:x,enableTranslation:H,translationPreference:N,translationSource:q,id:O,measure:a,translateStatus:w,toggleTranslateStatus:I,handleSensitiveUrl:i,changeTranslateStatus:u,translateMessagesRequested:d,content:S,isScChat:t,autoTranslation:o,isSend:n,country:B,type:M,replyToMessage:T,scrollToMessage:L,conversationId:v,messageSource:k,track:_,showTranslateFeedback:y,inTranslationFeedbackWhitelist:U})}))),m=n(49),E=function(){return{}},v={showMediaPreviewModalRequested:p.showMediaPreviewModalRequested,scrollToMessage:f.scrollToMessage},b=Object(u.a)(Object(d.connect)((function(){return{}}),v)((function(e){var t=e.isSend,n=e.measure,r=e.showMediaPreviewModalRequested,o=e.message,s=e.track,u=e.scrollToMessage,d=e.isInFaqHistoryModal,p=e.conversationBuyerId,f=o.id,A=o.request_id,h=o.content,g=o.send_status,v=o.quoted_msg,b=Object(i.useContext)(m.a),_=t&&g===a.MessageSendStatus.SENDING,y=d?E:u;return c.a.createElement(l.ImageMessage,{isSend:t,imgCache:b,isSending:_,id:f,request_id:A,content:h,showMediaPreviewModalRequested:r,measure:n,track:s,replyToMessage:v,scrollToMessage:y,conversationBuyerId:p})}))),_=n(36),y=n.n(_),C=function(e){var t=e.isSend,n=e.region,r=e.measure,o=e.isSubAccount,s=e.handleReload,i=e.replyOfferRequested,u=e.message,d=e.conversationStatus,f=e.conversationShopId,A=u.id,h=u.type,g=u.content,m=u.textContent,E=void 0===m?{}:m,v=u.conversation_id;return c.a.createElement(l.OfferMessage,{id:A,type:h,isSend:t,country:n,measure:r,onReply:function(e){Object(p.clickTracker)({shopId:f,trackerName:e.isAccept?"clickAcceptOffer":"clickRejectOffer",data:{itemid:E.id,conversation_id:v,message_id:A}}),i(e)},priceBeforeTax:g.price_before_tax,taxValue:g.tax_value,textContent:E,handleReload:s,onClickDetail:function(){var e=g.shop_id,t=g.product_id;window.open("https://".concat(o?Object(a.getMallUrl)(n):Object(a.getMallUrl)(),"/product/").concat(e,"/").concat(t,"/"))},conversationClosed:"closed"===d,isFromSelf:f!==g.shop_id})},x=n(43),S=n.n(x),O=n(37),B=function(e){return S.a.put(O.default.replyOfferRequested({payload:e}))},w=Object(u.a)((function(e){return c.a.createElement(C,y()({},e,{replyOfferRequested:B}))})),I={visitShopSellerCenterRequested:p.visitShopSellerCenterRequested},M=Object(u.a)(Object(d.connect)((function(e){return{currentUser:Object(p.currentUserSelector)(e),shopAccess:Object(p.shopAccessSelector)(e)}}),I)((function(e){var t=e.isScChat,n=e.region,r=e.isSubAccount,o=e.handleReload,s=e.visitShopSellerCenterRequested,i=e.isSend,u=e.currentUser,d=e.track,p=e.message,f=e.shopAccess,A=void 0===f?{}:f,h=e.conversationShopId,g=A.hasViewProductAccess,m=p.textContent,E=void 0===m?{}:m,v=E.id,b=E.shop_id,_=E.name,y=E.actual_price_string,C=E.image,x=E.image_hash,S=E.status,O=v&&S===a.ProductStatusUsingNumber.DELETED,B=u&&u.type!==a.AccountType.SUBACCOUNT?b===u.shop_id:b===h,w=!r||!B||t,I=w?"https://".concat(Object(a.getMallUrl)(n),"/product/").concat(b,"/").concat(v,"/"):"https://".concat(Object(a.getSellerCenterUrl)(Object(a.isVisitingCNSC)()?"cn":n),"/portal/product/").concat(v);return c.a.createElement(l.ProductMessage,{name:_,price:y,image:C,imageHash:x,isSend:i,failed:!v||!y,deleted:O,hasAccess:g||w,handleReload:o,handleClick:function(){O||(d("clickViewProductInMallOrSellerCenter","click",{itemid:v}),w?window.open(I):Object(a.redirectionWithAccess)({access:g,isSubAccount:!0,action:function(){return s({shopId:b,itemId:v})}}))}})}))),T={visitShopSellerCenterRequested:p.visitShopSellerCenterRequested},k=Object(u.a)(Object(d.connect)((function(e){return{currentUser:Object(p.currentUserSelector)(e),shopAccess:Object(p.shopAccessSelector)(e)}}),T)((function(e){var t=e.isSubAccount,n=e.currentUser,r=e.isSend,o=e.handleReload,s=e.visitShopSellerCenterRequested,a=e.message,i=e.shopAccess,u=void 0===i?{}:i,d=e.conversationShopId,p=e.region,f=u.hasViewOrderAccess,A=a.content,h=a.textContent,g=(A||{}).shop_id,m=(n||{}).shop_id,E=t?g===d:g===m;return c.a.createElement(l.OrderMessage,{region:p,isOwnOrder:E,hasViewOrderAccess:f,isSend:r,handleReload:o,textContent:h,visitShopSellerCenterRequested:s,isSubAccount:t,content:A})}))),j=function(){return{}},R={scrollToMessage:f.scrollToMessage},P=Object(u.a)(Object(d.connect)((function(){return{}}),R)((function(e){var t=e.region,n=e.message,r=e.isSend,o=e.scrollToMessage,s=e.isInFaqHistoryModal,u=e.conversationBuyerId,d=n.send_status,p=n.request_id,f=n.id,A=n.content,h=n.quoted_msg,g=r&&d===a.MessageSendStatus.SENDING,E=Object(i.useContext)(m.a),v=s?j:o;return c.a.createElement(l.StickerMessage,{imgCache:E,isSending:g,id:f,content:A,country:t,request_id:p,isSend:r,replyToMessage:h,scrollToMessage:v,conversationBuyerId:u})}))),N=Object(u.a)((function(e){var t=e.isSend,n=e.message,r=n.type,o=n.content;return c.a.createElement(l.SystemMessage,{type:r,content:o,isSend:t})})),D=n(75),q=Object(u.a)((function(e){var t=e.isSend,n=e.track,r=e.message,o=e.region,s=r.type,a=r.content;return c.a.createElement(l.ProductsMessage,{region:o,type:s,isSend:t,content:a,track:n})})),U=Object(u.a)(Object(d.connect)((function(e){return{currentUser:Object(p.currentUserSelector)(e)}}),{})((function(e){var t=e.measure,n=e.isSend,r=e.handleReload,o=e.conversation,s=e.message,a=s.id,u=s.conversation_id,d=s.request_id,f=s.textContent,A=s.fetchStatus,h=Object(i.useContext)(m.a);return c.a.createElement(l.FeedStoryMessage,{imgCache:h,id:a,requestId:d,measure:t,isSend:n,textContent:f,handleReload:r,fetchStatus:A,handleTrackStory:function(){Object(p.clickTracker)({shopId:o.shop_id,trackerName:"clickHandleStoryMessage",data:{story_id:f.id,message_id:a,conversation_id:u}})}})}))),F=Object(u.a)((function(e){var t=e.measure,n=e.isSend,r=e.handleReload,o=e.track,s=e.message,a=e.region,i=s.content,u=i.cart_items,d=void 0===u?[]:u,p=i.shop_id,f=s.textContent,A=void 0===f?[]:f,h=s.fetchStatus;return c.a.createElement(l.CartReminderMessage,{isSend:n,measure:t,handleReload:r,failed:"failed"===h,products:A,cartItems:d,shopId:p,region:a,track:o})})),H=n(33),L={sendMessagesRequested:f.sendMessagesRequested},G=Object(u.a)(Object(d.connect)((function(){return{}}),L)((function(e){var t=e.isSend,n=e.measure,r=e.sendMessagesRequested,o=e.message,s=e.conversationShopId,a=e.conversationBuyerId,i=e.conversationId,u=e.isInFaqHistoryModal,d=o.content,p=Object(H.a)(u,r);return c.a.createElement(l.FaqMessage,{isSend:t,measure:n,sendMessagesRequested:p,content:d,conversationId:i,shopId:s,conversationUserId:a})}))),z=n(11),W=n.n(z),Y=n(12),V=n.n(Y),X=n(13),Q=n.n(X),Z=n(14),J=n.n(Z),K=n(8),$=n.n(K),ee=n(76),te=n.n(ee),ne=n(109),re=n.n(ne),oe=function(e){Q()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$()(e);if(t){var o=$()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J()(this,n)}}(n);function n(){return W()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e=this.props,t=e.conversationId,n=e.conversationShopId,r=e.conversationBuyerId,o=e.sendMessagesRequested,s=e.isSend,i=e.isInFaqHistoryModal,u=e.message,d=void 0===u?{}:u,p=d.type,f=Object(H.a)(i,o),A=p===a.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED;return c.a.createElement("div",null,c.a.createElement("div",{className:te()(re.a.message,s?re.a.send:"",A?re.a.unsupportFaq:"")},Object(a.getCustomMessageText)(d.type)),A&&c.a.createElement(l.FaqButton,{isSend:s,conversationId:t,shopId:n,conversationUserId:r,sendMessagesRequested:f}))}}]),n}(c.a.PureComponent),se={sendMessagesRequested:f.sendMessagesRequested},ae=Object(u.a)(Object(d.connect)(null,se)(oe)),ie={sendMessagesRequested:f.sendMessagesRequested},ce=Object(u.a)(Object(d.connect)((function(){return{}}),ie)((function(e){var t=e.sendMessagesRequested,n=e.isSend,r=e.message,o=e.conversationShopId,s=e.conversationBuyerId,a=e.conversationId,i=e.isInFaqHistoryModal,u=r.id,d=r.content,p=Object(H.a)(i,t);return c.a.createElement(l.FaqFeedbackPromptMessage,{id:u,content:d,sendMessagesRequested:p,conversationId:a,conversationUserId:s,isSend:n,shopId:o})}))),ue={sendMessagesRequested:f.sendMessagesRequested},le=Object(u.a)(Object(d.connect)((function(){return{}}),ue)((function(e){var t=e.sendMessagesRequested,n=e.isSend,r=e.conversationShopId,o=e.conversationBuyerId,s=e.conversationId,a=e.isInFaqHistoryModal,i=Object(H.a)(a,t);return c.a.createElement(l.FaqLiveAgentPromptMessage,{sendMessagesRequested:i,isSend:n,conversationId:s,shopId:r,conversationUserId:o})}))),de=n(204),pe=n(205),fe={visitShopSellerCenterRequested:p.visitShopSellerCenterRequested},Ae=Object(u.a)(Object(d.connect)((function(e){return{shopAccess:Object(p.shopAccessSelector)(e)}}),fe)((function(e){var t=e.isSend,n=e.handleReload,r=e.isSubAccount,o=e.visitShopSellerCenterRequested,s=e.track,i=e.message,u=e.shopAccess,d=void 0===u?{}:u,p=e.region,f=d.hasViewOrderAccess,A=i.content,h=A.order_id,g=A.shop_id,m=i.textContent,E=Object(a.isVisitingCNSC)()?"cn":p;return c.a.createElement(l.RateReminderMessage,{isSend:t,region:E,textContent:m,handleReload:n,hasViewOrderAccess:f,visitUnratedOrderRequest:function(){var e="https://".concat(Object(a.getMallUrl)(E),"/user/purchase/order/").concat(h,"/?shopid=").concat(g),n="https://".concat(Object(a.getSellerCenterUrl)(E),"/portal/sale/").concat(h);t?Object(a.redirectionWithAccess)({access:f,isSubAccount:r,action:function(){return o({shopId:g,orderId:h})},url:n}):window.open(e)},track:s})}))),he=n(207),ge={fetchFaqMessagesRequested:f.fetchFaqMessagesRequested,updateCurrentFaqId:f.updateCurrentFaqId},me=Object(u.a)(Object(d.connect)(null,ge)((function(e){return c.a.createElement(he.a,e)}))),Ee=n(6),ve=n.n(Ee),be=n(80),_e=n.n(be),ye=a.MessageTypes.MSG_TYPE_SELECTED_OPTION,Ce=function(e){Q()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$()(e);if(t){var o=$()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J()(this,n)}}(n);function n(e){var r;return W()(this,n),(r=t.call(this,e)).renderOption=r.renderOption.bind(ve()(r)),r.sendMessage=r.sendMessage.bind(ve()(r)),r}return V()(n,[{key:"sendMessage",value:function(e){var t=e.request_live_agent,n=e.payload,r=e.text,o=this.props,s=o.sendMessagesRequested,a=o.conversationShopId,i=o.conversationBuyerId;s({conversationId:o.conversationId,conversationUserId:i,messages:[{shopId:a,type:ye,content:{text:r,payload:n,request_live_agent:t}}]})}},{key:"renderOption",value:function(e,t){var n,r=this,o=e.text,a=e.variant,i=this.props,u=i.message,l=i.currentConversationMaxOptionHideTime,d=u.created_timestamp<l,p=te()(_e.a.option,(n={},s()(n,_e.a.primary,1===a),s()(n,_e.a.invalid,d),n));return c.a.createElement("div",{key:t,className:p,title:o,onClick:function(){if(d)return null;r.sendMessage(e)}},o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSensitiveUrl,r=t.message,o=r.content,s=o.title,a=o.options,i=void 0===a?[]:a,u=r.message_option;return c.a.createElement("div",{className:_e.a.root},c.a.createElement("div",{className:_e.a.title},c.a.createElement(l.Text,{text:s,messageOption:u,handleSensitiveUrl:n})),i.map((function(t,n){return e.renderOption(t,n)})))}}]),n}(i.PureComponent),xe={handleSensitiveUrl:f.handleSensitiveUrl,sendMessagesRequested:f.sendMessagesRequested},Se=Object(u.a)(Object(d.connect)((function(e){return{conversation:Object(p.currentConversationSelector)(e),currentConversationMaxOptionHideTime:Object(p.currentConversationMaxOptionHideTimeSelectors)(e)}}),xe)(Ce)),Oe=Object(u.a)((function(e){var t=e.region,n=e.isSend,r=e.message.content;return c.a.createElement(l.AddOnDealMessage,{content:r,region:t,isSend:n})})),Be=function(){return{}},we={showMediaPreviewModalRequested:p.showMediaPreviewModalRequested,scrollToMessage:f.scrollToMessage},Ie=Object(d.connect)((function(e,t){return{videoInfo:Object(p.selectVideoInfoByKey)(t.message.request_id)(e)}}),we)((function(e){var t=e.isSend,n=e.videoInfo,r=e.showMediaPreviewModalRequested,o=e.message,s=e.conversationShopId,i=e.scrollToMessage,u=e.isInFaqHistoryModal,d=e.conversationBuyerId,f=o.id,A=o.conversation_id,h=o.to_id,g=o.from_id,m=o.request_id,E=o.content,v=o.send_status,b=o.quoted_msg,_=t&&v===a.MessageSendStatus.SENDING,y=u?Be:i;return c.a.createElement(l.VideoMessage,{id:f,isSend:t,content:E,isSending:_,videoInfo:n,onPlayVideo:function(e){Object(p.clickTracker)({trackerName:"clickPlayInVideoMessage",data:{message_id:f===m?0:f,conversation_id:A,is_sender:t,to_user_id:h,from_user_id:g,video_original_duration:E.duration_seconds},conversationShopId:s}),r({messageId:e})},replyToMessage:b,scrollToMessage:y,conversationBuyerId:d})})),Me=Object(u.a)((function(e){return c.a.createElement(Ie,e)})),Te={handleSensitiveUrl:f.handleSensitiveUrl,showMediaPreviewModalRequested:p.showMediaPreviewModalRequested},ke=Object(u.a)(Object(d.connect)((function(){return{}}),Te)((function(e){var t=e.isSend,n=e.measure,r=e.showMediaPreviewModalRequested,o=e.message,s=e.handleSensitiveUrl,a=o.content,u=o.id,d=o.request_id,p=o.send_status,f=o.message_option,A=Object(i.useContext)(m.a);return c.a.createElement(l.ImageWithTextMessage,{content:a,measure:n,messageId:u,requestId:d,isSend:t,imgCache:A,sendStatus:p,messageOption:f,handleSensitiveUrl:s,showMediaPreviewModalRequested:r})}))),je=(r={},s()(r,a.MessageTypes.MSG_TYPE_TEXT,g),s()(r,a.MessageTypes.MSG_TYPE_IMAGE,b),s()(r,a.MessageTypes.MSG_TYPE_OFFER,w),s()(r,a.MessageTypes.MSG_TYPE_ORDER,k),s()(r,a.MessageTypes.MSG_TYPE_STICKER,P),s()(r,a.MessageTypes.MSG_TYPE_PRODUCT,M),s()(r,a.MessageTypes.MSG_TYPE_WEBVIEW,N),s()(r,a.MessageTypes.MSG_TYPE_NOTIFICATION,N),s()(r,a.MessageTypes.MSG_TYPE_VOUCHER,D.a),s()(r,a.MessageTypes.MSG_TYPE_SHOP_CATEGORY,q),s()(r,a.MessageTypes.MSG_TYPE_ITEM_LIST,q),s()(r,a.MessageTypes.MSG_TYPE_FEED_STORY,U),s()(r,a.MessageTypes.MSG_TYPE_SHOPPING_CART,F),s()(r,a.MessageTypes.MSG_TYPE_FAQ,G),s()(r,a.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT,g),s()(r,a.MessageTypes.MSG_TYPE_FAQ_QUESTION,g),s()(r,a.MessageTypes.MSG_TYPE_FAQ_FEEDBACK,g),s()(r,a.MessageTypes.MSG_TYPE_FAQ_FEEDBACK_PROMPT,ce),s()(r,a.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,le),s()(r,a.MessageTypes.MSG_TYPE_UNTATED_ORDER_REMINDER,Ae),s()(r,a.MessageTypes.MSG_TYPE_BUNDLE_MESSAGE,me),s()(r,a.MessageTypes.MSG_TYPE_BUNDLE_DEAL,de.a),s()(r,a.MessageTypes.MSG_TYPE_FLASH_SALE,pe.a),s()(r,a.MessageTypes.MSG_TYPE_OPTION_PACK,Se),s()(r,a.MessageTypes.MSG_TYPE_SELECTED_OPTION,g),s()(r,a.MessageTypes.MSG_TYPE_ADD_ON_DEAL,Oe),s()(r,a.MessageTypes.MSG_TYPE_VIDEO,Me),s()(r,a.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT,ke),r);t.a=function(e){return je[e]||ae}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),s=n(9),a=function(e){var t=e.measure,n=e.evaluationRequested,r=e.handleReload,a=e.message,i=a.content,c=a.from_shop_id;return o.a.createElement(s.EvaluationMessage,{measure:t,content:i,handleReload:r,rateShopId:c,onSubmit:function(e){return n(e)}})},i=n(10),c=n(17),u={evaluationRequested:n(16).evaluationRequested};t.a=Object(c.a)(Object(i.connect)((function(){return{}}),u)((function(e){return o.a.createElement(a,e)})))},,function(e,t,n){var r=n(18),o=n(248);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(254);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(53);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,s=Object.create(o.prototype),a=new C(r||[]);return s._invoke=function(e,t,n){var r="suspendedStart";return function(o,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw s;return{value:void 0,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var i=b(a,n);if(i){if(i===l)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function d(){}function p(){}function f(){}var A={};A[o]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&n.call(g,o)&&(A=g);var m=f.prototype=d.prototype=Object.create(A);function E(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var r;this._invoke=function(o,s){function a(){return new t((function(r,a){!function r(o,s,a,i){var c=u(e[o],e,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,i)}))}i(c.arg)}(o,s,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m.constructor=f,f.constructor=p,p.displayName=i(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(v.prototype),v.prototype[s]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var a=new v(c(t,n,r,o),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(m),i(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(i&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;y(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=i(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new A(e,t)),1!==u.length||l||i(f)},A.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(t=n(19)(!0)).push([e.i,"._31xcV2AYAe7PQCE5go9tBW {\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  -ms-scroll-chaining: none;\n      overscroll-behavior: contain;\n}\n\n.jHfK1c-Py0hqmZG0XqDnq {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  box-sizing: border-box;\n}\n","",{version:3,sources:["style.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB;EACtB,yBAA4B;MAA5B,4BAA4B;AAC9B;;AAEA;EACE,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,sBAAsB;AACxB",file:"style.css",sourcesContent:[".root {\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  overscroll-behavior: contain;\n}\n\n.empty {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  box-sizing: border-box;\n}\n"]}]),t.locals={root:"_31xcV2AYAe7PQCE5go9tBW",empty:"jHfK1c-Py0hqmZG0XqDnq"},e.exports=t},,,,,,,,function(e,t,n){var r=n(18),o=n(235);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t){e.exports=S},function(e,t,n){var r=n(18),o=n(241);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(242);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(243);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(244);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){var r=n(18),o=n(258);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]),r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=O},function(e,t){e.exports=B},function(e,t){e.exports=w},function(e,t){e.exports=I},function(e,t,n){"use strict";(function(e){var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(7),E=n(69),v=n.n(E),b=n(78),_=n.n(b),y=function(t){l()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this,e)).handleClose=t.handleClose.bind(c()(t)),t}return a()(r,[{key:"handleClose",value:function(){var e=this.props,t=e.currentConversation;(0,e.updateTranslateTips)({shopId:t.shop_id,flag:"closed"})}},{key:"render",value:function(){return g.a.createElement("div",{className:_.a.root},g.a.createElement("div",{className:_.a.left},g.a.createElement("div",{className:_.a.icon}),g.a.createElement("div",{className:_.a.tips},e("auto_translation.suggestion"))),g.a.createElement(m.Icon,{svg:v.a,className:_.a.close,onClick:this.handleClose}))}}]),r}(g.a.PureComponent);t.a=y}).call(this,n(21).t)},function(e,t){e.exports=M},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(96),a=n.n(s),i=o.a.memo((function(){return o.a.createElement("div",{className:a.a.newMessageTip},o.a.createElement("span",{className:a.a.prevLine}),o.a.createElement("span",{className:a.a.newMessageContent},e("conversation_detail.message_list.unread_messages")),o.a.createElement("span",{className:a.a.postLine}))}));t.a=i}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(2),a=n(103),i=n(1),c=n(10);t.a=Object(c.connect)((function(e){return{buyerShopId:Object(i.currentBuyerShopIdSelector)(e),currentUserShopId:Object(i.currentUserShopIdSelector)(e)}}),{})((function(t){var n,r=t.isFaking,i=t.content,c=void 0===i?{}:i,u=t.sendStatus,l=t.isSendByMe,d=t.currentUserShopId,p=t.isSubAccount,f=t.isScChat,A=t.buyerShopId,h=t.shopId,g=t.region,m=t.messageId,E=t.conversationId;p||(n="https://".concat(Object(s.getSellerCenterUrl)(),"/portal/sale/").concat(c.id));var v=Object(s.getMallOrderUrl)(c,l?A:d),b={},_=c||{},y=_.id,C=_.status,x=_.image,S=_.title,O=_.products_count,B=_.refund_serial_number,w=_.serial_number;"refund"===C?b.refundId=B:b.orderId=w;var I=Object(s.getOrderPayment)(c,g).payment,M={orderId:y,smallImage:!0,itemCount:O,status:C,statusText:e(Object(s.getOrderStatusTransifyKey)(C)),isSubAccount:p,shopId:h,orderLink:n,mallOrderLink:v,orderOrRefundId:b,sendStatus:u,isSendByMe:l,isScChat:f,isFaking:r,messageId:m,conversationId:E};return o.a.createElement(a.a,{id:c.id,type:"order",image:x,name:S,price:I,extraProps:M})}))}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(79),E=n.n(m),v=n(192),b=n.n(v),_=n(7),y=n(2),C=function(t){l()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this,e)).renderFooterActions=t.renderFooterActions.bind(c()(t)),t}return a()(r,[{key:"renderFooterActions",value:function(){var t=this.props.extraProps,n=t.sendStatus,r=t.isSendByMe;if(!t.isFaking&&[y.MessageSendStatus.SUCCEED,null].includes(n)&&r)return g.a.createElement("div",{className:E.a.sendStatus},g.a.createElement(_.Icon,{svg:b.a,className:E.a.linkArrow}),e("common.order.link_send"))}},{key:"render",value:function(){var t=this.props.type,n="".concat(E.a.root," ").concat(E.a.source);return g.a.createElement("div",{className:n},g.a.createElement("div",{className:E.a.label},e("common.".concat(t,".footer"))),this.renderFooterActions())}}]),r}(g.a.PureComponent);t.a=C}).call(this,n(21).t)},function(e,t){e.exports=T},function(e,t,n){"use strict";(function(e){var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(60),E=n.n(m),v=n(34),b=n.n(v),_=n(7),y=n(85),C=n.n(y),x=n(86),S=n.n(x),O=n(87),B=n.n(O),w=n(88),I=n.n(w),M=n(89),T=n.n(M),k=n(90),j=n.n(k),R=n(2),P={unpaid:S.a,to_ship:B.a,shipping:I.a,completed:T.a,cancelled:j.a,refund:C.a},N=function(t){l()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this,e)).renderOrderStatus=t.renderOrderStatus.bind(c()(t)),t}return a()(r,[{key:"renderOrderStatus",value:function(e){var t=e.status,n=e.statusText,r=P[t];return g.a.createElement("div",{className:E.a.orderStatus},g.a.createElement(_.Icon,{svg:r,className:"".concat(E.a.statusIcon," ").concat(E.a[t])}),g.a.createElement("div",{className:E.a.statusText,title:n},n))}},{key:"render",value:function(){var t=this.props,n=t.image,r=t.price,o=t.extraProps,s=t.imageHash,a=o.itemCount,i=this.renderOrderStatus(o),c=e("conversation_detail.message_list.order_total_price",{orderTotalPrice:r}),u=e(Object(R.formatTransifyKeyWithNumber)("conversation_detail.message_list.order_product_count",a),{orderProductCount:a});return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:b.a.detailBlock},g.a.createElement("div",{className:b.a.image},g.a.createElement(_.Image,{src:n,hash:s}),g.a.createElement("div",{className:b.a.imageBorder})),g.a.createElement("div",{className:b.a.content},i,g.a.createElement("div",{className:E.a.detail},g.a.createElement("div",{className:E.a.payment,title:c},c),g.a.createElement("div",{className:b.a.divider}),g.a.createElement("div",{className:E.a.sourceCount,title:u},u)))))}}]),r}(g.a.PureComponent);t.a=N}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(61),E=n.n(m),v=n(34),b=n.n(v),_=n(7),y=n(9),C=n(2),x=n(104),S=n.n(x),O=[C.ProductStatusUsingString.DELETED,C.ProductStatusUsingString.BANNED,C.ProductStatusUsingString.SOLD_OUT],B=function(t){l()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this,e)).renderProductImage=t.renderProductImage.bind(c()(t)),t}return a()(r,[{key:"renderProductStatus",value:function(t){var n,r=t.status,o=void 0===r?"normal":r,s=t.stock,a=void 0===s?0:s,i=Object(C.getProductStatusTransifyKey)(o),c="".concat(E.a.status," ");return n=o===C.ProductStatusUsingString.NORMAL?e(i,{productStock:a}):e(i),o===C.ProductStatusUsingString.NORMAL||o===C.ProductStatusUsingString.DELETED?c+="".concat(E.a[o]):c+="".concat(E.a.invalid),g.a.createElement("div",{className:c,title:n},n)}},{key:"renderProductImage",value:function(e,t){var n=t.status,r=void 0===n?"normal":n,o=t.image_hash;return g.a.createElement("div",{className:b.a.image},g.a.createElement(_.Image,{src:e,hash:o}),g.a.createElement("div",{className:b.a.imageBorder}),O.includes(r)&&g.a.createElement("div",{className:b.a.invalid},g.a.createElement(_.Icon,{svg:S.a,className:b.a.invalidIcon})))}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.name,r=e.price,o=e.extraProps,s=o||{},a=s.originPrice,i=s.status,c=this.renderProductStatus(o),u=this.renderProductImage(t,o),l=i===C.ProductStatusUsingNumber.DELETED;return g.a.createElement("div",{className:b.a.detailBlock},l?g.a.createElement(y.UnavailableProduct,{className:E.a.productDeleted}):g.a.createElement(g.a.Fragment,null,u,g.a.createElement("div",{className:b.a.content},g.a.createElement("div",{className:b.a.productName,title:n},n),g.a.createElement("div",{className:"".concat(b.a.productDetail," ").concat(a?E.a.origin:"")},a&&g.a.createElement("div",{title:a,className:E.a.originalPrice},a),g.a.createElement("div",{className:E.a.price,title:r},r),g.a.createElement("div",{className:b.a.divider}),c))))}}]),r}(g.a.PureComponent);t.a=B}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(97),a=n.n(s),i=n(7),c=n(2),u=n(141),l=n.n(u),d=o.a.memo((function(t){var n=t.message,r=t.resendMessage,s=n.send_status,u=n.errorCode,d=n.message_option,p=s===c.MessageSendStatus.FAILED,f=u===c.MessageErrorCode.BLACKLIST,A=Object(c.hasTargetMessageOption)(d,c.MessageOption.NOT_SEND),h=o.a.createElement("div",{className:a.a.iconWrap},o.a.createElement(i.Icon,{svg:l.a,className:a.a.iconBase}));return p?f?h:o.a.createElement("div",{className:a.a.iconWrap},o.a.createElement(i.Tooltip,{content:e("conversation_detail.message_list.resend")},o.a.createElement(i.Icon,{svg:l.a,className:a.a.icon,onClick:r}))):A?h:o.a.createElement(o.a.Fragment,null)}));d.displayName="ErrorContent",t.a=d}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(142),a=n.n(s),i=n(7),c=n(9),u=n(2),l=n(197),d=n.n(l),p=n(1),f=n(10),A=u.MessageTypes.MSG_TYPE_VIDEO,h=u.MessageTypes.MSG_TYPE_IMAGE,g=u.MessageTypes.MSG_TYPE_STICKER,m=o.a.memo((function(t){var n=t.type,r=t.status,s=t.videoUploaded,l=t.handleCancelMessage;return r===u.MessageSendStatus.SENDING?o.a.createElement("div",{className:a.a.sendingWrap},n!==A||s?[h,g].includes(n)?null:o.a.createElement(c.LoadingSpin,{theme:"dark"}):o.a.createElement(i.Tooltip,{content:e("common.cancel")},o.a.createElement(i.Icon,{svg:d.a,className:a.a.icon,onClick:l}))):null}));t.a=Object(f.connect)((function(e,t){var n=!1;return t.type===A&&(n="successful"===(Object(p.selectVideoInfoByKey)(t.requestId)(e)||{}).status),{videoUploaded:n}}),{})(m)}).call(this,n(21).t)},function(e,t){e.exports=k},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(10),a=n(199),i=n(200),c=n(1),u=n(2),l=n(145),d=n.n(l),p=u.MessageTypes.MSG_TYPE_OFFER;t.a=Object(s.connect)((function(e){return{currentConversationToName:Object(c.currentConversationToNameSelector)(e)}}),{})((function(t){var n=t.message;if(!n)return o.a.createElement(o.a.Fragment,null);var r,s=t.currentConversationToName,c=t.conversationBuyerId,l=t.shop,f=n.type,A=n.textContent,h=n.to_id,g=n.errorCode,m=n.message_option,E=h===c;if(f===p&&A){var v=A.buyer_id===c;switch(A.status){case u.OfferStatus.ACCEPTED:r=v?E?null:e("conversation_detail.message_list.accept_offer"):E?e("conversation_detail.message_list.accept_offer_user",{username:s}):null;break;case u.OfferStatus.REJECTED:r=v?E?null:e("conversation_detail.message_list.reject_offer"):E?e("conversation_detail.message_list.reject_offer_user",{username:s}):null;break;case u.OfferStatus.CANCELLED:r=v?e("conversation_detail.message_list.cancel_offer",{username:s}):e("conversation_detail.message_list.cancel_offer_self")}}if(g===u.MessageErrorCode.FORBIDDEN)r=e("conversation_detail.message_list.error_message_blocked",{username:s});else if(g===u.MessageErrorCode.BLACKLIST)r=o.a.createElement(a.a,{color:"#bbb"});else if(g===u.MessageErrorCode.UNVERIFIED_PHONE_NUMBER)r=e("conversation_detail.message_list.unverified_phone_number");else if(E&&(Object(u.hasTargetMessageOption)(m,u.MessageOption.NOT_SEND)||Object(u.hasTargetMessageOption)(m,u.MessageOption.SEND))){var b=l&&l.country?l.country.toLowerCase():"sg";r=o.a.createElement(i.a,{code:m,region:b})}return r?o.a.createElement("div",{className:d.a.metaInfo},o.a.createElement("div",{className:d.a.metaContent},r)):o.a.createElement(o.a.Fragment,null)}))}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(2),a=n(143),i=n.n(a);t.a=function(t){var n=t.color;return o.a.createElement("div",{className:i.a.root,style:{color:n}},e("common.blacklist.note_message"),o.a.createElement("span",{className:i.a.learnMore,onClick:function(){window.open("https://".concat(Object(s.getMallUrl)(),"/communityRules/"))}},e("common.learn_more")))}}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(144),a=n.n(s),i=n(2);t.a=function(t){var n=t.code,s=Object(r.useRef)(null),c=function(){var e=t.region;window.open("".concat(i.cancelOrderPolicy[e]||i.cancelOrderPolicy.sg))};Object(r.useEffect)((function(){if(s&&s.current){var e=s.current.firstElementChild;if(e)return e.className=a.a.policy,e.addEventListener("click",c),function(){e.removeEventListener("click",c)}}}),[s]);var u=Object(i.hasTargetMessageOption)(n,i.MessageOption.NOT_SEND),l=Object(i.hasTargetMessageOption)(n,i.MessageOption.SEND);if(!u&&!l)return null;var d=u?e("cancel_order.meta.not_send"):l?e("cancel_order.meta.send_it"):"";return o.a.createElement("div",{ref:s,className:a.a.root,dangerouslySetInnerHTML:{__html:d}})}}).call(this,n(21).t)},function(e,t){e.exports=j},function(e,t){e.exports=R},function(e,t){e.exports=P},function(e,t,n){"use strict";(function(e){var r=n(11),o=n.n(r),s=n(12),a=n.n(s),i=n(6),c=n.n(i),u=n(13),l=n.n(u),d=n(14),p=n.n(d),f=n(8),A=n.n(f),h=n(0),g=n.n(h),m=n(17),E=n(105),v=n(51),b=n.n(v),_=n(2),y=function(t){l()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var t;return o()(this,r),(t=n.call(this,e)).renderFooter=t.renderFooter.bind(c()(t)),t.renderHeaderText=t.renderHeaderText.bind(c()(t)),t.renderProductList=t.renderProductList.bind(c()(t)),t.trackItem=t.trackItem.bind(c()(t)),t.countOnSec=t.countOnSec.bind(c()(t)),t.transValue=t.transValue.bind(c()(t)),t.tick=t.tick.bind(c()(t)),t.state={date:Math.floor(new Date/1e3)},t.timerID=null,t.status="",t}return a()(r,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(new Date/1e3)})}},{key:"renderFooter",value:function(t,n,r,o){var s=this,a="https://".concat(Object(_.getMallUrl)(r),"/bundle-deal/").concat(o),i=Object(_.customizeTime)(1e3*t),c=n===_.PromotionStatus.UPCOMING?g.a.createElement("div",null,"".concat(e("common.flash_sale.start_at")," ").concat(i)):n===_.PromotionStatus.ONGOING?g.a.createElement("div",{className:b.a.detail},e("conversation_detail.conversation_origin.view_details")):g.a.createElement("div",{className:b.a.textEnd},e("message.bundel_deal.end"));return g.a.createElement("div",{className:b.a.footer,onClick:function(){n===_.PromotionStatus.ONGOING&&(window.open(a),s.props.track("clickViewBundleDealInMall","click"))}},c)}},{key:"renderProductList",value:function(e,t,n){var r=this;return e.map((function(e){var o=e.name,s=e.price,a=e.image,i=e.item_id,c=e.image_hash,u=e.status,l=Object(_.formatPrice)(s,n),d="https://".concat(Object(_.getMallUrl)(n),"/product/").concat(t,"/").concat(i,"/");return g.a.createElement(E.a,{key:e.item_id,name:o,price:l,image:a,imageHash:c,url:d,id:i,trackItem:r.trackItem,productStatus:u})}))}},{key:"transValue",value:function(e){return e/1e5}},{key:"trackItem",value:function(e){this.props.track("clickBundleDealDetail","click",{itemid:e})}},{key:"renderHeaderText",value:function(t,n,r){var o=t.rule_type,s=t.min_amount,a=t.fix_price,i=t.discount_percentage,c=t.discount_value,u=this.transValue(a),l=this.transValue(i);"tw"===(r||"").toLowerCase()&&(l=10-l/10,Number.isInteger(l)||(l=l.toFixed(1)));var d=this.transValue(c),p=1===o?e("message.bundel_deal.header.special_discount_title",{count:s,price:u}):2===o?e("message.bundel_deal.header.percent_discount_title",{count:s,percent:l}):e("message.bundel_deal.header.amount_discount_title",{count:s,price:d}),f="".concat(b.a.header," ").concat(n!==_.PromotionStatus.EXPIRED?b.a.active:b.a.inactive);return g.a.createElement("div",{className:f},p)}},{key:"render",value:function(){var e=this.state.date,t=this.props,n=t.isSend,r=t.content,o=r.bundle_deal_id,s=r.shop_id,a=r.start_time,i=r.end_time,c=r.bundle_rule,u=r.bundle_deal_item_list,l=t.region;this.status=e<a?_.PromotionStatus.UPCOMING:e<i&&e>a?_.PromotionStatus.ONGOING:_.PromotionStatus.EXPIRED;var d=u.slice(0,4),p="".concat(b.a.root," ").concat(n?b.a.send:b.a.receive),f=this.renderProductList(d,s,l),A=this.renderHeaderText(c,this.status,l),h=this.renderFooter(a,this.status,l,o);return g.a.createElement("div",{className:p},A,f,h)}}]),r}(g.a.PureComponent);t.a=Object(m.a)((function(e){var t=e.measure,n=e.isSend,r=e.track,o=e.message,s=e.region,a=o.content;return g.a.createElement(y,{measure:t,isSend:n,content:a,track:r,region:s})}))}).call(this,n(21).t)},function(e,t,n){"use strict";(function(e){var r=n(4),o=n.n(r),s=n(11),a=n.n(s),i=n(12),c=n.n(i),u=n(6),l=n.n(u),d=n(13),p=n.n(d),f=n(14),A=n.n(f),h=n(8),g=n.n(h),m=n(0),E=n.n(m),v=n(206),b=n(17),_=n(105),y=n(2),C=n(93),x=n.n(C),S=n(38),O=n.n(S);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=function(t){p()(r,t);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A()(this,n)}}(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).renderProductList=t.renderProductList.bind(l()(t)),t.isProductInValid=t.isProductInValid.bind(l()(t)),t.renderHeaderText=t.renderHeaderText.bind(l()(t)),t.renderFooter=t.renderFooter.bind(l()(t)),t.countOnSec=t.countOnSec.bind(l()(t)),t.tick=t.tick.bind(l()(t)),t.formatTime=t.formatTime.bind(l()(t)),t.transValue=t.transValue.bind(l()(t)),t.trackItem=t.trackItem.bind(l()(t)),t.needRemeasure=!1,t.timerID=null,t.status="",t.state={date:Math.floor(Date.now()/1e3)},t}return c()(r,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(Date.now()/1e3)})}},{key:"formatTime",value:function(e){return e>=10?e:"0".concat(e)}},{key:"calculateLeftTime",value:function(e){var t=e-this.state.date;if(t<=0)return{isReachEndTime:!0};var n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),s=Math.floor(t%3600%60);return{isReachEndTime:!1,day:!!n&&this.formatTime(n),hour:this.formatTime(r),minute:this.formatTime(o),second:this.formatTime(s)}}},{key:"isProductInValid",value:function(e){return e.stock<=0}},{key:"transValue",value:function(e){return e/1e5}},{key:"trackItem",value:function(e){this.props.track("clickFlashSaleItemsDetail","click",{itemid:e})}},{key:"renderProductList",value:function(t,n,r,o){var s=this;return t.map((function(t){var a=t.name,i=t.raw_discount,c=t.price,u=t.hidden_price_display,l=t.image,d=t.image_hash,p=t.item_id,f=t.status,A=s.transValue(c),h=o===y.PromotionStatus.UPCOMING?Object(y.transPrice)(u||A,n):Object(y.formatPrice)(A,n),g="https://".concat(Object(y.getMallUrl)(n),"/product/").concat(r,"/").concat(p,"/"),m=s.isProductInValid(t),v=m?E.a.createElement("div",{className:O.a.soldout},e("common.product.sold_out")):o!==y.PromotionStatus.UPCOMING&&i<100&&i>0?E.a.createElement("div",{className:O.a.discount},i,"% ",e("common.label.off")):null;return E.a.createElement(_.a,{key:t.item_id,name:a,price:h,image:l,imageHash:d,inValid:m,url:g,status:v,id:p,trackItem:s.trackItem,productStatus:f})}))}},{key:"renderHeaderText",value:function(t){var n=this.props.message.content,r=n.start_time,s=n.end_time,a=Object(y.customizeTime)(1e3*r),i=t===y.PromotionStatus.ONGOING?this.calculateLeftTime(s):{},c=t===y.PromotionStatus.UPCOMING?E.a.createElement("span",{className:O.a.headerText},E.a.createElement(x.a,{tagName:"span",clamp:1},e("common.flash_sale.start_at")," ",a)):t!==y.PromotionStatus.ONGOING||i.isReachEndTime?E.a.createElement("span",{className:O.a.headerText,title:e("message.flash_sale.end")},E.a.createElement(x.a,{tagName:"span",clamp:1},e("message.flash_sale.end"))):E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:O.a.textEnd},e("common.flash_sale.end_in")),Object(v.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i))),u="".concat(O.a.productHeader," ").concat(t===y.PromotionStatus.EXPIRED?O.a.productHeaderInactive:"");return E.a.createElement("div",{className:O.a.header},E.a.createElement("div",{className:u},e("message.flash_sale")),E.a.createElement("div",{className:O.a.headerRight},c))}},{key:"renderFooter",value:function(t,n,r){var o=this,s=t[0].item_id,a="https://".concat(Object(y.getMallUrl)(n),"/product/").concat(r,"/").concat(s,"/");return E.a.createElement("div",{className:O.a.footer,onClick:function(){window.open(a),o.props.track("clickViewFlashSaleInMall","click")}},e("conversation_detail.conversation_origin.view_details"))}},{key:"render",value:function(){var e=this.props,t=e.isSend,n=e.message,r=e.region,o=n.content,s=o.shop_id,a=o.start_time,i=o.end_time,c=o.flash_sale_item,u=void 0===c?[]:c,l=this.state.date;this.status=l<a?y.PromotionStatus.UPCOMING:l<i&&l>a?y.PromotionStatus.ONGOING:y.PromotionStatus.EXPIRED;var d=u.slice(0,4),p="".concat(O.a.root," ").concat(t?O.a.send:O.a.receive),f=this.renderProductList(d,r,s,this.status),A=this.renderHeaderText(this.status),h=1===u.length&&this.renderFooter(u,r,s);return E.a.createElement("div",{className:p},A,f,h)}}]),r}(E.a.PureComponent);t.a=Object(b.a)(w)}).call(this,n(21).t)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),s=n(98),a=n.n(s);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o.a.createElement("div",{className:a.a.time},o.a.createElement("div",{className:a.a.count},e),t&&o.a.createElement("div",{className:a.a.split},":"))}t.a=function(e){var t=e.day,n=e.hour,r=e.minute,s=e.second;return o.a.createElement("div",{className:a.a.countTime},!!t&&i(t),i(n),i(r),i(s,!1))}},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),s=n(76),a=n.n(s),i=n(211),c=n(212),u=n(9),l=n(2),d=n(63),p=n.n(d);t.a=function(t){var n=t.isSend,r=t.handleReload,s=t.message,d=t.updateCurrentFaqId,f=t.conversationShopId,A=t.fetchFaqMessagesRequested,h=s.id,g=s.type,m=s.content.messages,E=void 0===m?[]:m,v=s.textContent,b=v.messages,_=void 0===b?[]:b;if(v.error)return o.a.createElement(u.Processor,{type:"reload",messageType:g,reloadRequest:r});var y=_.filter((function(e){return"webview"!==e.type})).map((function(e){var t=function(e){return{username:e.from_user_name,content:Object(l.previewMessage)(e)}}(e),n=t.username,r=t.content;return o.a.createElement("div",{key:"faq-".concat(e.id),className:p.a.preview},"".concat(n,": ").concat(r))}));return o.a.createElement(i.a,{onClose:function(){return d({id:null})},title:e("conversation_list.conversation_cell.new_bundle_message_message"),className:p.a.container,label:o.a.createElement("div",{onClick:function(){return A({sourceId:h,shopId:f,reset:!0})},className:a()(p.a.root,n?p.a.send:p.a.receive)},o.a.createElement("div",{className:p.a.header},e("conversation_list.conversation_cell.new_bundle_message_message")),o.a.createElement("div",{style:{height:"".concat(18*(E.length>3?3:E.length),"px")}},y),o.a.createElement("div",{className:p.a.footer},e("faq_history.see_all")))},o.a.createElement(c.a,{fetchFaqMessagesRequested:A}))}}).call(this,n(21).t)},function(e,t){e.exports=N},,,function(e,t,n){"use strict";var r=n(22),o=n.n(r),s=n(0),a=n.n(s),i=n(208),c=n.n(i),u=n(7),l=n(69),d=n.n(l),p=n(99),f=n.n(p),A=function(e){var t=e.title,n=e.closeModal,r=e.noCancel,o="".concat(f.a.root," ").concat(r?"":f.a.hasCancel);return a.a.createElement("div",{className:o},a.a.createElement("div",{className:f.a.title},t),!r&&a.a.createElement(u.Icon,{svg:d.a,className:f.a.cancel,onClick:n}))},h=n(110),g=n.n(h),m=function(e){var t,n=e.label,r=e.title,i=e.children,u=e.closeable,l=e.onClick,d=e.className,p=e.getModalVisible,f=e.onClose,h=Object(s.useState)(!1),m=o()(h,2),E=m[0],v=m[1],b=function(){var e=E;v(!e),"function"==typeof p&&p(!e),"function"==typeof f&&e&&f()};return t="#".concat(window.miniChatContainerId),a.a.createElement("div",{className:g.a.root},a.a.createElement("div",{onClick:function(e){return function(e){var t=function(){e.stopPropagation(),b()};"function"==typeof l?l(t):t()}(e)}},n),a.a.createElement(c.a,{isOpen:E,className:g.a.content,overlayClassName:g.a.overlay,shouldReturnFocusAfterClose:!1,onRequestClose:u?b:null,parentSelector:function(){return document.querySelector(t)}},a.a.createElement("div",{className:d},a.a.createElement(A,{title:r,closeModal:b}),i)))};m.defaultProps={closeable:!1},t.a=m},function(e,t,n){"use strict";var r=n(0),o=n.n(r),s=n(10),a=n(16),i=n(1),c=n(68),u=n(106),l=n(75),d=n(107),p=n(9),f=n(2),A=n(57),h=n.n(A),g=f.MessageTypes.MSG_TYPE_WEBVIEW,m=f.MessageTypes.MSG_TYPE_RATE_CARDS,E=f.MessageTypes.MSG_TYPE_VOUCHER_WEB,v={},b=o.a.createContext({}),_=function(e){var t=e.isScChat,n=e.currentUser,s=e.isSubAccount,a=e.messageList,i=e.populateMessageRequested,A=e.messageHttpStatus,_=e.fetchFaqMessagesRequested,y=e.sourceId,C=e.shop,x=e.conversationId,S=e.conversationShopId,O=e.conversationBuyerId,B=e.conversationStatus,w=function(){},I=Object(r.useRef)({});return o.a.createElement("div",{className:h.a.list},o.a.createElement(b.Provider,{value:I.current},o.a.createElement(c.a,{style:{backgroundColor:"#fff"},makeItem:function(e,r){if(e&&e.content){var a=e.type,c=e.fetchStatus,A=void 0===c?"":c,b=e.content,y=void 0===b?{}:b,I=e.to_id,M=e.from_user_name,T=e.created_timestamp,k=I===O,j=Object(f.customizeTime)(1e3*T),R=Object(u.a)(a);if(e.type===g){var P=y.type;P===E||y.url&&y.url.includes("voucher")?(R=l.a,e.textContent=e.content):P===m&&I===n.id&&(R=d.a)}return o.a.createElement("div",{key:e.id,className:h.a.baseMessage},function(e,t,n){var r=[o.a.createElement("span",{key:"name",className:h.a.username},e),o.a.createElement("span",{key:"split",className:h.a.split}),o.a.createElement("span",{key:"time",className:h.a.stamp},t)],s="".concat(h.a.header," ").concat(n?h.a.right:"");return o.a.createElement("div",{className:s},n?r.reverse():r)}(M,j,k),A.includes("Card")?o.a.createElement(p.Processor,{type:"loading",messageType:a,content:y}):o.a.createElement(R,{className:h.a.message,index:r,shop:C,message:e,isScChat:t,newMessageFlag:!1,currentUser:n,isSubAccount:s,hasSourceMessageMap:v,populateMessageRequested:i,fetchFaqMessagesRequested:_,conversationId:x,conversationShopId:S,conversationBuyerId:O,conversationStatus:B,measure:w,replyOfferRequested:w,evaluationRequested:w,claimVoucherRequested:w,sendMessagesRequested:w,resendMessageRequested:w,translateMessagesRequested:w,isInFaqHistoryModal:!0}))}},listData:a,status:A,onLoadMore:function(){return _({sourceId:y,shopId:S})},onRefresh:function(){return _({sourceId:y,shopId:S,reset:!a.length})}})))},y={changeTranslateStatus:a.changeTranslateStatus,populateMessageRequested:a.populateMessageRequested};t.a=Object(s.connect)((function(e){return{isScChat:Object(i.isScChatSelector)(e),translateTips:Object(i.tipsSelector)(e),isSubAccount:Object(i.isSubAccountSelector)(e),messageList:Object(i.faqHistoryMessagesSelector)(e),currentUser:Object(i.currentUserSelector)(e),messageHttpStatus:Object(i.faqHistoryhttpStatusSelector)(e),currentConversation:Object(i.currentConversationSelector)(e),sourceId:Object(i.faqIdSelector)(e),conversationId:Object(i.currentConversationIdSelector)(e),conversationShopId:Object(i.currentConversationShopIdSelectors)(e),conversationBuyerId:Object(i.currentConversationBuyerIdSelectors)(e),conversationStatus:Object(i.currentConversationStatusSelectors)(e),shop:Object(i.currentConversationShopSelectors)(e)}}),y)((function(e){return o.a.createElement(_,e)}))},,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(19),o=n(73),s=n(232);t=r(!0);var a=o(s);t.push([e.i,"._2XZHkj8XnVnnta-8WzidfJ {\n  font-size: 12px;\n  padding: 4px 8px;\n  background-color: #fff6e1;\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  z-index: 2;\n}\n\n.V0OU5JpZR_H0JiqzwnL7F {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.vwFS5vtz3pPGChtVETovP {\n  height: 14px;\n  width: 14px;\n  background: url("+a+") no-repeat center;\n  background-size: contain;\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n\n._2HuZSX84ERzxWzLCIZOWpE {\n  font-size: 12px;\n  padding-left: 0.625em;\n}\n\n._1f26uo6jogKBGyW15YurpC {\n  height: 10px;\n  width: 10px;\n  min-width: 10px;\n  color: #bbb;\n  cursor: pointer;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,kBAAkB;EAClB,OAAO;EACP,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,oEAAsD;EACtD,wBAAwB;EACxB,cAAc;EACd,YAAY;AACd;;AAEA;EACE,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,eAAe;EACf,WAAW;EACX,eAAe;AACjB",file:"index.css",sourcesContent:[".root {\n  font-size: 12px;\n  padding: 4px 8px;\n  background-color: #fff6e1;\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  z-index: 2;\n}\n\n.left {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.icon {\n  height: 14px;\n  width: 14px;\n  background: url('./notification.png') no-repeat center;\n  background-size: contain;\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n\n.tips {\n  font-size: 12px;\n  padding-left: 0.625em;\n}\n\n.close {\n  height: 10px;\n  width: 10px;\n  min-width: 10px;\n  color: #bbb;\n  cursor: pointer;\n}\n"]}]),t.locals={root:"_2XZHkj8XnVnnta-8WzidfJ",left:"V0OU5JpZR_H0JiqzwnL7F",icon:"vwFS5vtz3pPGChtVETovP",tips:"_2HuZSX84ERzxWzLCIZOWpE",close:"_1f26uo6jogKBGyW15YurpC"},e.exports=t},function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAABw5JREFUaAXVGmuIVkX0zP0+bd2nrroPNYsUU6x9mKYQrhrYHy31hwRlkIpWCBERQWAg9IIC+xHRiyyoiPDHupVECbquBJXi7haSkklpuQ9r1TXX137fdM7MnXvnfjNzv+/uI3PAb86cOc+dMzPnzBVAa7x98RU1TBPADy/mAjF+OcIgYTXB9YaEns4uuPwfpjh0JMFeLsIYowFf8fam19WEVRSbd4CxwNTGNknc3iR6pw7hoCDxKfPrUBTUB/p0pA+TQQRarQVlIFFEVLMuj/wlfNB0YkJGxrzWA8aOBsQFAHaTiLGhFaBjKUDNeoDuDwiDC+Q9JhjkiJxuOo2/tWoc9ETYsP9dGkcYCME7mx6ADOxA8CxMrq5jN++8RHjVAgaUfhDJ56uJSO+NmcYa9v5JOMGAxCiFF0WIcgep9CJWv+/7ND99fzF0nwuJ53wEUHSLJD//LcCJ5yScGfwOAeYh8cWIMEVMyIp7IlMY9s3OKItQqgGH1ckYkDHKkKpQspx9uCOcJNoEg/WeCtsAfbtYUDksnh2gCWCNBz6UJnmpR4KZY5sDEAbCuFSCw5Xma1PQ3j0YUoeQIiZMwBBOS0gsaM+5bjySynLnjLHHnmcNbS8aeEQYCgoKK5skhcM/B2to/VgNAwWxwa2oIYU7fB/uk70Av20LsFagsSbN2M6MUIAh2O/8U9zRAjBmglWGQPb/APDrM/b5dHmlJ/Zv3N85TjiJLb/bLpywg/19nn84uImGOUNxenaYMmLZGT+1dhyc6R4wqLxigBmvGWgn4pcttqkBucgdTVshy1+wUQjcnE8Afn5YTtfvAehcLuGG/XiyL3Gy0YYLw7Tj3qmQvfaHkzrRBOti89qmEEugQPHzzmULQR63CpWgDwUrJkOBmqCe/7hiAmT6d+AeWa3jNXgATdxCp5qGi4CxCohSBMFfPS+jkpXA+HTg7AJiD0KKvcXq2z6PSLMMnAp4voVXwhhcgOrxNWzKF2YkIo2hgA95sdkhXNgFSq/qI3cU71i6buiRxOfLk1iJln2gQERPNoO3eExjYwFK6mMIeFGuEqGA0+1USGjSJpv1RowCmhJKMK+RTawBarWnUURTdhfAzCDh9dn87siDAFe7ojg1qhlfQgvviVi35WhEmMZ7wCWc5ud+Rr/2RtctNjyucSO52rSnXDMhfuKKENYh/47xYnYpQKpEZ7HDdOo6Gl1mQRQ5aIaHzvAnRlcBsAWjq4DxstFVwNnJeAXFc/KvQWmdm4bBl5T+UgpvhsJtr2AUlbuZ9ZmLPwGcflvHSHhyTTHDpOtRDFW/VDJphoOhO9mLu42EcJYGIG9Um/qkhNITAarXKazZY0JMSLkGWLqZFD5m7s6wNBIcqJDa4N8AtZskbPlV2XZw4cQeeBYBsSitEgyiSKUZsYyFTIr0XZaZRB54oHiH5YlfjipZ1AceKKTwJG5NFGGkZ11A9QDWuhE0DgwPdAI/hN9EnLlPiJDBLtwrG1jdbmcCHatAV5YL+0nZKsSvwn10H/Z2I3IZwzElbd/gsAWNbIkzMmQxoYIdEHlBZ+9GTMK34b1uvoKYsoeAwaX02Daor3qfyrtCBOR1QObamebRM9plJjqTSq2xxaXO4XRA5pB50jxd0mjCOZW9rspwQGbWg5j2jUCYUAFZvlDq+/0lgL6vdd0JYQqv9AL1lKaYIw7wjiWbIZt9R00m6/EJoxL3chlWB2Or8IC7CWDcDDxJ/KvjGh4kl0/gv1MA51oB/jmcTLyi1l4cCRU4UHCxpASpvnQepsbbUZJxJCsKd3+1F+DYRrwXz7tpbDPay5RwYMgpRdVDAFMft6lIhju6AeDS8WQ8+HQoXgNF/cuBLpPkrQz/+iPRShuTS0GbyXYPqHhPfgklVzjyHMVkOxVOK0de9n8kEW3Hrxn4bHKjNrQdV4DefG7Qhrbj2YcPVte9Bad5Qkv4QSa/NvGWgjkZXlDT8fm7YjGWhUkT0Bgtl/CSo5u699MYopypFFul7oHm2FeQHL7/xRBrBbwH1sjrE4sGvJOHtxdS+GknVWr6VnInPmRVmvix4qXZxBeCIVvJZmzCAVFM4Fsq5gNdhfAbNHQj1+2WYZU7OQvvyFqhKzpz61aAeqxnxkyK4vOO0EZ69/WrtMjuEUVLew9+1nR8WHUJp3zoCiZp186YFJOwaLt4xJ4q0Pvl5ZN2PlMSYtghaKxepBc7EQcUj1/EtKIjRQp3fXt2GYubpbbixuqAMlYWNdn3rp8jaLjnbdI/UyrbVB/rgCLyi5xdiUNLCUjcY6h46dW5xYtNTEEO6Izii3Lv+aeB82fx6M3/VVlndsF0qjD2KlRVbHd9lHGzumYS4EVK3tezHLKwDB2bjZttJrJPwDxLOijTFSzJ+HHxP0k82AeV1Xty/4tGApUB6b9C7EuhDaGPMgAAAABJRU5ErkJggg=="},function(e,t,n){(t=n(19)(!0)).push([e.i,".CNKrzIWP-OkPpQbrM0-Oc {\n  left: 0;\n  bottom: 0;\n  color: #333;\n  display: flex;\n  width: 100%;\n  padding: 4px 8px;\n  font-size: 12px;\n  cursor: pointer;\n  position: absolute;\n  align-items: center;\n  flex-direction: row;\n  box-sizing: border-box;\n  background-color: rgba(232, 232, 232, 0.97);\n}\n\n._1BhT964mMRb3S4BuolNQQ7 {\n  font-weight: bold;\n}\n\n._1scfp7beuCTkEWXGUyO5hI {\n  margin-left: 0.5em;\n  flex-grow: 1;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.mp1XuJKArBi6lSqIbY4gZ {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  flex-shrink: 0;\n  flex-grow: 0;\n  color: #01bfa5;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,OAAO;EACP,SAAS;EACT,WAAW;EACX,aAAa;EACb,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,eAAe;EACf,kBAAkB;EAClB,mBAAmB;EACnB,mBAAmB;EACnB,sBAAsB;EACtB,2CAA2C;AAC7C;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,cAAc;EACd,YAAY;EACZ,cAAc;AAChB",file:"index.css",sourcesContent:[".root {\n  left: 0;\n  bottom: 0;\n  color: #333;\n  display: flex;\n  width: 100%;\n  padding: 4px 8px;\n  font-size: 12px;\n  cursor: pointer;\n  position: absolute;\n  align-items: center;\n  flex-direction: row;\n  box-sizing: border-box;\n  background-color: color(#e8e8e8 alpha(97%));\n}\n\n.new-message-username {\n  font-weight: bold;\n}\n\n.new-message-content {\n  margin-left: 0.5em;\n  flex-grow: 1;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.new-message-arrow {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  flex-shrink: 0;\n  flex-grow: 0;\n  color: #01bfa5;\n}\n"]}]),t.locals={root:"CNKrzIWP-OkPpQbrM0-Oc","new-message-username":"_1BhT964mMRb3S4BuolNQQ7",newMessageUsername:"_1BhT964mMRb3S4BuolNQQ7","new-message-content":"_1scfp7beuCTkEWXGUyO5hI",newMessageContent:"_1scfp7beuCTkEWXGUyO5hI","new-message-arrow":"mp1XuJKArBi6lSqIbY4gZ",newMessageArrow:"mp1XuJKArBi6lSqIbY4gZ"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._3Zuz4gS_09RAlIXs-A3_mD {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 1em;\n  line-height: 1.5;\n  color: #bbb;\n  font-size: 12px;\n  text-align: center\n}\n._3Zuz4gS_09RAlIXs-A3_mD ._1rI3ImajL8yA946BPU7dMq {\n    margin: 0 1em;\n  }\n._3Zuz4gS_09RAlIXs-A3_mD ._3loxdyn6L6DBQ9VfS0cTt0 {\n    flex-grow: 1;\n    height: 1px;\n    background-color: #f0f0f0;\n  }\n._3Zuz4gS_09RAlIXs-A3_mD ._3RtylBfyYcKudVkKnM5yZL {\n    height: 1px;\n    flex-grow: 1;\n    background-color: #f0f0f0;\n  }\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf;AAiBF;AAfE;IACE,aAAa;EACf;AAEA;IACE,YAAY;IACZ,WAAW;IACX,yBAAyB;EAC3B;AAEA;IACE,WAAW;IACX,YAAY;IACZ,yBAAyB;EAC3B",file:"index.css",sourcesContent:[".new-message-tip {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 1em;\n  line-height: 1.5;\n  color: #bbb;\n  font-size: 12px;\n  text-align: center;\n\n  & .new-message-content {\n    margin: 0 1em;\n  }\n\n  & .prev-line {\n    flex-grow: 1;\n    height: 1px;\n    background-color: #f0f0f0;\n  }\n\n  & .post-line {\n    height: 1px;\n    flex-grow: 1;\n    background-color: #f0f0f0;\n  }\n}\n"]}]),t.locals={"new-message-tip":"_3Zuz4gS_09RAlIXs-A3_mD",newMessageTip:"_3Zuz4gS_09RAlIXs-A3_mD","new-message-content":"_1rI3ImajL8yA946BPU7dMq",newMessageContent:"_1rI3ImajL8yA946BPU7dMq","prev-line":"_3loxdyn6L6DBQ9VfS0cTt0",prevLine:"_3loxdyn6L6DBQ9VfS0cTt0","post-line":"_3RtylBfyYcKudVkKnM5yZL",postLine:"_3RtylBfyYcKudVkKnM5yZL"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._29xNVRb5TdyTPH4YP2yf-o {\n  font-size: 16px;\n  width: calc(100% - 1em);\n  padding: 0.5em\n}\n\n._29xNVRb5TdyTPH4YP2yf-o._3gEYYmlkP6A30yuwmmNNmm {\n    background-color: #f7f8fb;\n    height: 57px;\n    box-sizing: content-box;\n  }\n\n._29xNVRb5TdyTPH4YP2yf-o._1kfbdJU4uW3N67QZk_89QJ {\n    background-color: white;\n    height: 3.5625em;\n    box-sizing: content-box;\n  }\n\n._29xNVRb5TdyTPH4YP2yf-o._1qRP1i1zg84kfnsC9Gy9Iw {\n    background-color: white;\n    height: 5.1875em;\n    box-sizing: content-box;\n  }\n\n._29xNVRb5TdyTPH4YP2yf-o._3cK9Pb08MaJSiR8OWxY3JP {\n    background-color: white;\n    height: 7.6875em;\n    box-sizing: content-box;\n  }\n\n._3oPRNOyfxWbgSd0WT5_jqB {\n  margin-bottom: 0.5em;\n  font-size: 12px;\n  line-height: 14px;\n  color: #555;\n  transform: scale(0.91) translateX(-8px);\n}\n\n._1KNDYKirjc7oIcYsDTATER {\n  height: 3em;\n  width: 100%;\n  position: relative;\n}\n\n._1oer-CI26tKzpVl0AKwL5x {\n  height: 3em;\n  width: 3em;\n  position: absolute;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.1)\n}\n\n._1oer-CI26tKzpVl0AKwL5x > img {\n    width: 100%;\n    height: 100%;\n  }\n\n.GNmwqCmD8gRBStYBRKAN0 {\n  height: 100%;\n  margin-left: 3em;\n  padding-left: 0.5em;\n}\n\n._1NPIc61vjZU0FCt__M8r33,\n._8sbqt41O6r6Q8vxq6Piqo {\n  margin-top: 1em;\n}\n\n._2Ofd8zjdH_JmhiNul6CAmE {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 0.9375em;\n}\n\n.Nso5FJ9KouBFtIM6sOMBP {\n  margin-top: 0.5em;\n}\n\n._3dRzzPQForDtQN4xtYhSkS {\n  font-size: 12px;\n  line-height: 14px;\n  color: #888;\n}\n\n._2SjgYF79zfe3pg8x0diLr0 {\n  font-size: 13px;\n  line-height: 15px;\n  color: #ee4d2d;\n}\n\n._31-wvNu8WCGy1jKiL23zyb {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n._3cLifXoFCloT7XCWL-kIQ7 {\n  font-size: 13px;\n  line-height: 15px;\n  color: #333;\n  margin-right: 4px;\n}\n\n.CXYPcvgdIIqyLbeOygloY {\n  font-size: 13px;\n  line-height: 15px;\n  color: #000;\n}\n\n._8sbqt41O6r6Q8vxq6Piqo {\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 0.5em;\n}\n\n._1OVnJei5TzQd5ByXWx-ARR {\n  font-size: 12px;\n  line-height: 14px;\n  color: #bbb;\n  text-decoration: line-through;\n  text-align: center;\n  margin-bottom: 0.333em;\n}\n\n.vllR6rNjHIeIkIXA3Lxcq {\n  height: 1.5em;\n  text-align: center;\n}\n\n._3N0tcgmDpM8K4y2iyXd5-C {\n  font-size: 20px;\n  line-height: 1.2em;\n  color: #333;\n  font-weight: 700\n}\n\n._3N0tcgmDpM8K4y2iyXd5-C._1JJp2dKPZQ-NysGIp3-Bxc {\n    color: #ee4d2d;\n  }\n\n._3FDXOWsi7-pOaDRbs3GuPj {\n  margin-left: 2px;\n  font-size: 12px;\n  line-height: 14px;\n  color: #333;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,uBAAuB;EACvB;AAyBF;;AAvBE;IACE,yBAAyB;IACzB,YAAY;IACZ,uBAAuB;EACzB;;AAEA;IACE,uBAAuB;IACvB,gBAAgB;IAChB,uBAAuB;EACzB;;AAEA;IACE,uBAAuB;IACvB,gBAAgB;IAChB,uBAAuB;EACzB;;AAEA;IACE,uBAAuB;IACvB,gBAAgB;IAChB,uBAAuB;EACzB;;AAGF;EACE,oBAAoB;EACpB,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,uCAAuC;AACzC;;AAEA;EACE,WAAW;EACX,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,UAAU;EACV,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,sBAAsB;EACtB;AAMF;;AAJE;IACE,WAAW;IACX,YAAY;EACd;;AAGF;EACE,YAAY;EACZ,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EAEE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,6BAA6B;EAC7B,kBAAkB;EAClB,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX;AAKF;;AAHE;IACE,cAAc;EAChB;;AAGF;EACE,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,WAAW;AACb",file:"index.css",sourcesContent:[".root {\n  font-size: 16px;\n  width: calc(100% - 1em);\n  padding: 0.5em;\n\n  &.source {\n    background-color: #f7f8fb;\n    height: 57px;\n    box-sizing: content-box;\n  }\n\n  &.product {\n    background-color: white;\n    height: 3.5625em;\n    box-sizing: content-box;\n  }\n\n  &.order {\n    background-color: white;\n    height: 5.1875em;\n    box-sizing: content-box;\n  }\n\n  &.offer {\n    background-color: white;\n    height: 7.6875em;\n    box-sizing: content-box;\n  }\n}\n\n.header {\n  margin-bottom: 0.5em;\n  font-size: 12px;\n  line-height: 14px;\n  color: #555;\n  transform: scale(0.91) translateX(-8px);\n}\n\n.body {\n  height: 3em;\n  width: 100%;\n  position: relative;\n}\n\n.image {\n  height: 3em;\n  width: 3em;\n  position: absolute;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n\n  & > img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.content {\n  height: 100%;\n  margin-left: 3em;\n  padding-left: 0.5em;\n}\n\n.order-info,\n.prices {\n  margin-top: 1em;\n}\n\n.first-block {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 0.9375em;\n}\n\n.block {\n  composes: first-block;\n  margin-top: 0.5em;\n}\n\n.label {\n  font-size: 12px;\n  line-height: 14px;\n  color: #888;\n}\n\n.income {\n  font-size: 13px;\n  line-height: 15px;\n  color: #ee4d2d;\n}\n\n.serial {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.number {\n  font-size: 13px;\n  line-height: 15px;\n  color: #333;\n  margin-right: 4px;\n}\n\n.create {\n  font-size: 13px;\n  line-height: 15px;\n  color: #000;\n}\n\n.prices {\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 0.5em;\n}\n\n.original-price {\n  font-size: 12px;\n  line-height: 14px;\n  color: #bbb;\n  text-decoration: line-through;\n  text-align: center;\n  margin-bottom: 0.333em;\n}\n\n.offer-price {\n  height: 1.5em;\n  text-align: center;\n}\n\n.price {\n  font-size: 20px;\n  line-height: 1.2em;\n  color: #333;\n  font-weight: 700;\n\n  &.accept {\n    color: #ee4d2d;\n  }\n}\n\n.count {\n  margin-left: 2px;\n  font-size: 12px;\n  line-height: 14px;\n  color: #333;\n}\n"]}]),t.locals={root:"_29xNVRb5TdyTPH4YP2yf-o",source:"_3gEYYmlkP6A30yuwmmNNmm",product:"_1kfbdJU4uW3N67QZk_89QJ",order:"_1qRP1i1zg84kfnsC9Gy9Iw",offer:"_3cK9Pb08MaJSiR8OWxY3JP",header:"_3oPRNOyfxWbgSd0WT5_jqB",body:"_1KNDYKirjc7oIcYsDTATER",image:"_1oer-CI26tKzpVl0AKwL5x",content:"GNmwqCmD8gRBStYBRKAN0","order-info":"_1NPIc61vjZU0FCt__M8r33",orderInfo:"_1NPIc61vjZU0FCt__M8r33",prices:"_8sbqt41O6r6Q8vxq6Piqo","first-block":"_2Ofd8zjdH_JmhiNul6CAmE",firstBlock:"_2Ofd8zjdH_JmhiNul6CAmE",block:"Nso5FJ9KouBFtIM6sOMBP _2Ofd8zjdH_JmhiNul6CAmE",label:"_3dRzzPQForDtQN4xtYhSkS",income:"_2SjgYF79zfe3pg8x0diLr0",serial:"_31-wvNu8WCGy1jKiL23zyb",number:"_3cLifXoFCloT7XCWL-kIQ7",create:"CXYPcvgdIIqyLbeOygloY","original-price":"_1OVnJei5TzQd5ByXWx-ARR",originalPrice:"_1OVnJei5TzQd5ByXWx-ARR","offer-price":"vllR6rNjHIeIkIXA3Lxcq",offerPrice:"vllR6rNjHIeIkIXA3Lxcq",price:"_3N0tcgmDpM8K4y2iyXd5-C",accept:"_1JJp2dKPZQ-NysGIp3-Bxc",count:"_3FDXOWsi7-pOaDRbs3GuPj"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._3k04xz4WmTOyq6Z1ODP87B {\n  margin-top: 1em;\n  padding-top: 0.25em;\n  border-top: 1px dashed #f1f3f4\n}\n\n._3k04xz4WmTOyq6Z1ODP87B._1XUH6t4kA-sfuElQBXrPCU {\n    display: flex;\n    margin-top: 0.5em;\n    justify-content: space-between;\n  }\n\n.jsvm-uN4wR54Ze4gxQrQA,\n.g8pCOOd0iMM4X-ZIsyCu4,\n._1WcrxiCYB0fq7_ypQF11QS,\n._1MqEF8pgKM3MrK6oJaD2Lv,\n.p0tIx-HQb00-fI0aYCb1O {\n  font-size: 12px;\n  line-height: 14px;\n  transform: scale(0.916);\n}\n\n.jsvm-uN4wR54Ze4gxQrQA {\n  color: #555;\n}\n\n._3qpL2Q4aTaO1TnaaPvOVbK {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.g8pCOOd0iMM4X-ZIsyCu4,\n._1WcrxiCYB0fq7_ypQF11QS {\n  cursor: pointer\n}\n\n.g8pCOOd0iMM4X-ZIsyCu4._31ozcZzPpnzUvY1RN5DXwZ, ._1WcrxiCYB0fq7_ypQF11QS._31ozcZzPpnzUvY1RN5DXwZ {\n    cursor: not-allowed;\n  }\n\n.g8pCOOd0iMM4X-ZIsyCu4 {\n  color: #395692;\n  margin-left: 1.333em;\n}\n\n._1WcrxiCYB0fq7_ypQF11QS {\n  color: #b71b1c;\n}\n\n._11dOMe3wcgGsjKYc9NLgZr,\n._3ZzQpfKbMv-v_SJeURcO2Y {\n  font-size: 12px;\n  width: 1em;\n  height: 1em;\n  margin-right: 0.5em;\n}\n\n._11dOMe3wcgGsjKYc9NLgZr {\n  transform: rotate(-45deg);\n  color: #54cc77;\n}\n\n._1MqEF8pgKM3MrK6oJaD2Lv {\n  color: #888;\n  max-width: 120px;\n  white-space: nowrap;\n}\n\n.p0tIx-HQb00-fI0aYCb1O {\n  color: #395692;\n  cursor: pointer;\n  margin-left: 1.33em;\n}\n\n._3dTaEOEW3G-i3-NpCtqscr {\n  color: #ccc;\n  cursor: default;\n}\n\n._2Dd3pzc4Vy0p8X6EwETWLy {\n  display: flex;\n  align-items: center;\n  color: #888;\n  font-size: 11px;\n  transform: scale(0.9);\n}\n\n.tF16bezjFaUbT_q4wYzEU {\n  width: 10px;\n  height: 10px;\n  color: #888;\n  line-height: 12px;\n  margin-right: 4px;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,mBAAmB;EACnB;AAOF;;AALE;IACE,aAAa;IACb,iBAAiB;IACjB,8BAA8B;EAChC;;AAGF;;;;;EAKE,eAAe;EACf,iBAAiB;EACjB,uBAAuB;AACzB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;;EAEE;AAKF;;AAHE;IACE,mBAAmB;EACrB;;AAGF;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE,cAAc;AAChB;;AAEA;;EAEE,eAAe;EACf,UAAU;EACV,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;EACX,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,WAAW;EACX,iBAAiB;EACjB,iBAAiB;AACnB",file:"index.css",sourcesContent:[".root {\n  margin-top: 1em;\n  padding-top: 0.25em;\n  border-top: 1px dashed #f1f3f4;\n\n  &.source {\n    display: flex;\n    margin-top: 0.5em;\n    justify-content: space-between;\n  }\n}\n\n.label,\n.accept-btn,\n.reject-btn,\n.status-text,\n.link {\n  font-size: 12px;\n  line-height: 14px;\n  transform: scale(0.916);\n}\n\n.label {\n  color: #555;\n}\n\n.actions {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.accept-btn,\n.reject-btn {\n  cursor: pointer;\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.accept-btn {\n  color: #395692;\n  margin-left: 1.333em;\n}\n\n.reject-btn {\n  color: #b71b1c;\n}\n\n.accept-icon,\n.reject-icon {\n  font-size: 12px;\n  width: 1em;\n  height: 1em;\n  margin-right: 0.5em;\n}\n\n.accept-icon {\n  transform: rotate(-45deg);\n  color: #54cc77;\n}\n\n.status-text {\n  color: #888;\n  max-width: 120px;\n  white-space: nowrap;\n}\n\n.link {\n  color: #395692;\n  cursor: pointer;\n  margin-left: 1.33em;\n}\n\n.no-access {\n  color: #ccc;\n  cursor: default;\n}\n\n.send-status {\n  display: flex;\n  align-items: center;\n  color: #888;\n  font-size: 11px;\n  transform: scale(0.9);\n}\n\n.link-arrow {\n  width: 10px;\n  height: 10px;\n  color: #888;\n  line-height: 12px;\n  margin-right: 4px;\n}\n"]}]),t.locals={root:"_3k04xz4WmTOyq6Z1ODP87B",source:"_1XUH6t4kA-sfuElQBXrPCU",label:"jsvm-uN4wR54Ze4gxQrQA","accept-btn":"g8pCOOd0iMM4X-ZIsyCu4",acceptBtn:"g8pCOOd0iMM4X-ZIsyCu4","reject-btn":"_1WcrxiCYB0fq7_ypQF11QS",rejectBtn:"_1WcrxiCYB0fq7_ypQF11QS","status-text":"_1MqEF8pgKM3MrK6oJaD2Lv",statusText:"_1MqEF8pgKM3MrK6oJaD2Lv",link:"p0tIx-HQb00-fI0aYCb1O",actions:"_3qpL2Q4aTaO1TnaaPvOVbK",disabled:"_31ozcZzPpnzUvY1RN5DXwZ","accept-icon":"_11dOMe3wcgGsjKYc9NLgZr",acceptIcon:"_11dOMe3wcgGsjKYc9NLgZr","reject-icon":"_3ZzQpfKbMv-v_SJeURcO2Y",rejectIcon:"_3ZzQpfKbMv-v_SJeURcO2Y","no-access":"_3dTaEOEW3G-i3-NpCtqscr",noAccess:"_3dTaEOEW3G-i3-NpCtqscr","send-status":"_2Dd3pzc4Vy0p8X6EwETWLy",sendStatus:"_2Dd3pzc4Vy0p8X6EwETWLy","link-arrow":"tF16bezjFaUbT_q4wYzEU",linkArrow:"tF16bezjFaUbT_q4wYzEU"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._1ZKQu_hdrOyA9AkELOzAry {\n  display: flex;\n  align-items: center;\n  margin-bottom: 2px;\n}\n\n._3H_sMvt_zHYP1Ww4hoTHKW {\n  height: 0.875em;\n  width: 0.875em;\n  margin-right: 4px\n}\n\n._3H_sMvt_zHYP1Ww4hoTHKW._156s7q7NbDV_XaBBjAkExS {\n    color: #f5a623;\n  }\n\n._3H_sMvt_zHYP1Ww4hoTHKW._3mbdwXCy-vXlS9PV3Jq1tv {\n    color: #4185f4;\n  }\n\n._3H_sMvt_zHYP1Ww4hoTHKW._1HJa7ZJn-vN5VnsjXEiLYG {\n    color: #4185f4;\n  }\n\n._3H_sMvt_zHYP1Ww4hoTHKW._1TXajJqMGCISOZLJcJy2Zo {\n    color: #54cc77;\n  }\n\n._3H_sMvt_zHYP1Ww4hoTHKW._305TYbsUHPcLdYO9113O6B {\n    color: #888;\n  }\n\n._3H_sMvt_zHYP1Ww4hoTHKW._2Rq3qWvNomG23ooSWQDl83 {\n    color: #888;\n  }\n\n._3nclWWd7wYWm94VqSSIJvu,\n._2T5wXUs9sXAiFxZtaT7fkn,\n.xy5psOOts8pk5x3b8UQx8 {\n  font-size: 12px;\n  line-height: 14px;\n}\n\n._3nclWWd7wYWm94VqSSIJvu {\n  color: #333;\n  font-weight: 700;\n  max-width: 102px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n._3J1CNwbO6gUhyPgDAUYHcT {\n  line-height: 16px;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n}\n\n._2T5wXUs9sXAiFxZtaT7fkn {\n  display: inline-block;\n  color: #333;\n  max-width: 136px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.xy5psOOts8pk5x3b8UQx8 {\n  display: inline-block;\n  margin-right: 4px;\n  color: #888;\n}\n\n._1G-A0p4LMa-ZzXdwXD_J3V {\n  display: inline-block;\n  font-size: 12px;\n  max-width: 66px;\n  overflow: hidden;\n  margin-right: 4px;\n  color: #888;\n  text-overflow: ellipsis;\n}\n\n._2U-fkqAQTL6AqSh7UCaao3 {\n  margin-top: 1em;\n}\n\n._3VVStRSy909a0Li40hsVAJ {\n  display: flex;\n  align-items: center;\n  height: 0.9375em;\n}\n\n._2Fc5i9FsLatDTZs_fd4Vk0 {\n  margin-top: 0.5em;\n}\n\n.UQKPZe0B1I8iKOvosudKe,\n._3I64eYKBOBJM9PdZtCiqzw,\n._3oj1Gk-2Nl5EJsUm-tlxta {\n  font-size: 13px;\n  line-height: 15px;\n}\n\n.UQKPZe0B1I8iKOvosudKe {\n  color: #ee4d2d;\n  font-weight: 700;\n  margin-left: 4px;\n}\n\n._1XFZNvJGeaIxb1JU_mSeE2 {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n._3I64eYKBOBJM9PdZtCiqzw {\n  color: #333;\n  margin-right: 4px;\n}\n\n._3oj1Gk-2Nl5EJsUm-tlxta {\n  color: #000;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,cAAc;EACd;AAyBF;;AAvBE;IACE,cAAc;EAChB;;AAEA;IACE,cAAc;EAChB;;AAEA;IACE,cAAc;EAChB;;AAEA;IACE,cAAc;EAChB;;AAEA;IACE,WAAW;EACb;;AAEA;IACE,WAAW;EACb;;AAGF;;;EAGE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,qBAAqB;EACrB,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EAEE,iBAAiB;AACnB;;AAEA;;;EAGE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb",file:"index.css",sourcesContent:[".order-status {\n  display: flex;\n  align-items: center;\n  margin-bottom: 2px;\n}\n\n.status-icon {\n  height: 0.875em;\n  width: 0.875em;\n  margin-right: 4px;\n\n  &.unpaid {\n    color: #f5a623;\n  }\n\n  &.to_ship {\n    color: #4185f4;\n  }\n\n  &.shipping {\n    color: #4185f4;\n  }\n\n  &.completed {\n    color: #54cc77;\n  }\n\n  &.cancelled {\n    color: #888;\n  }\n\n  &.refund {\n    color: #888;\n  }\n}\n\n.status-text,\n.payment,\n.count {\n  font-size: 12px;\n  line-height: 14px;\n}\n\n.status-text {\n  color: #333;\n  font-weight: 700;\n  max-width: 102px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.detail {\n  line-height: 16px;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n}\n\n.payment {\n  display: inline-block;\n  color: #333;\n  max-width: 136px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.count {\n  display: inline-block;\n  margin-right: 4px;\n  color: #888;\n}\n\n.source-count {\n  display: inline-block;\n  font-size: 12px;\n  max-width: 66px;\n  overflow: hidden;\n  margin-right: 4px;\n  color: #888;\n  text-overflow: ellipsis;\n}\n\n.order-info {\n  margin-top: 1em;\n}\n\n.first-block {\n  display: flex;\n  align-items: center;\n  height: 0.9375em;\n}\n\n.block {\n  composes: first-block;\n  margin-top: 0.5em;\n}\n\n.income,\n.number,\n.date {\n  font-size: 13px;\n  line-height: 15px;\n}\n\n.income {\n  color: #ee4d2d;\n  font-weight: 700;\n  margin-left: 4px;\n}\n\n.serial {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.number {\n  color: #333;\n  margin-right: 4px;\n}\n\n.date {\n  color: #000;\n}\n"]}]),t.locals={"order-status":"_1ZKQu_hdrOyA9AkELOzAry",orderStatus:"_1ZKQu_hdrOyA9AkELOzAry","status-icon":"_3H_sMvt_zHYP1Ww4hoTHKW",statusIcon:"_3H_sMvt_zHYP1Ww4hoTHKW",unpaid:"_156s7q7NbDV_XaBBjAkExS",to_ship:"_3mbdwXCy-vXlS9PV3Jq1tv",toShip:"_3mbdwXCy-vXlS9PV3Jq1tv",shipping:"_1HJa7ZJn-vN5VnsjXEiLYG",completed:"_1TXajJqMGCISOZLJcJy2Zo",cancelled:"_305TYbsUHPcLdYO9113O6B",refund:"_2Rq3qWvNomG23ooSWQDl83","status-text":"_3nclWWd7wYWm94VqSSIJvu",statusText:"_3nclWWd7wYWm94VqSSIJvu",payment:"_2T5wXUs9sXAiFxZtaT7fkn",count:"xy5psOOts8pk5x3b8UQx8",detail:"_3J1CNwbO6gUhyPgDAUYHcT","source-count":"_1G-A0p4LMa-ZzXdwXD_J3V",sourceCount:"_1G-A0p4LMa-ZzXdwXD_J3V","order-info":"_2U-fkqAQTL6AqSh7UCaao3",orderInfo:"_2U-fkqAQTL6AqSh7UCaao3","first-block":"_3VVStRSy909a0Li40hsVAJ",firstBlock:"_3VVStRSy909a0Li40hsVAJ",block:"_2Fc5i9FsLatDTZs_fd4Vk0 _3VVStRSy909a0Li40hsVAJ",income:"UQKPZe0B1I8iKOvosudKe",number:"_3I64eYKBOBJM9PdZtCiqzw",date:"_3oj1Gk-2Nl5EJsUm-tlxta",serial:"_1XFZNvJGeaIxb1JU_mSeE2"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._2oTV7R5dmP4BNptCE96iOn {\n  height: 2em;\n  width: 100%;\n  position: relative;\n}\n\n._1BNar1o7oroDcV9yn63hg6 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 2em;\n  width: 2em;\n}\n\n._3n7D2p6Wene2ZA9mgSeNKY {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 2em;\n  width: 2em;\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background: transparent;\n}\n\n._1BNar1o7oroDcV9yn63hg6 > img {\n  width: 100%;\n  height: 100%;\n}\n\n._2NlSOon_x3grFq8xHoEcFS {\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.D_y3RDLMEUFAUTwPQE1m8 {\n  height: 1em;\n  width: 1em;\n  color: #fff;\n}\n\n._3UJXwxb6mv3TMr7dUHTXME {\n  height: 100%;\n  margin-left: 2em;\n  padding-left: 0.5em\n}\n\n._3UJXwxb6mv3TMr7dUHTXME._1jQZry9BBVXxkrYRBazsJ5 {\n    display: flex;\n    align-items: center;\n  }\n\n._1A0G3-BRJOYLyO2kO-JUE {\n  font-size: 12px;\n  line-height: 15px;\n  color: #333;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.EsAx_rTgH-k9XyoaddRfL {\n  margin-bottom: 4px;\n}\n\n._2nyGnJeMwVvNz8t3ugnVEs {\n  padding-top: 2px;\n}\n\n._3TNZPgeiDxmSMLtH-lkcoD {\n  padding-top: 0.4615em\n}\n\n._3TNZPgeiDxmSMLtH-lkcoD._1jQZry9BBVXxkrYRBazsJ5 {\n    padding-top: 0;\n  }\n\n._1dFVxEOo_s-Lp82cmAdtSs {\n  margin-top: 0.125em;\n}\n\n._1ppWOiShNWeofTOTT5dthd {\n  height: 10px;\n  padding-left: 4px;\n  border-left: 1px solid #ccc;\n  margin-left: 4px;\n}\n\n._3Y0p-eNiHIso914uqXN36a {\n  display: flex;\n  font-size: 12px;\n  white-space: nowrap;\n  align-items: center\n}\n\n._3Y0p-eNiHIso914uqXN36a ._1ppWOiShNWeofTOTT5dthd {\n    margin-left: 4px;\n    padding-left: 4px;\n  }\n","",{version:3,sources:["common.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,UAAU;EACV,sBAAsB;EACtB,oCAAoC;EACpC,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EAEE,oCAAoC;EACpC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,UAAU;EACV,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB;AAMF;;AAJE;IACE,aAAa;IACb,mBAAmB;EACrB;;AAGF;EACE,eAAe;EACf,iBAAiB;EACjB,WAAW;EACX,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EAEE,kBAAkB;AACpB;;AAEA;EAEE,gBAAgB;AAClB;;AAEA;EAEE;AAKF;;AAHE;IACE,cAAc;EAChB;;AAGF;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,mBAAmB;EACnB;AAMF;;AAJE;IACE,gBAAgB;IAChB,iBAAiB;EACnB",file:"common.css",sourcesContent:[".detail-block {\n  height: 2em;\n  width: 100%;\n  position: relative;\n}\n\n.image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 2em;\n  width: 2em;\n}\n\n.image-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 2em;\n  width: 2em;\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background: transparent;\n}\n\n.image > img {\n  width: 100%;\n  height: 100%;\n}\n\n.invalid {\n  composes: image;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.invalid-icon {\n  height: 1em;\n  width: 1em;\n  color: #fff;\n}\n\n.content {\n  height: 100%;\n  margin-left: 2em;\n  padding-left: 0.5em;\n\n  &.no-model {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.name {\n  font-size: 12px;\n  line-height: 15px;\n  color: #333;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.product-name {\n  composes: name;\n  margin-bottom: 4px;\n}\n\n.order-name {\n  composes: name;\n  padding-top: 2px;\n}\n\n.offer-name {\n  composes: name;\n  padding-top: 0.4615em;\n\n  &.no-model {\n    padding-top: 0;\n  }\n}\n\n.order-detail {\n  margin-top: 0.125em;\n}\n\n.divider {\n  height: 10px;\n  padding-left: 4px;\n  border-left: 1px solid #ccc;\n  margin-left: 4px;\n}\n\n.product-detail {\n  display: flex;\n  font-size: 12px;\n  white-space: nowrap;\n  align-items: center;\n\n  & .divider {\n    margin-left: 4px;\n    padding-left: 4px;\n  }\n}\n"]}]),t.locals={"detail-block":"_2oTV7R5dmP4BNptCE96iOn",detailBlock:"_2oTV7R5dmP4BNptCE96iOn",image:"_1BNar1o7oroDcV9yn63hg6","image-border":"_3n7D2p6Wene2ZA9mgSeNKY",imageBorder:"_3n7D2p6Wene2ZA9mgSeNKY",invalid:"_2NlSOon_x3grFq8xHoEcFS _1BNar1o7oroDcV9yn63hg6","invalid-icon":"D_y3RDLMEUFAUTwPQE1m8",invalidIcon:"D_y3RDLMEUFAUTwPQE1m8",content:"_3UJXwxb6mv3TMr7dUHTXME","no-model":"_1jQZry9BBVXxkrYRBazsJ5",noModel:"_1jQZry9BBVXxkrYRBazsJ5",name:"_1A0G3-BRJOYLyO2kO-JUE","product-name":"EsAx_rTgH-k9XyoaddRfL _1A0G3-BRJOYLyO2kO-JUE",productName:"EsAx_rTgH-k9XyoaddRfL _1A0G3-BRJOYLyO2kO-JUE","order-name":"_2nyGnJeMwVvNz8t3ugnVEs _1A0G3-BRJOYLyO2kO-JUE",orderName:"_2nyGnJeMwVvNz8t3ugnVEs _1A0G3-BRJOYLyO2kO-JUE","offer-name":"_3TNZPgeiDxmSMLtH-lkcoD _1A0G3-BRJOYLyO2kO-JUE",offerName:"_3TNZPgeiDxmSMLtH-lkcoD _1A0G3-BRJOYLyO2kO-JUE","order-detail":"_1dFVxEOo_s-Lp82cmAdtSs",orderDetail:"_1dFVxEOo_s-Lp82cmAdtSs",divider:"_1ppWOiShNWeofTOTT5dthd","product-detail":"_3Y0p-eNiHIso914uqXN36a",productDetail:"_3Y0p-eNiHIso914uqXN36a"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._2XbD1VRV5XvCEUdv07jMhD {\n  color: #bbb;\n  margin-right: 4px;\n  max-width: 44px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-decoration: line-through;\n}\n\n._18kuEKhYKQfpzPQY1RXWwa {\n  color: #333;\n  max-width: 130px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n._3miYfnKvigWx6KJKIpQSSe {\n  font-size: 12px;\n  max-width: 72px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  transform: scale(0.91) translateX(-3px)\n}\n\n._3miYfnKvigWx6KJKIpQSSe.niYnO0OPSxct9Tl7_EPZs {\n    color: #888;\n  }\n\n._3miYfnKvigWx6KJKIpQSSe.YS5nYbuUq_hDrM9oW09qH,\n  ._3miYfnKvigWx6KJKIpQSSe._19ySEpYFrmy9MC2q3q3IRH {\n    border-radius: 1px;\n    padding: 0 0.33em;\n  }\n\n._3miYfnKvigWx6KJKIpQSSe.YS5nYbuUq_hDrM9oW09qH {\n    background-color: #fdecec;\n    color: #ef4747;\n  }\n\n._3miYfnKvigWx6KJKIpQSSe._19ySEpYFrmy9MC2q3q3IRH {\n    background-color: #e7e7e7;\n    color: #888;\n  }\n\n._2dqztyvwFKvBHVxUEa0jgg ._18kuEKhYKQfpzPQY1RXWwa {\n    max-width: 82px;\n  }\n\n._2ZFxeURPdiGzHrVxgXyxyT {\n  display: inline-block;\n}\n\n._1okbbVjziZX1-F1obSp8q- {\n  font-size: 12px;\n  color: #ee4d2d;\n  font-weight: 700;\n}\n\n._3ENvqe32UkzSu2Pg8628l5 {\n  display: inline-block;\n  width: 109%;\n  transform: scale(0.916); /* 11px */\n  transform-origin: 0 0;\n}\n\n.Iq2yPziMrxZl4ioJq3oJR {\n  display: inline-block;\n  width: 120%;\n  transform: scale(0.83); /* 10px */\n  transform-origin: 0 0;\n}\n\n._3dD_KRz_yL44gF-kEVgUB8 > div {\n    background:#F7F8FB;\n  }\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,6BAA6B;AAC/B;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB;AAqBF;;AAnBE;IACE,WAAW;EACb;;AAEA;;IAEE,kBAAkB;IAClB,iBAAiB;EACnB;;AAEA;IACE,yBAAyB;IACzB,cAAc;EAChB;;AAEA;IACE,yBAAyB;IACzB,WAAW;EACb;;AAIA;IACE,eAAe;EACjB;;AAGF;EACE,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,uBAAuB,EAAE,SAAS;EAClC,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,sBAAsB,EAAE,SAAS;EACjC,qBAAqB;AACvB;;AAGE;IACE,kBAAkB;EACpB",file:"index.css",sourcesContent:[".original-price {\n  color: #bbb;\n  margin-right: 4px;\n  max-width: 44px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-decoration: line-through;\n}\n\n.price {\n  color: #333;\n  max-width: 130px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.status {\n  font-size: 12px;\n  max-width: 72px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  transform: scale(0.91) translateX(-3px);\n\n  &.normal {\n    color: #888;\n  }\n\n  &.invalid,\n  &.deleted {\n    border-radius: 1px;\n    padding: 0 0.33em;\n  }\n\n  &.invalid {\n    background-color: #fdecec;\n    color: #ef4747;\n  }\n\n  &.deleted {\n    background-color: #e7e7e7;\n    color: #888;\n  }\n}\n\n.origin {\n  & .price {\n    max-width: 82px;\n  }\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.range-price {\n  font-size: 12px;\n  color: #ee4d2d;\n  font-weight: 700;\n}\n\n.price-text-small {\n  display: inline-block;\n  width: 109%;\n  transform: scale(0.916); /* 11px */\n  transform-origin: 0 0;\n}\n\n.price-text-mini {\n  display: inline-block;\n  width: 120%;\n  transform: scale(0.83); /* 10px */\n  transform-origin: 0 0;\n}\n\n.product-deleted {\n  & > div {\n    background:#F7F8FB;\n  }\n}\n"]}]),t.locals={"original-price":"_2XbD1VRV5XvCEUdv07jMhD",originalPrice:"_2XbD1VRV5XvCEUdv07jMhD",price:"_18kuEKhYKQfpzPQY1RXWwa",status:"_3miYfnKvigWx6KJKIpQSSe",normal:"niYnO0OPSxct9Tl7_EPZs",invalid:"YS5nYbuUq_hDrM9oW09qH",deleted:"_19ySEpYFrmy9MC2q3q3IRH",origin:"_2dqztyvwFKvBHVxUEa0jgg","inline-block":"_2ZFxeURPdiGzHrVxgXyxyT",inlineBlock:"_2ZFxeURPdiGzHrVxgXyxyT","range-price":"_1okbbVjziZX1-F1obSp8q-",rangePrice:"_1okbbVjziZX1-F1obSp8q-","price-text-small":"_3ENvqe32UkzSu2Pg8628l5",priceTextSmall:"_3ENvqe32UkzSu2Pg8628l5","price-text-mini":"Iq2yPziMrxZl4ioJq3oJR",priceTextMini:"Iq2yPziMrxZl4ioJq3oJR","product-deleted":"_3dD_KRz_yL44gF-kEVgUB8",productDeleted:"_3dD_KRz_yL44gF-kEVgUB8"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._1OBdIbU3mbzAF_Wf2Y1dsb {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5em;\n  line-height: 0;\n}\n\n._3pPRsL_qAjGKA_rsOK0Dcr {\n  width: 14px;\n  height: 14px;\n  border: 0 none;\n  line-height: 0;\n  color: #fe4741;\n}\n\n._2P-7k3CcHlC1xVXT3w6ft {\n}\n\n._2P-7k3CcHlC1xVXT3w6ft:hover {\n    cursor: pointer;\n  }\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,mBAAmB;EACnB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,cAAc;EACd,cAAc;AAChB;;AAEA;AAMA;;AAHE;IACE,eAAe;EACjB",file:"index.css",sourcesContent:[".icon-wrap {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5em;\n  line-height: 0;\n}\n\n.icon-base {\n  width: 14px;\n  height: 14px;\n  border: 0 none;\n  line-height: 0;\n  color: #fe4741;\n}\n\n.icon {\n  composes: icon-base;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n"]}]),t.locals={"icon-wrap":"_1OBdIbU3mbzAF_Wf2Y1dsb",iconWrap:"_1OBdIbU3mbzAF_Wf2Y1dsb","icon-base":"_3pPRsL_qAjGKA_rsOK0Dcr",iconBase:"_3pPRsL_qAjGKA_rsOK0Dcr",icon:"_2P-7k3CcHlC1xVXT3w6ft _3pPRsL_qAjGKA_rsOK0Dcr"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._3XGhcShPisq9pcfbaAgkRZ {\n  margin-right: 0.5em;\n}\n\n._3yU4skyrFSHEIeWhoShPiP {\n  width: 14px;\n  height: 14px;\n  border: 0 none;\n  line-height: 0;\n  color: #fe4741;\n}\n\n._48E3pSpTGEtSNHGAjIImu {\n}\n\n._48E3pSpTGEtSNHGAjIImu:hover {\n    cursor: pointer;\n  }\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,cAAc;EACd,cAAc;AAChB;;AAEA;AAMA;;AAHE;IACE,eAAe;EACjB",file:"index.css",sourcesContent:[".sending-wrap {\n  margin-right: 0.5em;\n}\n\n.icon-base {\n  width: 14px;\n  height: 14px;\n  border: 0 none;\n  line-height: 0;\n  color: #fe4741;\n}\n\n.icon {\n  composes: icon-base;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n"]}]),t.locals={"sending-wrap":"_3XGhcShPisq9pcfbaAgkRZ",sendingWrap:"_3XGhcShPisq9pcfbaAgkRZ","icon-base":"_3yU4skyrFSHEIeWhoShPiP",iconBase:"_3yU4skyrFSHEIeWhoShPiP",icon:"_48E3pSpTGEtSNHGAjIImu _3yU4skyrFSHEIeWhoShPiP"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._2PCJSH-iWsGKEAb3LYmfIn {\n  font-size: 12px;\n  text-align: left;\n  word-spacing: 0.11em;\n}\n\n._13rJHzHcTZdq3c5GNID0L7 {\n  padding-left: 0.25em;\n  color: #395692\n}\n\n._13rJHzHcTZdq3c5GNID0L7:hover {\n    cursor: pointer;\n  }\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;EACpB;AAKF;;AAHE;IACE,eAAe;EACjB",file:"index.css",sourcesContent:[".root {\n  font-size: 12px;\n  text-align: left;\n  word-spacing: 0.11em;\n}\n\n.learn-more {\n  padding-left: 0.25em;\n  color: #395692;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n"]}]),t.locals={root:"_2PCJSH-iWsGKEAb3LYmfIn","learn-more":"_13rJHzHcTZdq3c5GNID0L7",learnMore:"_13rJHzHcTZdq3c5GNID0L7"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._5wLVI4F5D56T_QINbHigx {\n  color: #395692;\n  cursor: pointer;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,cAAc;EACd,eAAe;AACjB",file:"index.css",sourcesContent:[".policy {\n  color: #395692;\n  cursor: pointer;\n}\n"]}]),t.locals={policy:"_5wLVI4F5D56T_QINbHigx"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._2t09BUMQKc4bgIoqctsCDW {\n  font-size: 12px;\n  margin-top: 0.667em;\n  text-align: center;\n  color: #bbb;\n}\n\n._1h-PJarm5zOGfI4Kd7x5DV {\n  display: inline-block;\n  max-width: 28.937em;\n  line-height: 1.167em;\n  text-align: center;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,mBAAmB;EACnB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,oBAAoB;EACpB,kBAAkB;AACpB",file:"index.css",sourcesContent:[".meta-info {\n  font-size: 12px;\n  margin-top: 0.667em;\n  text-align: center;\n  color: #bbb;\n}\n\n.meta-content {\n  display: inline-block;\n  max-width: 28.937em;\n  line-height: 1.167em;\n  text-align: center;\n}\n"]}]),t.locals={"meta-info":"_2t09BUMQKc4bgIoqctsCDW",metaInfo:"_2t09BUMQKc4bgIoqctsCDW","meta-content":"_1h-PJarm5zOGfI4Kd7x5DV",metaContent:"_1h-PJarm5zOGfI4Kd7x5DV"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,".hIUzfpaVECkDIJLAUT8nQ {\n  box-sizing: border-box;\n  padding: 0 7.5px;\n}\n\n.iO_LmGZJlY5GQPtrLCqYA {\n  padding-bottom: 0.75em;\n}\n\n._3mU2lmG0OMgpVc1ILR5IIj {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n._1kXjVAWsG7Wpv7gjTen4dO {\n  align-items: center;\n  justify-content: flex-end;\n}\n\n._3i7qVUWGc_4XFFvwGuSjs {\n  justify-content: flex-start;\n}\n\n._1gSD02QgxKPVWzCL8H5HFX {\n  font-size: 12px;\n  margin-top: 12px;\n  line-height: 1.167em;\n  color: rgba(0, 0, 0, 0.4);\n  text-align: center;\n}\n\n.IPmaWbEyb3XJP81UoHa1X {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n}\n\n._10NdzHgUq2t2h34mnkJYUk {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n}\n\n._19znMMOdpg_sjc3xP_X5mc {\n  position: relative;\n}\n\n._1qIaUEuhc5NIRCucR2SxcQ {\n  width: 2.25em;\n  height: 2.25em;\n  margin-right: 0.75em;\n  flex-shrink: 0;\n}\n\n.UETBdTZGJjcRkr-epsTSU {\n  opacity: 0.6;\n  -webkit-filter: grayscale(50%);\n          filter: grayscale(50%);\n}\n\n.SLd4tyhTFjdOFDPaea5VH {\n  background-color: rgba(0, 0, 0, 0.6);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1.2em 1.2em;\n}\n\n._356u6qBl91x3AhxxLiPAHC {\n  color: #555;\n  font-size: 14px;\n  flex-shrink: 0;\n  text-decoration: none;\n  transition: color 0.25s ease\n}\n\n._356u6qBl91x3AhxxLiPAHC:hover {\n    color: #ee4d2d;\n    cursor: pointer;\n  }\n\n._1X-toVNEZ4Je3bmFQOkgev {\n  color: #555;\n  font-size: 14px;\n  flex-shrink: 0;\n  text-decoration: none;\n  transition: color 0.25s ease\n}\n\n._1X-toVNEZ4Je3bmFQOkgev:hover {\n    color: #ee4d2d;\n    cursor: pointer;\n  }\n\n._3OuqACWfFzF5fJj67xKjLa ._356u6qBl91x3AhxxLiPAHC:hover {\n    color: #555;\n    cursor: not-allowed;\n  }\n\n._22aPtuolP_b-r6xWDYesLO {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.24;\n  color: #333;\n  font-size: 14px;\n  font-weight: 500;\n  word-break: break-all;\n}\n\n.aQ2AzGIMlMyp8Af90Ry_7 {\n  margin-right: 0.25em;\n  position: relative;\n  color: #bbb\n}\n\n.aQ2AzGIMlMyp8Af90Ry_7::after {\n    content: '';\n    width: 100%;\n    height: 1px;\n    position: absolute;\n    left: 0;\n    top: 50%;\n    background-color: #bbb;\n  }\n\n._3_4WU1PfpfkSvjau4c885o {\n  margin-top: 0.5em;\n  line-height: 1.16;\n  color: #555;\n  font-size: 12px;\n}\n\n._9oDU3A3Hpv8zCxKSVucO7 {\n  margin-left: 0.5em;\n  color: #888;\n}\n\n._3vWueDaR1oqWg_9uQj5Bu3 {\n  font-size: 14px;\n  line-height: 1.36em;\n  color: #333;\n  display: flex;\n  align-items: center;\n}\n\n._1W9kkQHUmqXvAl5gnu2E2a {\n  color: #ff4742;\n}\n\n._95FFIz3GMqLSZsSyjL3p0 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n._2VJTxxq1zDHPvdgFtynXcQ {\n  width: 2.25em;\n  height: 2.25em;\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n._2MOKj1O3NhdC3XGC1PHHiU {\n  width: 100%;\n  height: 100%;\n}\n\n._3sVJ2x7tt7f9ox0PsE2qJ {\n  width: 2.25em;\n  flex-shrink: 0;\n}\n\n._3lFdhGA0mPqi-e22KMHVPn {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n}\n\n._2j6LIO-m2B-zONTTMttHp1 {\n  flex-grow: 1;\n  overflow: hidden;\n}\n\n._27CywXexvaQLq5OwN8hVyl {\n  display: flex;\n  flex-direction: row;\n}\n\n.Oe4T3cTQbo4rnZzSd-rQd {\n  width: 2.25em;\n  height: 2.25em;\n  margin-right: 1em;\n  flex-shrink: 0;\n}\n\n.HHnxRisfJdk1An5JIz2Y0 {\n  margin-bottom: 0.428em;\n}\n\n._2QEERxNkYoE0GLwuHEcWWK {\n  font-size: 14px;\n  color: #01bfa5;\n}\n\n._3Q7MX1PUFdtnzKLc3UdX9z {\n  margin: 0 0.428em;\n  color: rgba(136, 136, 136, 0.4);\n}\n\n._222nHElIK9k9niZwYrLu2T {\n  line-height: 1.142;\n  font-size: 14px;\n  color: #555;\n  font-weight: bold;\n}\n\n._2Z_8hAKzyLRNZazhpL4zsq {\n  line-height: 1.16em;\n  font-size: 12px;\n  color: #888;\n}\n\n.qECB0-PzoHjr-k6NJHDll {\n  margin-right: 1.333em;\n}\n\n._3H0-oXxxnRlyKLUYpPq0-R {\n  background-color: #f4f4f4;\n  font-size: 16px;\n  height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-left: 0.75em;\n}\n\n._1zo0NC_PnWRIG4TcgizX5u {\n  height: 1em;\n  width: 1em;\n}\n\n.RkUm5cXsYvXWI-mFPi9_8 {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.42);\n  margin-left: 1em;\n}\n\n._3IpazX4jsFewcvd_xgdDaD {\n  font-size: 16px;\n  height: 3.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n._3CRjohg_9glx8EXdakoLi- {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n._34wG4_h5rLP4uSPWajJrCp {\n  height: 2.25em;\n  width: 2.25em;\n  margin: 0 0.75em\n}\n\n._34wG4_h5rLP4uSPWajJrCp > * {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n._34wG4_h5rLP4uSPWajJrCp > div {\n    color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: bold;\n  }\n\n._2zuF5J9VpNTbrMmIHCBWcK {\n  font-size: 14px;\n  color: #555;\n}\n\n._1XkSwZoXiDI-Oyl5siW3qt {\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: center;\n  margin: 0 0.75em;\n}\n\n@-webkit-keyframes _2bHD5BSYqz1gXwqln93m-Y {\n  from {\n    transform: rotateZ(0);\n  }\n\n  to {\n    transform: rotateZ(360deg);\n  }\n}\n\n@keyframes _2bHD5BSYqz1gXwqln93m-Y {\n  from {\n    transform: rotateZ(0);\n  }\n\n  to {\n    transform: rotateZ(360deg);\n  }\n}\n\n._12HH49fG8dEWOGmO0gNpQ2 {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n\n._1T0GTHcs44T0oqc9gfk3pA {\n  padding: 0.667em 0.857em;\n  font-size: 14px;\n  line-height: 1.143em;\n  border-radius: 2px;\n  background-color: #d7e4ff;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EAEE,mBAAmB;EACnB,yBAAyB;AAC3B;;AAEA;EAEE,2BAA2B;AAC7B;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,oBAAoB;EACpB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,cAAc;EACd,oBAAoB;EACpB,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,8BAAsB;UAAtB,sBAAsB;AACxB;;AAEA;EACE,oCAAoC;EACpC,4BAA4B;EAC5B,2BAA2B;EAC3B,4BAA4B;AAC9B;;AAEA;EACE,WAAW;EACX,eAAe;EACf,cAAc;EACd,qBAAqB;EACrB;AAMF;;AAJE;IACE,cAAc;IACd,eAAe;EACjB;;AAGF;EACE,WAAW;EACX,eAAe;EACf,cAAc;EACd,qBAAqB;EACrB;AAMF;;AAJE;IACE,cAAc;IACd,eAAe;EACjB;;AAIA;IACE,WAAW;IACX,mBAAmB;EACrB;;AAGF;EACE,gBAAgB;EAChB,uBAAuB;EACvB,iBAAiB;EACjB,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,oBAAoB;EACpB,kBAAkB;EAClB;AAWF;;AATE;IACE,WAAW;IACX,WAAW;IACX,WAAW;IACX,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,sBAAsB;EACxB;;AAGF;EACE,iBAAiB;EACjB,iBAAiB;EACjB,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,mBAAmB;EACnB,WAAW;EACX,aAAa;EACb,mBAAmB;AACrB;;AAEA;EAEE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,cAAc;EACd,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,cAAc;EACd,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,iBAAiB;EACjB,+BAA+B;AACjC;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,2BAA2B;EAC3B,oBAAoB;AACtB;;AAEA;EACE,WAAW;EACX,UAAU;AACZ;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,aAAa;EACb;AAeF;;AAbE;IACE,WAAW;IACX,YAAY;IACZ,kBAAkB;EACpB;;AAEA;IACE,WAAW;IACX,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,iBAAiB;EACnB;;AAGF;EACE,eAAe;EACf,WAAW;AACb;;AAEA;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE;IACE,qBAAqB;EACvB;;EAEA;IACE,0BAA0B;EAC5B;AACF;;AARA;EACE;IACE,qBAAqB;EACvB;;EAEA;IACE,0BAA0B;EAC5B;AACF;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,eAAe;EACf,oBAAoB;EACpB,kBAAkB;EAClB,yBAAyB;AAC3B",file:"index.css",sourcesContent:[".root {\n  box-sizing: border-box;\n  padding: 0 7.5px;\n}\n\n.last-message {\n  padding-bottom: 0.75em;\n}\n\n.message {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.message-send {\n  composes: message;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.message-receive {\n  composes: message;\n  justify-content: flex-start;\n}\n\n.message-time {\n  font-size: 12px;\n  margin-top: 12px;\n  line-height: 1.167em;\n  color: rgba(0, 0, 0, 0.4);\n  text-align: center;\n}\n\n.product-origin {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n}\n\n.product-origin-info {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n}\n\n.image-wrapper {\n  position: relative;\n}\n\n.product-image {\n  width: 2.25em;\n  height: 2.25em;\n  margin-right: 0.75em;\n  flex-shrink: 0;\n}\n\n.sold-out {\n  opacity: 0.6;\n  filter: grayscale(50%);\n}\n\n.background-settings {\n  background-color: rgba(0, 0, 0, 0.6);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 1.2em 1.2em;\n}\n\n.view-link {\n  color: #555;\n  font-size: 14px;\n  flex-shrink: 0;\n  text-decoration: none;\n  transition: color 0.25s ease;\n\n  &:hover {\n    color: #ee4d2d;\n    cursor: pointer;\n  }\n}\n\n.view-mall-link {\n  color: #555;\n  font-size: 14px;\n  flex-shrink: 0;\n  text-decoration: none;\n  transition: color 0.25s ease;\n\n  &:hover {\n    color: #ee4d2d;\n    cursor: pointer;\n  }\n}\n\n.banned {\n  & .view-link:hover {\n    color: #555;\n    cursor: not-allowed;\n  }\n}\n\n.product-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.24;\n  color: #333;\n  font-size: 14px;\n  font-weight: 500;\n  word-break: break-all;\n}\n\n.origin-price {\n  margin-right: 0.25em;\n  position: relative;\n  color: #bbb;\n\n  &::after {\n    content: '';\n    width: 100%;\n    height: 1px;\n    position: absolute;\n    left: 0;\n    top: 50%;\n    background-color: #bbb;\n  }\n}\n\n.product-price {\n  margin-top: 0.5em;\n  line-height: 1.16;\n  color: #555;\n  font-size: 12px;\n}\n\n.product-stock {\n  margin-left: 0.5em;\n  color: #888;\n}\n\n.deleted-product {\n  font-size: 14px;\n  line-height: 1.36em;\n  color: #333;\n  display: flex;\n  align-items: center;\n}\n\n.banned-product {\n  composes: product-price;\n  color: #ff4742;\n}\n\n.view-product-block {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.avatar-wrap {\n  width: 2.25em;\n  height: 2.25em;\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n.avatar {\n  width: 100%;\n  height: 100%;\n}\n\n.avatar-placeholder {\n  width: 2.25em;\n  flex-shrink: 0;\n}\n\n.order-origin {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n}\n\n.order-origin-info {\n  flex-grow: 1;\n  overflow: hidden;\n}\n\n.order-info {\n  display: flex;\n  flex-direction: row;\n}\n\n.order-product-image {\n  width: 2.25em;\n  height: 2.25em;\n  margin-right: 1em;\n  flex-shrink: 0;\n}\n\n.status-wrap {\n  margin-bottom: 0.428em;\n}\n\n.order-status {\n  font-size: 14px;\n  color: #01bfa5;\n}\n\n.pipe {\n  margin: 0 0.428em;\n  color: rgba(136, 136, 136, 0.4);\n}\n\n.order-product-name {\n  line-height: 1.142;\n  font-size: 14px;\n  color: #555;\n  font-weight: bold;\n}\n\n.order-detail {\n  line-height: 1.16em;\n  font-size: 12px;\n  color: #888;\n}\n\n.order-sn {\n  margin-right: 1.333em;\n}\n\n.shop-information {\n  background-color: #f4f4f4;\n  font-size: 16px;\n  height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-left: 0.75em;\n}\n\n.shop-avatar {\n  height: 1em;\n  width: 1em;\n}\n\n.shop-name {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.42);\n  margin-left: 1em;\n}\n\n.shop-origin {\n  font-size: 16px;\n  height: 3.75em;\n  background-color: #f4f4f4;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.shop-origin-info {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.shop-origin-avatar {\n  height: 2.25em;\n  width: 2.25em;\n  margin: 0 0.75em;\n\n  & > * {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n  & > div {\n    color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: bold;\n  }\n}\n\n.shop-origin-name {\n  font-size: 14px;\n  color: #555;\n}\n\n.view-shop-block {\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: center;\n  margin: 0 0.75em;\n}\n\n@keyframes rotate {\n  from {\n    transform: rotateZ(0);\n  }\n\n  to {\n    transform: rotateZ(360deg);\n  }\n}\n\n.bubble {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n\n.offer-tips {\n  padding: 0.667em 0.857em;\n  font-size: 14px;\n  line-height: 1.143em;\n  border-radius: 2px;\n  background-color: #d7e4ff;\n}\n"]}]),t.locals={root:"hIUzfpaVECkDIJLAUT8nQ","last-message":"iO_LmGZJlY5GQPtrLCqYA",lastMessage:"iO_LmGZJlY5GQPtrLCqYA",message:"_3mU2lmG0OMgpVc1ILR5IIj","message-send":"_1kXjVAWsG7Wpv7gjTen4dO _3mU2lmG0OMgpVc1ILR5IIj",messageSend:"_1kXjVAWsG7Wpv7gjTen4dO _3mU2lmG0OMgpVc1ILR5IIj","message-receive":"_3i7qVUWGc_4XFFvwGuSjs _3mU2lmG0OMgpVc1ILR5IIj",messageReceive:"_3i7qVUWGc_4XFFvwGuSjs _3mU2lmG0OMgpVc1ILR5IIj","message-time":"_1gSD02QgxKPVWzCL8H5HFX",messageTime:"_1gSD02QgxKPVWzCL8H5HFX","product-origin":"IPmaWbEyb3XJP81UoHa1X",productOrigin:"IPmaWbEyb3XJP81UoHa1X","product-origin-info":"_10NdzHgUq2t2h34mnkJYUk",productOriginInfo:"_10NdzHgUq2t2h34mnkJYUk","image-wrapper":"_19znMMOdpg_sjc3xP_X5mc",imageWrapper:"_19znMMOdpg_sjc3xP_X5mc","product-image":"_1qIaUEuhc5NIRCucR2SxcQ",productImage:"_1qIaUEuhc5NIRCucR2SxcQ","sold-out":"UETBdTZGJjcRkr-epsTSU",soldOut:"UETBdTZGJjcRkr-epsTSU","background-settings":"SLd4tyhTFjdOFDPaea5VH",backgroundSettings:"SLd4tyhTFjdOFDPaea5VH","view-link":"_356u6qBl91x3AhxxLiPAHC",viewLink:"_356u6qBl91x3AhxxLiPAHC","view-mall-link":"_1X-toVNEZ4Je3bmFQOkgev",viewMallLink:"_1X-toVNEZ4Je3bmFQOkgev",banned:"_3OuqACWfFzF5fJj67xKjLa","product-name":"_22aPtuolP_b-r6xWDYesLO",productName:"_22aPtuolP_b-r6xWDYesLO","origin-price":"aQ2AzGIMlMyp8Af90Ry_7",originPrice:"aQ2AzGIMlMyp8Af90Ry_7","product-price":"_3_4WU1PfpfkSvjau4c885o",productPrice:"_3_4WU1PfpfkSvjau4c885o","product-stock":"_9oDU3A3Hpv8zCxKSVucO7",productStock:"_9oDU3A3Hpv8zCxKSVucO7","deleted-product":"_3vWueDaR1oqWg_9uQj5Bu3",deletedProduct:"_3vWueDaR1oqWg_9uQj5Bu3","banned-product":"_1W9kkQHUmqXvAl5gnu2E2a _3_4WU1PfpfkSvjau4c885o",bannedProduct:"_1W9kkQHUmqXvAl5gnu2E2a _3_4WU1PfpfkSvjau4c885o","view-product-block":"_95FFIz3GMqLSZsSyjL3p0",viewProductBlock:"_95FFIz3GMqLSZsSyjL3p0","avatar-wrap":"_2VJTxxq1zDHPvdgFtynXcQ",avatarWrap:"_2VJTxxq1zDHPvdgFtynXcQ",avatar:"_2MOKj1O3NhdC3XGC1PHHiU","avatar-placeholder":"_3sVJ2x7tt7f9ox0PsE2qJ",avatarPlaceholder:"_3sVJ2x7tt7f9ox0PsE2qJ","order-origin":"_3lFdhGA0mPqi-e22KMHVPn",orderOrigin:"_3lFdhGA0mPqi-e22KMHVPn","order-origin-info":"_2j6LIO-m2B-zONTTMttHp1",orderOriginInfo:"_2j6LIO-m2B-zONTTMttHp1","order-info":"_27CywXexvaQLq5OwN8hVyl",orderInfo:"_27CywXexvaQLq5OwN8hVyl","order-product-image":"Oe4T3cTQbo4rnZzSd-rQd",orderProductImage:"Oe4T3cTQbo4rnZzSd-rQd","status-wrap":"HHnxRisfJdk1An5JIz2Y0",statusWrap:"HHnxRisfJdk1An5JIz2Y0","order-status":"_2QEERxNkYoE0GLwuHEcWWK",orderStatus:"_2QEERxNkYoE0GLwuHEcWWK",pipe:"_3Q7MX1PUFdtnzKLc3UdX9z","order-product-name":"_222nHElIK9k9niZwYrLu2T",orderProductName:"_222nHElIK9k9niZwYrLu2T","order-detail":"_2Z_8hAKzyLRNZazhpL4zsq",orderDetail:"_2Z_8hAKzyLRNZazhpL4zsq","order-sn":"qECB0-PzoHjr-k6NJHDll",orderSn:"qECB0-PzoHjr-k6NJHDll","shop-information":"_3H0-oXxxnRlyKLUYpPq0-R",shopInformation:"_3H0-oXxxnRlyKLUYpPq0-R","shop-avatar":"_1zo0NC_PnWRIG4TcgizX5u",shopAvatar:"_1zo0NC_PnWRIG4TcgizX5u","shop-name":"RkUm5cXsYvXWI-mFPi9_8",shopName:"RkUm5cXsYvXWI-mFPi9_8","shop-origin":"_3IpazX4jsFewcvd_xgdDaD",shopOrigin:"_3IpazX4jsFewcvd_xgdDaD","shop-origin-info":"_3CRjohg_9glx8EXdakoLi-",shopOriginInfo:"_3CRjohg_9glx8EXdakoLi-","shop-origin-avatar":"_34wG4_h5rLP4uSPWajJrCp",shopOriginAvatar:"_34wG4_h5rLP4uSPWajJrCp","shop-origin-name":"_2zuF5J9VpNTbrMmIHCBWcK",shopOriginName:"_2zuF5J9VpNTbrMmIHCBWcK","view-shop-block":"_1XkSwZoXiDI-Oyl5siW3qt",viewShopBlock:"_1XkSwZoXiDI-Oyl5siW3qt",bubble:"_12HH49fG8dEWOGmO0gNpQ2","offer-tips":"_1T0GTHcs44T0oqc9gfk3pA",offerTips:"_1T0GTHcs44T0oqc9gfk3pA",rotate:"_2bHD5BSYqz1gXwqln93m-Y"},e.exports=t},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){(t=n(19)(!0)).push([e.i,"._3uVN1xhiPgOdvNDRZBtHr8 {\n  margin: 0;\n  box-sizing: border-box;\n  max-width: 29.5em;\n  padding: 8px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  border-radius: 2px;\n  color: #333;\n  font-size: 14px;\n  background-color: #f5f6f8\n}\n\n._3uVN1xhiPgOdvNDRZBtHr8._10V8TmtFupYFXByshFbH8A {\n    background-color: #d7e4ff;\n    color: #333;\n  }\n\n.o4xK5IN7I_Og8b49vKyLA {\n  max-width: 240px;\n  line-height: 21px;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,sBAAsB;EACtB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf;AAMF;;AAJE;IACE,yBAAyB;IACzB,WAAW;EACb;;AAGF;EACE,gBAAgB;EAChB,iBAAiB;AACnB",file:"index.css",sourcesContent:[".message {\n  margin: 0;\n  box-sizing: border-box;\n  max-width: 29.5em;\n  padding: 8px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  border-radius: 2px;\n  color: #333;\n  font-size: 14px;\n  background-color: #f5f6f8;\n\n  &.send {\n    background-color: #d7e4ff;\n    color: #333;\n  }\n}\n\n.unsupport-faq {\n  max-width: 240px;\n  line-height: 21px;\n}\n"]}]),t.locals={message:"_3uVN1xhiPgOdvNDRZBtHr8",send:"_10V8TmtFupYFXByshFbH8A","unsupport-faq":"o4xK5IN7I_Og8b49vKyLA",unsupportFaq:"o4xK5IN7I_Og8b49vKyLA"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._20zPwvbscRaHB06OQRK9AG {\n  height: 32px;\n  width: 100%;\n  position: relative;\n  margin-bottom: 12px;\n}\n\n._2J7kkQfNmTTTt1xh_K_pee {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  left: 0;\n  top: 0\n}\n\n._2J7kkQfNmTTTt1xh_K_pee > img {\n    width: 100%;\n    height: 100%;\n  }\n\n._2tiOh3afwkdSddq8QdjM7- {\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n._3lhD-2IsRCSu5MgvVY8ouH {\n  height: 1em;\n  width: 1em;\n  color: #fff;\n}\n\n._1T7_fEULR9eNB8fiZJ-pJ_ {\n  height: 100%;\n  margin-left: 32px;\n  padding-left: 0.5em\n}\n\n._1T7_fEULR9eNB8fiZJ-pJ_._1NEVuoPNaG3ZGPWiFWILue {\n    display: flex;\n    align-items: center;\n  }\n\n._1Sq6Ux9DH5dn7fpxN_2G6s {\n  display: flex;\n  align-items: center;\n  line-height: 16px;\n}\n\n.bmaZtB6qQGHiZkaYRZbgh {\n  max-width: 88px;\n  font-size: 12px;\n}\n\n._2JVZRDqVVHwkt3KPkAkxcl {\n  height: 10px;\n  padding-left: 4px;\n  margin-left: 4px;\n  border-left: 1px solid #ccc;\n}\n\n._1f23MeD0arBXbtisSoV3H7 {\n  color: #ee4d2d;\n  font-size: 13px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  max-width: 176px;\n  height: 14px;\n  margin-bottom: 2px;\n}\n\n._1ERrQupeHMU2js2ymNfPL7 {\n  color: #333;\n  font-size: 13px;\n  line-height: 1.2;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  cursor: pointer;\n  margin-bottom: 2px\n}\n\n._1ERrQupeHMU2js2ymNfPL7 > ._2xvxwbMtqZFUrLtyUlU_1J {\n    word-break: break-all;\n  }\n\n._1ERrQupeHMU2js2ymNfPL7 > ._2xvxwbMtqZFUrLtyUlU_1J:hover {\n    text-decoration: underline;\n  }\n\n._3ENfEC01n8pFu-32ovG_bm {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 32px;\n  width: 32px;\n  border: 1px solid #f5f5f5;\n  background: transparent;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP;AAMF;;AAJE;IACE,WAAW;IACX,YAAY;EACd;;AAGF;EAEE,oCAAoC;EACpC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,UAAU;EACV,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB;AAMF;;AAJE;IACE,aAAa;IACb,mBAAmB;EACrB;;AAGF;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,gBAAgB;EAChB,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,gBAAgB;EAChB,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,uBAAuB;EACvB,eAAe;EACf;AASF;;AAPE;IACE,qBAAqB;EACvB;;AAEA;IACE,0BAA0B;EAC5B;;AAGF;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,YAAY;EACZ,WAAW;EACX,yBAAyB;EACzB,uBAAuB;AACzB",file:"index.css",sourcesContent:[".detail-block {\n  height: 32px;\n  width: 100%;\n  position: relative;\n  margin-bottom: 12px;\n}\n\n.image {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  & > img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.invalid {\n  composes: image;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.invalid-icon {\n  height: 1em;\n  width: 1em;\n  color: #fff;\n}\n\n.content {\n  height: 100%;\n  margin-left: 32px;\n  padding-left: 0.5em;\n\n  &.no-model {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.priceDetail {\n  display: flex;\n  align-items: center;\n  line-height: 16px;\n}\n\n.invalidBrand {\n  max-width: 88px;\n  font-size: 12px;\n}\n\n.divider {\n  height: 10px;\n  padding-left: 4px;\n  margin-left: 4px;\n  border-left: 1px solid #ccc;\n}\n\n.price {\n  color: #ee4d2d;\n  font-size: 13px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  max-width: 176px;\n  height: 14px;\n  margin-bottom: 2px;\n}\n\n.name {\n  color: #333;\n  font-size: 13px;\n  line-height: 1.2;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  cursor: pointer;\n  margin-bottom: 2px;\n\n  & > .dot {\n    word-break: break-all;\n  }\n\n  & > .dot:hover {\n    text-decoration: underline;\n  }\n}\n\n.image-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 32px;\n  width: 32px;\n  border: 1px solid #f5f5f5;\n  background: transparent;\n}\n"]}]),t.locals={"detail-block":"_20zPwvbscRaHB06OQRK9AG",detailBlock:"_20zPwvbscRaHB06OQRK9AG",image:"_2J7kkQfNmTTTt1xh_K_pee",invalid:"_2tiOh3afwkdSddq8QdjM7- _2J7kkQfNmTTTt1xh_K_pee","invalid-icon":"_3lhD-2IsRCSu5MgvVY8ouH",invalidIcon:"_3lhD-2IsRCSu5MgvVY8ouH",content:"_1T7_fEULR9eNB8fiZJ-pJ_","no-model":"_1NEVuoPNaG3ZGPWiFWILue",noModel:"_1NEVuoPNaG3ZGPWiFWILue",priceDetail:"_1Sq6Ux9DH5dn7fpxN_2G6s",invalidBrand:"bmaZtB6qQGHiZkaYRZbgh",divider:"_2JVZRDqVVHwkt3KPkAkxcl",price:"_1f23MeD0arBXbtisSoV3H7",name:"_1ERrQupeHMU2js2ymNfPL7",dot:"_2xvxwbMtqZFUrLtyUlU_1J","image-border":"_3ENfEC01n8pFu-32ovG_bm",imageBorder:"_3ENfEC01n8pFu-32ovG_bm"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,".qj7VmdoddrxtNyVnZ8Ib {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  transition: all 0.2s ease\n}\n\n.qj7VmdoddrxtNyVnZ8Ib.ioX2Lb8-PDmMuhubCCO0z {\n    border: 0.25em solid #d7e4ff;\n  }\n\n.qj7VmdoddrxtNyVnZ8Ib._3e6u-gR76krhbdS1GVpV77 {\n    border: 0.25em solid #f1f3f4;\n  }\n\n._3vYHHQ_Y9pe8EvhoAT144B {\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n  align-items: center;\n  font-weight: 600;\n}\n\n._1efR4hak7HQXb7Jz6hdbQu {\n  color: #ee4d2d;\n}\n\n._3GGSJxe05Smr98wtWeYZGm {\n  color: #888;\n}\n\n._1Z1zrsxZDLfgon9bh2G0Iy {\n  cursor: pointer;\n  color: #395692;\n}\n\n._2LZ7LA87-B4aIot49we4hz {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 6px;\n  border-top: 1px dashed #f1f3f4;\n}\n\n._2vTqnr0Z_K1ooNxwMKlWmD {\n  font-size: 10px;\n  color: #bbb;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB,sBAAsB;EACtB;AASF;;AAPE;IACE,4BAA4B;EAC9B;;AAEA;IACE,4BAA4B;EAC9B;;AAGF;EACE,WAAW;EACX,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,yBAAyB;EACzB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,iBAAiB;EACjB,gBAAgB;EAChB,8BAA8B;AAChC;;AAEA;EACE,eAAe;EACf,WAAW;AACb",file:"index.css",sourcesContent:[".root {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  transition: all 0.2s ease;\n\n  &.send {\n    border: 0.25em solid #d7e4ff;\n  }\n\n  &.receive {\n    border: 0.25em solid #f1f3f4;\n  }\n}\n\n.header {\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n  align-items: center;\n  font-weight: 600;\n}\n\n.active {\n  color: #ee4d2d;\n}\n\n.inactive {\n  color: #888;\n}\n\n.detail {\n  cursor: pointer;\n  color: #395692;\n}\n\n.footer {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 6px;\n  border-top: 1px dashed #f1f3f4;\n}\n\n.text-end {\n  font-size: 10px;\n  color: #bbb;\n}\n"]}]),t.locals={root:"qj7VmdoddrxtNyVnZ8Ib",send:"ioX2Lb8-PDmMuhubCCO0z",receive:"_3e6u-gR76krhbdS1GVpV77",header:"_3vYHHQ_Y9pe8EvhoAT144B",active:"_1efR4hak7HQXb7Jz6hdbQu",inactive:"_3GGSJxe05Smr98wtWeYZGm",detail:"_1Z1zrsxZDLfgon9bh2G0Iy",footer:"_2LZ7LA87-B4aIot49we4hz","text-end":"_2vTqnr0Z_K1ooNxwMKlWmD",textEnd:"_2vTqnr0Z_K1ooNxwMKlWmD"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._6gSgif49VcMfKXfT1sMGv {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  float: right;\n  margin-left: 4px;\n}\n\n._2_u_--PH9Y_s1-nMsqErcD {\n  display: inline-block;\n  color: #ff4742;\n}\n\n._1EwbNrbQFrnXZTuBBTCuBg {\n  float: left;\n  margin: 0 2px;\n}\n\n._6Q6KAAaN3_AnJWhr-2bUz {\n  float: left;\n  width: 16px;\n  height: 14px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 1px;\n  font-size: 12px;\n  border: 1px solid #ff4742;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,aAAa;AACf;;AAEA;EACE,WAAW;EACX,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,eAAe;EACf,yBAAyB;AAC3B",file:"index.css",sourcesContent:[".count-time {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  float: right;\n  margin-left: 4px;\n}\n\n.time {\n  display: inline-block;\n  color: #ff4742;\n}\n\n.split {\n  float: left;\n  margin: 0 2px;\n}\n\n.count {\n  float: left;\n  width: 16px;\n  height: 14px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 1px;\n  font-size: 12px;\n  border: 1px solid #ff4742;\n}\n"]}]),t.locals={"count-time":"_6gSgif49VcMfKXfT1sMGv",countTime:"_6gSgif49VcMfKXfT1sMGv",time:"_2_u_--PH9Y_s1-nMsqErcD",split:"_1EwbNrbQFrnXZTuBBTCuBg",count:"_6Q6KAAaN3_AnJWhr-2bUz"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,".uRawqh9Vn9-VQ72C4kdrJ {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  transition: all 0.2s ease\n}\n\n.uRawqh9Vn9-VQ72C4kdrJ._3qPncu9ADY7-aU_UD9kKU4 {\n    border: 0.25em solid #d7e4ff;\n  }\n\n.uRawqh9Vn9-VQ72C4kdrJ._24hJRaF3ntweAxf8r8DRn3 {\n    border: 0.25em solid #f1f3f4;\n  }\n\n._1nehT8wHEINr8eKC3ABQ_B {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 8px;\n  align-items: center\n}\n\n._1nehT8wHEINr8eKC3ABQ_B > ._3vGuqMDkFV-sgxluK-bMEc {\n    text-transform: uppercase;\n    color: #ee4d2d;\n    max-width: 50%;\n    overflow: hidden;\n    font-weight: 600;\n  }\n\n._1nehT8wHEINr8eKC3ABQ_B > ._344iLqDUiynZ_7mFoBgy1q {\n    color: #888;\n  }\n\n._1nehT8wHEINr8eKC3ABQ_B > ._3w-PvlHGY_t2MvFkAVMkVg {\n    color: #bbb;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-left: 4px;\n    font-size: 10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n._1im_RnR0Pl7Bq__bQ1MZH0 {\n  width: 100%;\n  word-break: break-all;\n  text-align: right;\n}\n\n._2GHRpyYlhuZsHvSc-k0xTh {\n  color: #ee4d2d;\n  font-size: 13px;\n  line-height: 15px;\n  margin-top: 3px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: 600;\n}\n\n._32i_hqEqDjNYziHm2L1P15 {\n  font-size: 12px;\n  color: #ee4d2d;\n  background: rgba(238, 77, 45, 0.08);\n  border-radius: 1px;\n  padding: 0 4px;\n}\n\n._2vsb4CmUU31CRM8qmS9-6l {\n  font-size: 12px;\n  color: #888;\n  background: #e7e7e7;\n  border-radius: 1px;\n  padding: 0 4px;\n}\n\n.pCX8ATCZpFY8gY1H_vPj8 {\n  font-size: 10px;\n  color: #bbb;\n}\n\n._1Ixg0TS92rJs7SawitQWLw {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 6px;\n  border-top: 1px dashed #f1f3f4;\n  cursor: pointer;\n  color: #395692;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB,sBAAsB;EACtB;AASF;;AAPE;IACE,4BAA4B;EAC9B;;AAEA;IACE,4BAA4B;EAC9B;;AAGF;EACE,WAAW;EACX,aAAa;EACb,8BAA8B;EAC9B,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB;AAyBF;;AAvBE;IACE,yBAAyB;IACzB,cAAc;IACd,cAAc;IACd,gBAAgB;IAChB,gBAAgB;EAClB;;AAEA;IACE,WAAW;EACb;;AAEA;IACE,WAAW;IACX,OAAO;IACP,aAAa;IACb,mBAAmB;IACnB,yBAAyB;IACzB,gBAAgB;IAChB,eAAe;IACf,gBAAgB;IAChB,uBAAuB;EACzB;;AAGF;EACE,WAAW;EACX,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,mCAAmC;EACnC,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,mBAAmB;EACnB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,WAAW;AACb;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,iBAAiB;EACjB,gBAAgB;EAChB,8BAA8B;EAC9B,eAAe;EACf,cAAc;AAChB",file:"index.css",sourcesContent:[".root {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  transition: all 0.2s ease;\n\n  &.send {\n    border: 0.25em solid #d7e4ff;\n  }\n\n  &.receive {\n    border: 0.25em solid #f1f3f4;\n  }\n}\n\n.header {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 8px;\n  align-items: center;\n\n  & > .product-header {\n    text-transform: uppercase;\n    color: #ee4d2d;\n    max-width: 50%;\n    overflow: hidden;\n    font-weight: 600;\n  }\n\n  & > .product-header-inactive {\n    color: #888;\n  }\n\n  & > .header-right {\n    color: #bbb;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-left: 4px;\n    font-size: 10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n.headerText {\n  width: 100%;\n  word-break: break-all;\n  text-align: right;\n}\n\n.price {\n  color: #ee4d2d;\n  font-size: 13px;\n  line-height: 15px;\n  margin-top: 3px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-weight: 600;\n}\n\n.discount {\n  font-size: 12px;\n  color: #ee4d2d;\n  background: rgba(238, 77, 45, 0.08);\n  border-radius: 1px;\n  padding: 0 4px;\n}\n\n.soldout {\n  font-size: 12px;\n  color: #888;\n  background: #e7e7e7;\n  border-radius: 1px;\n  padding: 0 4px;\n}\n\n.textEnd {\n  font-size: 10px;\n  color: #bbb;\n}\n\n.footer {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 6px;\n  border-top: 1px dashed #f1f3f4;\n  cursor: pointer;\n  color: #395692;\n}\n"]}]),t.locals={root:"uRawqh9Vn9-VQ72C4kdrJ",send:"_3qPncu9ADY7-aU_UD9kKU4",receive:"_24hJRaF3ntweAxf8r8DRn3",header:"_1nehT8wHEINr8eKC3ABQ_B","product-header":"_3vGuqMDkFV-sgxluK-bMEc",productHeader:"_3vGuqMDkFV-sgxluK-bMEc","product-header-inactive":"_344iLqDUiynZ_7mFoBgy1q",productHeaderInactive:"_344iLqDUiynZ_7mFoBgy1q","header-right":"_3w-PvlHGY_t2MvFkAVMkVg",headerRight:"_3w-PvlHGY_t2MvFkAVMkVg",headerText:"_1im_RnR0Pl7Bq__bQ1MZH0",price:"_2GHRpyYlhuZsHvSc-k0xTh",discount:"_32i_hqEqDjNYziHm2L1P15",soldout:"_2vsb4CmUU31CRM8qmS9-6l",textEnd:"pCX8ATCZpFY8gY1H_vPj8",footer:"_1Ixg0TS92rJs7SawitQWLw"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._1j5d8cvhor_R-eU8Qi3zRP {\n  width: 100%;\n  font-size: 20px;\n  height: 1.1em;\n  text-align: left;\n  position: relative;\n}\n\n._1ZqrPyv3nHeMPeJGQs60ml {\n  max-width: 100%;\n  height: 1.2em;\n  line-height: 1.1em;\n  font-weight: 500\n}\n\n._1ZqrPyv3nHeMPeJGQs60ml._1rIcIdhZ_srqCjcH0MAJRf {\n    max-width: 80%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n._16JPm10NXWtKixnRuTgBSc {\n  height: 0.7em;\n  width: 0.7em;\n  color: #bbb;\n  position: absolute;\n  top: 0;\n  right: -0.2em;\n  cursor: pointer;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,eAAe;EACf,aAAa;EACb,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,aAAa;EACb,kBAAkB;EAClB;AAQF;;AANE;IACE,cAAc;IACd,gBAAgB;IAChB,uBAAuB;IACvB,mBAAmB;EACrB;;AAGF;EACE,aAAa;EACb,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,aAAa;EACb,eAAe;AACjB",file:"index.css",sourcesContent:[".root {\n  width: 100%;\n  font-size: 20px;\n  height: 1.1em;\n  text-align: left;\n  position: relative;\n}\n\n.title {\n  max-width: 100%;\n  height: 1.2em;\n  line-height: 1.1em;\n  font-weight: 500;\n\n  &.has-cancel {\n    max-width: 80%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n}\n\n.cancel {\n  height: 0.7em;\n  width: 0.7em;\n  color: #bbb;\n  position: absolute;\n  top: 0;\n  right: -0.2em;\n  cursor: pointer;\n}\n"]}]),t.locals={root:"_1j5d8cvhor_R-eU8Qi3zRP",title:"_1ZqrPyv3nHeMPeJGQs60ml","has-cancel":"_1rIcIdhZ_srqCjcH0MAJRf",hasCancel:"_1rIcIdhZ_srqCjcH0MAJRf",cancel:"_16JPm10NXWtKixnRuTgBSc"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._15_uMmuonnTw0UCEDORtT- {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n}\n\n._2PHIZXX9EiRgvbQtvQDubs {\n  padding: 1.5em;\n  border-radius: 3px;\n  background: #fff;\n  box-sizing: border-box;\n  box-shadow: 0 0 1em 0 rgba(0, 0, 0, 0.05), 0 1em 1em 0 rgba(0, 0, 0, 0.09);\n}\n\n._2PHIZXX9EiRgvbQtvQDubs:focus {\n  outline: none;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,OAAO;EACP,QAAQ;EACR,MAAM;EACN,SAAS;EACT,8BAA8B;EAC9B,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB;EACtB,0EAA0E;AAC5E;;AAEA;EACE,aAAa;AACf",file:"index.css",sourcesContent:[".overlay {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n}\n\n.content {\n  padding: 1.5em;\n  border-radius: 3px;\n  background: #fff;\n  box-sizing: border-box;\n  box-shadow: 0 0 1em 0 rgba(0, 0, 0, 0.05), 0 1em 1em 0 rgba(0, 0, 0, 0.09);\n}\n\n.content:focus {\n  outline: none;\n}\n"]}]),t.locals={overlay:"_15_uMmuonnTw0UCEDORtT-",content:"_2PHIZXX9EiRgvbQtvQDubs"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._1zafb29X67OX0Rm_0qzJGh {\n  height: 645px;\n  margin-top: 24px;\n  margin-right: -21px;\n  margin-bottom: -24px;\n}\n\n.LDz0Dq7pML923HYs9zVmg {\n  font-size: 12px;\n  color: #bbb;\n  padding-right: 16px;\n  margin-bottom: 8px;\n}\n\n._1p7TMVjy_Gbt7LeWGM-ZOd {\n  padding: 0;\n  margin-bottom: 16px;\n  padding-right: 16px;\n  margin-top: -4px;\n}\n\n._1Rz3tNtpi3Viv2yVE8gM0x {\n  text-align: right;\n}\n\n._1605I46joGT0Ot1AfnRjzy {\n  color: #888;\n}\n\n._2AsLfdssbSXBa9uiFsUIkp {\n  color: #bbb;\n}\n\n._1yTJSmnBZBKg65byQFatTj {\n  display: inline-block;\n  width: 0;\n  margin-left: 8px;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;AACtB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,qBAAqB;EACrB,QAAQ;EACR,gBAAgB;AAClB",file:"index.css",sourcesContent:[".list {\n  height: 645px;\n  margin-top: 24px;\n  margin-right: -21px;\n  margin-bottom: -24px;\n}\n\n.header {\n  font-size: 12px;\n  color: #bbb;\n  padding-right: 16px;\n  margin-bottom: 8px;\n}\n\n.message {\n  padding: 0;\n  margin-bottom: 16px;\n  padding-right: 16px;\n  margin-top: -4px;\n}\n\n.right {\n  text-align: right;\n}\n\n.username {\n  color: #888;\n}\n\n.stamp {\n  color: #bbb;\n}\n\n.split {\n  display: inline-block;\n  width: 0;\n  margin-left: 8px;\n}\n"]}]),t.locals={list:"_1zafb29X67OX0Rm_0qzJGh",header:"LDz0Dq7pML923HYs9zVmg",message:"_1p7TMVjy_Gbt7LeWGM-ZOd",right:"_1Rz3tNtpi3Viv2yVE8gM0x",username:"_1605I46joGT0Ot1AfnRjzy",stamp:"_2AsLfdssbSXBa9uiFsUIkp",split:"_1yTJSmnBZBKg65byQFatTj"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._3O82p2memlng7tcEwAGMft {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: all 0.2s ease\n}\n\n._3O82p2memlng7tcEwAGMft.bO3UXl2EOZucz1-aizAnR {\n    border: 0.25em solid #d7e4ff;\n  }\n\n._3O82p2memlng7tcEwAGMft.WDwf45vWP7-1nl-yGTs5e {\n    border: 0.25em solid #f1f3f4;\n  }\n\n.tAVL13GN4v_5PaIUOzgLQ {\n  width: 600px;\n  height: 672px;\n}\n\n._8vB6v5PFehXJMtwqioiPx {\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 16px;\n  color: #555;\n}\n\n._1E7BqUAizKcdZG5aLkon11 {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 8px;\n  border-top: 1px dashed #f1f3f4;\n  color: #395692;\n  margin-top: 8px;\n}\n\n._3JjGB_k4kg4HhIzlYAJ9Ty {\n  font-size: 12px;\n  color: #888;\n  line-height: 18px;\n  width: 220px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  word-break: break-all;\n  white-space: nowrap;\n  height: 18px;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf;AASF;;AAPE;IACE,4BAA4B;EAC9B;;AAEA;IACE,4BAA4B;EAC9B;;AAGF;EACE,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,WAAW;EACX,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,iBAAiB;EACjB,gBAAgB;EAChB,8BAA8B;EAC9B,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,iBAAiB;EACjB,YAAY;EACZ,uBAAuB;EACvB,gBAAgB;EAChB,qBAAqB;EACrB,mBAAmB;EACnB,YAAY;AACd",file:"index.css",sourcesContent:[".root {\n  width: 240px;\n  padding: 8px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &.send {\n    border: 0.25em solid #d7e4ff;\n  }\n\n  &.receive {\n    border: 0.25em solid #f1f3f4;\n  }\n}\n\n.container {\n  width: 600px;\n  height: 672px;\n}\n\n.header {\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  margin-bottom: 16px;\n  color: #555;\n}\n\n.footer {\n  font-size: 12px;\n  line-height: 14px;\n  text-align: right;\n  padding-top: 8px;\n  border-top: 1px dashed #f1f3f4;\n  color: #395692;\n  margin-top: 8px;\n}\n\n.preview {\n  font-size: 12px;\n  color: #888;\n  line-height: 18px;\n  width: 220px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  word-break: break-all;\n  white-space: nowrap;\n  height: 18px;\n}\n"]}]),t.locals={root:"_3O82p2memlng7tcEwAGMft",send:"bO3UXl2EOZucz1-aizAnR",receive:"WDwf45vWP7-1nl-yGTs5e",container:"tAVL13GN4v_5PaIUOzgLQ",header:"_8vB6v5PFehXJMtwqioiPx",footer:"_1E7BqUAizKcdZG5aLkon11",preview:"_3JjGB_k4kg4HhIzlYAJ9Ty"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._2DHthNBqDPxDjC1c6JvkZH {\n  background: #f5f6f8;\n  padding: 8px;\n  width: 224px;\n  word-break: break-all;\n  font-size: 14px;\n  box-sizing: content-box;\n}\n\n._3pWLUxyM1FZ7-NdZqZbKY_ {\n  box-sizing: content-box;\n  border-top: 1px solid #e8e8e8;\n  height: 36px;\n  line-height: 36px;\n  width: 224px;\n  word-break: break-all;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #888;\n  cursor: pointer;\n  text-align: center;\n  white-space: nowrap;\n}\n\n._7-vPwOgwWBYpZj0E5MyHX {\n  padding-bottom: 8px;\n  line-height: 21px;\n}\n\n._2la8jPuCjpqKzvP_S2sWAE {\n  color: #ee4d2d;\n}\n\n._1DekCN6MP9k1IUvBQZzeom {\n  color: #ccc;\n  cursor: default;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,mBAAmB;EACnB,YAAY;EACZ,YAAY;EACZ,qBAAqB;EACrB,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,uBAAuB;EACvB,6BAA6B;EAC7B,YAAY;EACZ,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,gBAAgB;EAChB,uBAAuB;EACvB,WAAW;EACX,eAAe;EACf,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,eAAe;AACjB",file:"index.css",sourcesContent:[".root {\n  background: #f5f6f8;\n  padding: 8px;\n  width: 224px;\n  word-break: break-all;\n  font-size: 14px;\n  box-sizing: content-box;\n}\n\n.option {\n  box-sizing: content-box;\n  border-top: 1px solid #e8e8e8;\n  height: 36px;\n  line-height: 36px;\n  width: 224px;\n  word-break: break-all;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #888;\n  cursor: pointer;\n  text-align: center;\n  white-space: nowrap;\n}\n\n.title {\n  padding-bottom: 8px;\n  line-height: 21px;\n}\n\n.primary {\n  color: #ee4d2d;\n}\n\n.invalid {\n  color: #ccc;\n  cursor: default;\n}\n"]}]),t.locals={root:"_2DHthNBqDPxDjC1c6JvkZH",option:"_3pWLUxyM1FZ7-NdZqZbKY_",title:"_7-vPwOgwWBYpZj0E5MyHX",primary:"_2la8jPuCjpqKzvP_S2sWAE",invalid:"_1DekCN6MP9k1IUvBQZzeom"},e.exports=t},function(e,t,n){(t=n(19)(!0)).push([e.i,"._61IkPwaOcwo1jAenPujlR {\n  height: 100%;\n  flex-grow: 1;\n}\n\n._23cvBXwOyu7fgpbeq6EbXs {\n  outline: 0 none;\n  -ms-scroll-chaining: none;\n      overscroll-behavior: contain;\n}\n","",{version:3,sources:["index.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,eAAe;EACf,yBAA4B;MAA5B,4BAA4B;AAC9B",file:"index.css",sourcesContent:[".message-section {\n  height: 100%;\n  flex-grow: 1;\n}\n\n.grid {\n  outline: 0 none;\n  overscroll-behavior: contain;\n}\n"]}]),t.locals={"message-section":"_61IkPwaOcwo1jAenPujlR",messageSection:"_61IkPwaOcwo1jAenPujlR",grid:"_23cvBXwOyu7fgpbeq6EbXs"},e.exports=t},function(e,t){e.exports=D},,function(e,t,n){"use strict";n.r(t),n.d(t,"getModule",(function(){return he})),n.d(t,"default",(function(){return ge}));var r=n(54),o=n.n(r),s=n(0),a=n.n(s),i=n(84),c=n(36),u=n.n(c),l=n(4),d=n.n(l),p=n(11),f=n.n(p),A=n(12),h=n.n(A),g=n(6),m=n.n(g),E=n(13),v=n.n(E),b=n(14),_=n.n(b),y=n(8),C=n.n(y),x=n(10),S=n(183),O=n.n(S),B=n(184),w=n.n(B),I=n(185),M=n.n(I),T=n(186),k=n.n(T),j=n(187),R=n(7),P=n(1),N=n(2),D=n(188),q=n.n(D),U=n(95),F=n.n(U),H=function(e){v()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}(n);function n(){return f()(this,n),t.apply(this,arguments)}return h()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.message,n=e.shopId,r=t.id,o=t.conversation_id;Object(P.impressionTracker)({trackerName:"impressionOrClickUnreadBriefMessage",data:{message_id:r,conversation_id:o},shopId:n})}},{key:"render",value:function(){var e=this.props,t=e.username,n=e.message,r=e.onClick,o=e.shopId,s=e.enableTranslation,i=n.id,c=n.conversation_id;return a.a.createElement("div",{className:F.a.root,onClick:function(){Object(P.clickTracker)({trackerName:"impressionOrClickUnreadBriefMessage",data:{message_id:i,conversation_id:c},shopId:o}),r&&r()}},a.a.createElement("span",{className:F.a.newMessageUsername},t,":"),a.a.createElement("div",{className:F.a.newMessageContent},Object(N.previewMessage)(n,s,!0)),a.a.createElement(R.Icon,{svg:q.a,className:F.a.newMessageArrow}))}}]),n}(a.a.PureComponent),L=n(106),G=n(75),z=n(107),W=n(33),Y=n(146),V=n.n(Y),X=n(49),Q=N.MessageTypes.MSG_TYPE_IMAGE,Z=N.MessageTypes.MSG_TYPE_TEXT,J=N.MessageTypes.MSG_TYPE_WEBVIEW,K=N.MessageTypes.MSG_TYPE_NOTIFICATION,$=N.MessageTypes.MSG_TYPE_RATE_CARDS,ee=N.MessageTypes.MSG_TYPE_VOUCHER_WEB,te=N.MessageTypes.MSG_TYPE_FEED_STORY,ne=N.MessageTypes.MSG_TYPE_SHOPPING_CART,re=function(e){v()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}(n);function n(e){var r;return f()(this,n),(r=t.call(this,e)).keyMapper=r.keyMapper.bind(m()(r)),r.getListRef=r.getListRef.bind(m()(r)),r.handleWheel=r.handleWheel.bind(m()(r)),r.rowRenderer=r.rowRenderer.bind(m()(r)),r.handleScroll=r.handleScroll.bind(m()(r)),r.handleDbScroll=r.handleDbScroll.bind(m()(r)),r.debounceHandleScroll=Object(N.debounce)(r.handleDbScroll,300),r.scrollToMessage=r.scrollToMessage.bind(m()(r)),r.handleRowsRender=r.handleRowsRender.bind(m()(r)),r.handleRecomputeRow=r.handleRecomputeRow.bind(m()(r)),r.handleMessageListChanged=r.handleMessageListChanged.bind(m()(r)),r.handleConversationChanged=r.handleConversationChanged.bind(m()(r)),r.handleMessageListLengthUnchanged=r.handleMessageListLengthUnchanged.bind(m()(r)),r.addExposedMessageId=r.addExposedMessageId.bind(m()(r)),r.debounceShouldFetchPrevMessage=Object(N.debounce)(r.shouldFetchPrevMessage.bind(m()(r)),150),r.scrollUpHandler=Object(N.memFn)(W.e,10),r.handleViewNewMessage=r.markMessage.bind(m()(r)),r.containerProps={onWheel:r.handleWheel},r._cache=new k.a({fixedWidth:!0,keyMapper:r.keyMapper}),r.imgCache={},r.listNode=null,r.targetIndex=null,r.startIndex=0,r.stopIndex=0,r.scrollTop=0,r.latestScrollTop=0,r.hasSourceMessageMap={},r.state={firstUnreadMsgId:null,shouldRenderNewMessageTip:!1},r.exposedMessageIds=[],r}return h()(n,[{key:"addExposedMessageId",value:function(e){this.exposedMessageIds.push(e)}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.handleConversationChanged(e.props)})),P.EventBus.on("scrollToMessage",this.scrollToMessage)}},{key:"componentWillUnmount",value:function(){P.EventBus.removeListener("scrollToMessage",this.scrollToMessage)}},{key:"scrollToMessage",value:function(e){var t=this,n=this.props.messageList.findIndex((function(t){return t.id===e}));n>=0&&setTimeout((function(){t.scrollToRow=n,t.listNode&&t.listNode.scrollToRow(n)}),500)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,r=Object.keys(e),o=Object.keys(this.props);return r.length!==o.length||t.shouldRenderNewMessageTip!==this.state.shouldRenderNewMessageTip||r.some((function(t){var r=e[t],o=n.props[t],s=!1;switch(t){case"currentConversation":s=r.id!==o.id;break;case"unreadMessageIds":s=!Object(W.c)(r,o);break;case"messageList":s=!Object(W.b)(r,o);break;default:s=r!==o}return s}))}},{key:"componentDidUpdate",value:function(e){var t=e.hasMoreOlderMessage,n=e.messageList,r=e.unreadMessageIds,o=e.currentConversation,s=this.props,a=s.hasMoreOlderMessage,i=s.messageList,c=s.unreadMessageIds,u=s.currentConversation,l={hasMoreOlderMessage:t,messageList:n,conversation:o,unreadMessageIds:r},d={hasMoreOlderMessage:a,messageList:i,unreadMessageIds:c,currentConversationCanRead:s.currentConversationCanRead,conversation:u};u.id===o.id?i.length===n.length?this.handleMessageListLengthUnchanged(l,d):this.handleMessageListChanged(l,d):(this.handleConversationChanged(d),this.exposedMessageIds=[])}},{key:"handleConversationChanged",value:function(e){this.startIndex=0,this.stopIndex=0,this.hasSourceMessageMap={},this.cleanTargetIndex(),this.scrollUpHandler.reset(),this.listNode&&(this.listNode.Grid._rowSizeAndPositionManager.arrangeOffsetData(),this.listNode.forceUpdateGrid(),this.listNode.scrollToPosition(200)),this._cache.clearAll();var t=e.messageList,n=e.unreadMessageIds,r=n.length?n[0]:null,o=r?t.findIndex((function(e){return e.id===r})):null;this.handleAppendMessage({index:o}),this.setState({firstUnreadMsgId:r,shouldRenderNewMessageTip:!1})}},{key:"handleMessageListLengthUnchanged",value:function(e,t){var n=t.messageList,r=t.unreadMessageIds,o=t.currentConversationCanRead,s=this.checkForceRerender(e.messageList,n),a=e.hasMoreOlderMessage&&!t.hasMoreOlderMessage;(s||a)&&this.listNode&&this.listNode.forceUpdateGrid(),(o||e.unreadMessageIds.length&&!r.length)&&this.setState({shouldRenderNewMessageTip:!1});var i=Object(W.d)(n),c=Object(W.d)(e.messageList);if(i&&c){var u=i.type,l=i.request_id,d=i.errorCode,p=i.message_option,f=c.request_id,A=c.retryRequestId,h=c.errorCode,g=c.message_option;(c.id!==i.id&&i.isFaking||u===Z&&(l===f&&d!==h&&d===N.MessageErrorCode.BLACKLIST||(l===f||l===A)&&p!==g&&0!==p)||u===ne&&c.fetchStatus.includes("pending")&&"done"===i.fetchStatus)&&this.handleAppendMessage()}}},{key:"handleMessageListChanged",value:function(e,t){var n=t.messageList,r=t.unreadMessageIds,o=t.conversation,s=t.currentConversationCanRead,a=n.length,i=e.messageList.length,c=0===i&&a>0||this.checkAppend(n,e.messageList),u=(Object(W.d)(n)||{}).to_id===o.to_id&&a>i,l=n.findIndex((function(e){return e.id===o.last_read_message_id})),d=!0;(u||!r.length||this.stopIndex>=l||s)&&(d=!1),this.setState({shouldRenderNewMessageTip:d}),!c||!u&&i&&i-1!==this.stopIndex||(this.cleanTargetIndex(),this.handleAppendMessage()),c||(this.cleanTargetIndex(),this.scrollToTarget=this.startIndex+a-i,this.bufferScrollTop=this.latestScrollTop,this.handlePrependMessage())}},{key:"getListRef",value:function(e){this.listNode=e}},{key:"keyMapper",value:function(e){var t=this.props.messageList[e];return t&&t.id}},{key:"handleWheel",value:function(e){this.targetIndex&&e.deltaY<0&&this.cleanTargetIndex()}},{key:"markMessage",value:function(e){var t=this.props,n=t.showChatWindow,r=t.showConversationDetail,o=t.markMessagesRequested,s=t.currentConversation,a=s.status,i=s.shop_id,c=s.id,u=s.unread_count,l=s.latest_message_id;n&&r&&"closed"!==a&&u>0&&o({shopId:i,isRead:!0,conversationId:c,latestMessageId:l,unreadCount:u}),!e&&this.handleAppendMessage()}},{key:"checkForceRerender",value:function(e,t){var n=e.slice(this.startIndex,this.stopIndex+1),r=t.slice(this.startIndex,this.stopIndex+1);return!Object(W.b)(n,r)}},{key:"checkAppend",value:function(e,t){return(t.length?t[0].id:null)===(e.length?e[0].id:null)}},{key:"handleAppendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.inScrollToMessage;if(!t&&this.props.messageList.length){var n=e.alignment,r=void 0===n?"end":n,o=e.index,s=void 0===o?null:o,a=s||this.props.messageList.length-1;"end"===r&&(this.targetIndex={index:a,range:this.makeCheckRange(this.startIndex,a)});var i=this.listNode&&"end"!==r?this.listNode.getOffsetForRow({index:a,alignment:r}):null;this.goToBottom({toRow:"end"===r,index:a<0?0:a,position:i})}}},{key:"handlePrependMessage",value:function(){if(this.listNode){var e=this.listNode.getOffsetForRow({index:this.scrollToTarget,alignment:"start"});this.listNode.scrollToPosition(e+this.bufferScrollTop),this._resolveGridPosition()}}},{key:"rowRenderer",value:function(e){var t=this,n=e.index,r=(e.key,e.parent),o=e.style,s=this.props,i=s.messageList,c=s.hasMoreOlderMessage,u=s.isSubAccount,l=s.currentUser,d=i[n];if(!d)return null;var p=i[n-1]||{},f=p.type,A=p.created_timestamp,h=p.content,g=void 0===h?{}:h,m=p.to_id,E=1e3*d.created_timestamp,v=1e3*A,b=E&&!v||E-v>3e5||0===n&&!c?Object(N.customizeTime)(E):null,_=d.id===this.state.firstUnreadMsgId,y=n===i.length-1,C=f===K||f===J&&g&&g.type===$&&(l.id!==m||u);return a.a.createElement(M.a,{key:d.id,parent:r,rowIndex:n,columnIndex:0,cache:this._cache},(function(e){var r=e.measure;return t.renderMessage({index:n,style:o,message:d,measure:r,timeFlag:b,isLastMessage:y,newMessageFlag:_,isLastSystemMessage:C})}))}},{key:"handleDbScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop,o=this.props,s=o.hasMoreLatestMessage,a=o.handleComponentScroll;o.inScrollToMessage&&0!==t&&this.scrollTop<r&&s&&r>n-t-30&&this.debounceShouldFetchPrevMessage("latest"),this.targetIndex&&this.scrollUpHandler.check(this.scrollTop,r)&&this.cleanTargetIndex(),this.scrollTop>r?a("up"):a("down"),this.scrollTop=r,t+r===n&&Object(N.debounce)(this.handleViewNewMessage,250)(!0)}},{key:"handleScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop,o=this.props.hasMoreOlderMessage;this.latestScrollTop=r,!1!==o&&r<200&&0!==t&&r<this.scrollTop&&this.debounceShouldFetchPrevMessage("older"),this.debounceHandleScroll({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"handleRecomputeRow",value:function(e){this.targetIndex&&(this.targetIndex.range=this.targetIndex.range.map((function(t){return t.index!==e?t:Object.assign({},t,{measured:t.measured-1})})),this.listNode&&this.listNode.scrollToRow(this.targetIndex.index),this._resolveGridPosition(),this.targetIndex.range.every((function(e){return 0===e.measured}))&&this.cleanTargetIndex())}},{key:"cleanTargetIndex",value:function(){this.targetIndex=null}},{key:"makeCheckRange",value:function(e,t){for(var n=[],r=this._cache,o=e<t?e:0;o<=t;){var s=this.props.messageList[o],a=s.id,i=s.type,c=s.textContent,u=s.translateStatus,l=r.has(o),d=i===Q&&!this.imgCache[a],p=i===Z&&"enabled"===this.props.autoTranslation&&"succeed"!==u,f=i===te&&c&&!c.id,A=d||p||f;l?A&&n.push({index:o,measured:2}):n.push({index:o,measured:A?2:1}),o++}return n}},{key:"handleRowsRender",value:function(e){var t=e.startIndex,n=e.stopIndex,r=this.props,o=r.messageList,s=r.currentConversationCanRead,a=r.setCurrentConversationCanRead;if(this.startIndex=t,this.stopIndex=n,this.targetIndex){var i=this.targetIndex.range.filter((function(e){return e.index>=t&&e.measured>0}));i.length?this.targetIndex.range=i:this.cleanTargetIndex()}this.stopIndex<o.length-1&&s?a({canRead:!1}):this.stopIndex!==o.length-1||s||a({canRead:!0})}},{key:"shouldFetchPrevMessage",value:function(e){var t=this.props;(0,t.fetchRequested)({conversation:t.currentConversation,direction:e})}},{key:"goToBottom",value:function(e){var t=this,n=e.toRow,r=e.index,o=e.position;n?this.listNode&&this.listNode.scrollToRow(r):this.listNode&&this.listNode.scrollToPosition(o),setTimeout((function(){n?t.listNode&&t.listNode.scrollToRow(r):t.listNode&&t.listNode.scrollToPosition(o),t._resolveGridPosition()}))}},{key:"_resolveGridPosition",value:function(){this.listNode&&(this.listNode.measureAllRows(),this.listNode.Grid._rowSizeAndPositionManager.resetCell(0),this.listNode.Grid._rowSizeAndPositionManager.getTotalSize())}},{key:"renderMessage",value:function(e){var t=e.index,n=e.style,r=e.message,o=e.measure,s=e.timeFlag,i=e.isLastMessage,c=e.newMessageFlag,u=e.isLastSystemMessage,l=this.props,d=l.isScChat,p=l.currentUser,f=l.isSubAccount,A=l.resendMessageRequested,h=l.populateMessageRequested,g=l.cancelSendingMessageRequested,m=l.showWarningMessageIds,E=l.shop,v=l.conversationId,b=l.conversationShopId,_=l.conversationBuyerId,y=l.conversationStatus,C=r.type,x=r.content,S=void 0===x?{}:x,O=r.to_id,B=Object(L.a)(C);if(r.type===J){var w=r.content.type;w===ee||S.url&&S.url.includes("voucher")?(B=G.a,r.textContent=r.content):w===$&&O===p.id&&(B=z.a)}return a.a.createElement(B,{index:t,style:n,message:r,measure:o,timeFlag:s,isScChat:d,isSubAccount:f,isLastMessage:i,newMessageFlag:c,isLastSystemMessage:u,hasSourceMessageMap:this.hasSourceMessageMap,resendMessageRequested:A,populateMessageRequested:h,addExposedMessageId:this.addExposedMessageId,exposedMessageIds:this.exposedMessageIds,cancelSendingMessageRequested:g,showWarningMessageIds:m,shop:E,conversationId:v,conversationShopId:b,conversationBuyerId:_,conversationStatus:y})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,r=t.messageList,o=void 0===r?[]:r,s=t.unreadMessageIds,i=void 0===s?[]:s,c=t.currentConversation,u=t.translateTips,l=t.updateTranslateTips,d=t.autoTranslation,p=t.isSubAccount,f=t.shopTranslationSettings,A=t.isScChat,h=t.currentConversationTranslationAccess,g=c.status,m=c.shop_id,E=c.to_name,v=c.auto_translation,b=c.to_id,_=c.latest_message_from_id,y=o.filter((function(e){return i.includes(e.id)})),C=y.length?y[y.length-1]:null,x=!u[m]||"closed"!==u[m],S=p&&x&&v||!p&&"enabled"===d&&x,B=o.length||1,I=b!==_,M=(f[m]||{}).autoTranslationStatus,T="enabled"===(M||d),k=(C||{}).content,R=(void 0===k?{}:k).translation,P=(R=void 0===R?{}:R).text,N=A?p?M?"enabled"===M:v:T:I?T:T||h&&!!P;return a.a.createElement("div",{className:V.a.messageSection,id:"messageSection"},a.a.createElement(w.a,null,(function(t){var n=t.width,r=t.height;return a.a.createElement(X.a.Provider,{value:e.imgCache},a.a.createElement(O.a,{width:n,height:r,containerStyle:{},ref:e.getListRef,overscanRowCount:10,className:V.a.grid,onScroll:e.handleScroll,rowCount:B,rowRenderer:e.rowRenderer,rowHeight:e._cache.rowHeight,containerProps:e.containerProps,onRowsRendered:e.handleRowsRender,deferredMeasurementCache:e._cache,onRecomputeGrid:e.handleRecomputeRow}))})),this.state.shouldRenderNewMessageTip&&"closed"!==g&&a.a.createElement(H,{currentUser:n,username:E,message:C||{},shopId:m,onClick:this.handleViewNewMessage,enableTranslation:N}),S&&a.a.createElement(j.a,{currentConversation:c,updateTranslateTips:l}))}}]),n}(a.a.Component),oe=Object(R.CatchStatus)(re,"revered"),se=n(16),ae=["fetchMessagesRequested","messageHttpStatus"];function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){v()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}(n);function n(e){var r;return f()(this,n),(r=t.call(this,e)).fetchRequested=r.fetchRequested.bind(m()(r)),r}return h()(n,[{key:"fetchRequested",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needReset,n=void 0!==t&&t,r=e.direction,o=this.props,s=o.messageList,a=o.currentConversation,i=o.fetchMessagesRequested,c={conversation:a,direction:"up"===r||"older"===r?"older":"latest"};if(n)c.read=!0,c.reset=!0;else if(!s.length)return;i(ce({},c))}},{key:"render",value:function(){var e=this.props,t=(e.fetchMessagesRequested,e.messageHttpStatus),n=o()(e,ae);return a.a.createElement(oe,u()({},n,{status:t,fetchRequested:this.fetchRequested}))}}]),n}(a.a.PureComponent),le={updateTranslateTips:P.updateTranslateTips,markMessagesRequested:P.markMessagesRequested,sendMessagesRequested:se.sendMessagesRequested,fetchMessagesRequested:se.fetchMessagesRequested,resendMessageRequested:se.resendMessageRequested,populateMessageRequested:se.populateMessageRequested,setCurrentConversationCanRead:P.setCurrentConversationCanRead,cancelSendingMessageRequested:se.cancelSendingMessageRequested},de=Object(x.connect)((function(e){return{isScChat:Object(P.isScChatSelector)(e),translateTips:Object(P.tipsSelector)(e),hasMoreOlderMessage:Object(P.hasMoreOlderMessageSelector)(e),hasMoreLatestMessage:Object(P.hasMoreLatestMessageSelector)(e),autoTranslation:Object(P.autoTranslation)(e),isSubAccount:Object(P.isSubAccountSelector)(e),messageList:Object(P.messagesWithSourceSelector)(e),showChatWindow:Object(P.showChatWindowSelector)(e),unreadMessageIds:Object(P.unreadMessageIdsSelector)(e),messageHttpStatus:Object(P.messageHttpStatusSelector)(e),showConversationDetail:Object(P.showConversationDetailSelector)(e),currentConversationCanRead:Object(P.currentConversationCanReadSelector)(e),showWarningMessageIds:Object(P.showWarningMessageIdsSelector)(e),conversationId:Object(P.currentConversationIdSelector)(e),conversationShopId:Object(P.currentConversationShopIdSelectors)(e),conversationBuyerId:Object(P.currentConversationBuyerIdSelectors)(e),conversationStatus:Object(P.currentConversationStatusSelectors)(e),shop:Object(P.currentConversationShopSelectors)(e),inScrollToMessage:Object(P.inScrollToMessageSelector)(e)||Object(P.inlocationSelector)(e),shopTranslationSettings:Object(P.shopTranslationSettingsSelector)(e),currentConversationTranslationAccess:Object(P.currentConversationTranslationAccessSelector)(e)}}),le)(ue),pe=se.reducerMap,fe=se.sagas,Ae=o()(se,["reducerMap","sagas"]),he=function(){return{id:"message-section",reducerMap:pe,sagas:fe,actionsMap:Ae,retained:!0}};function ge(e){return a.a.createElement(i.DynamicModuleLoader,{modules:[he()]},a.a.createElement(de,e))}}]))},KdhP:function(e,t,n){function r(e){this.options=e||{locator:{}}}function o(){this.cdata=!1}function s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function i(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,s=n.domBuilder||new o,i=n.errorHandler,c=n.locator,l=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&s.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof o)return t;e=t}var r={},s=e instanceof Function;function i(t){var o=e[t];!o&&s&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},i("warning"),i("error"),i("fatalError"),r}(i,s,c),r.domBuilder=n.domBuilder||s,/\/x?html?$/.test(t)&&(d.nbsp="Â ",d.copy="Â©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,d):r.errorHandler.error("invalid doc source"),s.doc},o.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,a=o.createElementNS(e,n||t),i=r.length;c(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var u=0;u<i;u++){e=r.getURI(u);var l=r.getValue(u),d=(n=r.getQName(u),o.createAttributeNS(e,n));this.locator&&s(r.getLocator(u),d),d.value=d.nodeValue=l,a.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&s(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=i.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&s(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=i.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&s(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&s(this.locator,o),c(this,o)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){o.prototype[e]=function(){return null}}));var u=n("1h1e").XMLReader,l=t.DOMImplementation=n("dJxt").DOMImplementation;t.XMLSerializer=n("dJxt").XMLSerializer,t.DOMParser=r},"TU/D":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UssVodUploader=void 0;var s=n("ifpt"),a=n("ibA+"),i=function(){function e(e){var t=this,n=e.mediaFile,r=e.coverFile,o=e.uss,i=e.cancelToken,c=e.mediaType,u=e.autoPicType;this.eventMap=new Map,this.cancel=function(){return o.cancel(i)},this.resume=function(){return o.resume(i)};var l=[Promise.resolve(null),Promise.resolve(null),Promise.resolve(null),Promise.resolve(null)];n&&(l[0]=o.putObject({file:n,contentType:c==a.MediaType.video?a.ContentType.video:a.ContentType.audio,cancelToken:i,onUploadProgress:function(e){t.emit(a.UploaderEvents.mediaProgress,e)}}).then((function(e){var n=t.getNormalizeResponse(e);return t.emit(a.UploaderEvents.mediaUpload,n),n})).catch((function(e){throw t.cancel(),e})),l[2]=s.getFileMd5(n)),r&&(l[1]=o.putObject({file:r,contentType:a.ContentType.image,cancelToken:i,onUploadProgress:function(e){t.emit(a.UploaderEvents.coverProgress,e)},autoPicType:u}).then((function(e){var n=t.getNormalizeResponse(e);return t.emit(a.UploaderEvents.coverUpload,n),n})),l[3]=s.getFileMd5(r)),this.donePromise=Promise.all(l)}return e.prototype.done=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return[4,this.donePromise];case 1:return e=o.sent(),t=e[0],n=e[1],r=e[2],s=e[3],a={video:t,cover:n},r&&(a.video.md5=r),s&&(a.cover.md5=s),[2,a]}}))}))},e.prototype.on=function(e,t){var n=this.eventMap.get(e)||new Set;n.add(t),this.eventMap.set(e,n)},e.prototype.off=function(e,t){var n=this.eventMap.get(e);n&&(n.delete(t),0===n.size&&this.eventMap.delete(e))},e.prototype.getNormalizeResponse=function(e){return{url:e.url,etag:e.etag,extendId:e.fid}},e.prototype.emit=function(e,t){var n=this.eventMap.get(e);n&&n.forEach((function(e){e(t)}))},e}();t.UssVodUploader=i},WUFY:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n("ibA+"),t);var s=n("oEf+");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.UssVod}})},YZgg:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VodReporter=t.VodReportEvent=void 0;var o,s,a=n("s3hC"),i=n("FRsH"),c=n("yPq/");!function(e){e.report_apply="report_apply",e.report_cos_upload="report_cos_upload",e.report_commit="report_commit",e.report_done="report_done"}(o=t.VodReportEvent||(t.VodReportEvent={})),function(e){e[e.apply=10001]="apply",e[e.cos_upload=20001]="cos_upload",e[e.commit=10002]="commit",e[e.done=40001]="done"}(s||(s={}));var u=function(){function e(e,t){this.baseReportData={version:i.version,platform:3e3,device:navigator.userAgent},this.reportUrl="https://vodreport.qcloud.com/ugcupload_new",this.uploader=e,this.options=t,this.init()}return e.prototype.init=function(){this.uploader.on(o.report_apply,this.onApply.bind(this)),this.uploader.on(o.report_cos_upload,this.onCosUpload.bind(this)),this.uploader.on(o.report_commit,this.onCommit.bind(this)),this.uploader.on(o.report_done,this.onDone.bind(this))},e.prototype.onApply=function(e){try{var t=this.uploader;if(!t.videoFile)return;Object.assign(this.baseReportData,{appId:t.appId,fileSize:t.videoFile.size,fileName:t.videoFile.name,fileType:t.videoFile.type,vodSessionKey:t.vodSessionKey,reqKey:t.reqKey,reportId:t.reportId});var n={reqType:s.apply,errCode:0,vodErrCode:0,errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(n.errCode=1,n.vodErrCode=e.err.code,n.errMsg=e.err.message),e.data&&(this.baseReportData.cosRegion=e.data.storageRegionV5),this.report(n)}catch(e){if(console.error("onApply",e),c.default.isTest)throw e}},e.prototype.onCosUpload=function(e){try{var t={reqType:s.cos_upload,errCode:0,cosErrCode:"",errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(t.errCode=1,t.cosErrCode=e.err.error?e.err.error.Code:e.err,e.err&&"error"===e.err.error&&(t.cosErrCode="cors error"),t.errMsg=JSON.stringify(e.err)),this.report(t)}catch(e){if(console.error("onCosUpload",e),c.default.isTest)throw e}},e.prototype.onCommit=function(e){try{var t={reqType:s.commit,errCode:0,vodErrCode:0,errMsg:"",reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};e.err&&(t.errCode=1,t.vodErrCode=e.err.code,t.errMsg=e.err.message),e.data&&(this.baseReportData.fileId=e.data.fileId),this.report(t)}catch(e){if(console.error("onCommit",e),c.default.isTest)throw e}},e.prototype.onDone=function(e){try{var t={reqType:s.done,errCode:e.err&&e.err.code,reqTimeCost:Number(new Date)-Number(e.requestStartTime),reqTime:Number(e.requestStartTime)};this.report(t)}catch(e){if(console.error("onDone",e),c.default.isTest)throw e}},e.prototype.report=function(e){e=r(r({},this.baseReportData),e),this.send(e)},e.prototype.send=function(e){c.default.isDev||c.default.isTest?console.log("send reportData",e):a.vodAxios.post(this.reportUrl,e)},e}();t.VodReporter=u},"YZm+":function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__("PDX0"),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,o=0,s=e.length||0,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(r=this.start;o<s&&r<64;++o)a[r>>2]|=e[o]<<SHIFT[3&r++];else for(r=this.start;o<s&&r<64;++o)(n=e.charCodeAt(o))<128?a[r>>2]|=n<<SHIFT[3&r++]:n<2048?(a[r>>2]|=(192|n>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(a[r>>2]|=(224|n>>12)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[r>>2]|=(240|n>>18)<<SHIFT[3&r++],a[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=a[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,o=this.h2,s=this.h3,a=this.h4,i=this.blocks;for(e=16;e<80;++e)t=i[e-3]^i[e-8]^i[e-14]^i[e-16],i[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(o=(t=(s=(t=(a=(t=n<<5|n>>>27)+(r&o|~r&s)+a+1518500249+i[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|~n&o)+s+1518500249+i[e+1]<<0)<<5|s>>>27)+(a&(n=n<<30|n>>>2)|~a&r)+o+1518500249+i[e+2]<<0)<<5|o>>>27)+(s&(a=a<<30|a>>>2)|~s&n)+r+1518500249+i[e+3]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|~o&a)+n+1518500249+i[e+4]<<0,o=o<<30|o>>>2;for(;e<40;e+=5)n=(t=(r=(t=(o=(t=(s=(t=(a=(t=n<<5|n>>>27)+(r^o^s)+a+1859775393+i[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^o)+s+1859775393+i[e+1]<<0)<<5|s>>>27)+(a^(n=n<<30|n>>>2)^r)+o+1859775393+i[e+2]<<0)<<5|o>>>27)+(s^(a=a<<30|a>>>2)^n)+r+1859775393+i[e+3]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^a)+n+1859775393+i[e+4]<<0,o=o<<30|o>>>2;for(;e<60;e+=5)n=(t=(r=(t=(o=(t=(s=(t=(a=(t=n<<5|n>>>27)+(r&o|r&s|o&s)+a-1894007588+i[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|n&o|r&o)+s-1894007588+i[e+1]<<0)<<5|s>>>27)+(a&(n=n<<30|n>>>2)|a&r|n&r)+o-1894007588+i[e+2]<<0)<<5|o>>>27)+(s&(a=a<<30|a>>>2)|s&n|a&n)+r-1894007588+i[e+3]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|o&a|s&a)+n-1894007588+i[e+4]<<0,o=o<<30|o>>>2;for(;e<80;e+=5)n=(t=(r=(t=(o=(t=(s=(t=(a=(t=n<<5|n>>>27)+(r^o^s)+a-899497514+i[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^o)+s-899497514+i[e+1]<<0)<<5|s>>>27)+(a^(n=n<<30|n>>>2)^r)+o-899497514+i[e+2]<<0)<<5|o>>>27)+(s^(a=a<<30|a>>>2)^n)+r-899497514+i[e+3]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^a)+n-899497514+i[e+4]<<0,o=o<<30|o>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+r<<0,this.h2=this.h2+o<<0,this.h3=this.h3+s<<0,this.h4=this.h4+a<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__("8oxB"),__webpack_require__("yLpj"))},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],o=e[2],s=e[3];r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&r)+t[2]+606105819|0)<<17|o>>>15)+s|0)&s|~o&n)+t[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&r)+t[6]-1473231341|0)<<17|o>>>15)+s|0)&s|~o&n)+t[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&r)+t[10]-42063|0)<<17|o>>>15)+s|0)&s|~o&n)+t[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&o|~r&s)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&r)+t[14]-1502002290|0)<<17|o>>>15)+s|0)&s|~o&n)+t[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|o>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0)<<9|s>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|o>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|o>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r&s|o&~s)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0)<<9|s>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|o>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|o>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|o>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|o>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((s=((s+=((n=((n+=(r^o^s)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|o>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[14]-1416354905|0)<<15|o>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[10]-1051523|0)<<15|o>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[6]-1560198380|0)<<15|o>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((s=((s+=(r^((n=((n+=(o^(r|~s))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((o=((o+=(n^(s|~r))+t[2]+718787259|0)<<15|o>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,o,s,a,i,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,r(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(l,s),t=0;t<16;t+=1)s[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=i,s[15]=c,n(l,s),l}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function i(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return i(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,s,a,i,c=this.byteLength,u=t(n,c),l=c;return r!==e&&(l=t(r,c)),u>l?new ArrayBuffer(0):(o=l-u,s=new ArrayBuffer(o),a=new Uint8Array(s),i=new Uint8Array(this,u,o),a.set(i),s)}}(),l.prototype.append=function(e){return this.appendBinary(c(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,r=this._buff,o=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(s,o),n=i(this._hash),e&&(n=u(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,o,s,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),s=parseInt(r[1],16)||0,e[14]=o,e[15]=s,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(c(e),t)},l.hashBinary=function(e,t){var n=i(s(e));return t?u(n):n},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,r,s,a,i,c=(r=this._buff.buffer,s=e,a=!0,(i=new Uint8Array(r.byteLength+s.byteLength)).set(new Uint8Array(r)),i.set(new Uint8Array(s),r.byteLength),a?i:i.buffer),u=c.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,o(c.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)s[t>>2]|=r[t]<<(t%4<<3);return this._finish(s,o),n=i(this._hash),e&&(n=u(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,o=new ArrayBuffer(r),s=new Uint8Array(o);for(n=0;n<r;n+=1)s[n]=e.charCodeAt(n);return t?s:o}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=i(function(e){var t,r,s,a,i,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,o(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),r=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(l,s),t=0;t<16;t+=1)s[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=i,s[15]=c,n(l,s),l}(new Uint8Array(e)));return t?u(r):r},l}()},dJxt:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var o=Object.create(t.prototype);r.__proto__=o}if(!(r instanceof t)){function s(){}s.prototype=t.prototype,n(r,s=new s),e.prototype=r=s}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var o="http://www.w3.org/1999/xhtml",s={},a=s.ELEMENT_NODE=1,i=s.ATTRIBUTE_NODE=2,c=s.TEXT_NODE=3,u=s.CDATA_SECTION_NODE=4,l=s.ENTITY_REFERENCE_NODE=5,d=s.ENTITY_NODE=6,p=s.PROCESSING_INSTRUCTION_NODE=7,f=s.COMMENT_NODE=8,A=s.DOCUMENT_NODE=9,h=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,m=s.NOTATION_NODE=12,E={},v={},b=(E.INDEX_SIZE_ERR=(v[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),_=(E.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),E.NOT_FOUND_ERR=(v[8]="Not found",8)),y=(E.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));E.INVALID_STATE_ERR=(v[11]="Invalid state",11),E.SYNTAX_ERR=(v[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),E.NAMESPACE_ERR=(v[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(v[15]="Invalid access",15);function C(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,C);return n.code=e,t&&(this.message=this.message+": "+t),n}function x(){}function S(e,t){this._node=e,this._refresh=t,O(this)}function O(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function B(){}function w(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function I(e,t,n,r){if(r?t[w(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&N(o,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function M(e,t,n){var r=w(t,n);if(!(r>=0))throw C(_,new Error(e.tagName+"@"+n));for(var o=t.length-1;r<o;)t[r]=t[++r];if(t.length=o,e){var s=e.ownerDocument;s&&(N(s,e,n),n.ownerElement=null)}}function T(e){if(this._features={},e)for(var t in e)this._features=e[t]}function k(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function R(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(R(e,t))return!0}while(e=e.nextSibling)}function P(){}function N(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function D(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,s=0;o;)r[s++]=o,o=o.nextSibling;r.length=s}}}function q(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,D(e.ownerDocument,e),t}function U(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===g){var o=t.firstChild;if(null==o)return t;var s=t.lastChild}else o=s=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,s.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=s:n.previousSibling=s;do{o.parentNode=e}while(o!==s&&(o=o.nextSibling));return D(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function F(){this._nsMap={}}function H(){}function L(){}function G(){}function z(){}function W(){}function Y(){}function V(){}function X(){}function Q(){}function Z(){}function J(){}function K(){}function $(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,o=r.prefix,s=r.namespaceURI;if(s&&null==o&&null==(o=r.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return te(this,n,e,t,a),n.join("")}function ee(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!r&&!o)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix==r)return a.namespace!=o}return!0}function te(e,t,n,r,s){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:s||(s=[]);s.length;var d=e.attributes,m=d.length,E=e.firstChild,v=e.tagName;n=o===e.namespaceURI||n,t.push("<",v);for(var b=0;b<m;b++){"xmlns"==(_=d.item(b)).prefix?s.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&s.push({prefix:"",namespace:_.value})}for(b=0;b<m;b++){var _;if(ee(_=d.item(b),0,s)){var y=_.prefix||"",C=_.namespaceURI,x=y?" xmlns:"+y:" xmlns";t.push(x,'="',C,'"'),s.push({prefix:y,namespace:C})}te(_,t,n,r,s)}if(ee(e,0,s)){y=e.prefix||"",C=e.namespaceURI,x=y?" xmlns:"+y:" xmlns";t.push(x,'="',C,'"'),s.push({prefix:y,namespace:C})}if(E||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;E;)E.data?t.push(E.data):te(E,t,n,r,s),E=E.nextSibling;else for(;E;)te(E,t,n,r,s),E=E.nextSibling;t.push("</",v,">")}else t.push("/>");return;case A:case g:for(E=e.firstChild;E;)te(E,t,n,r,s),E=E.nextSibling;return;case i:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,j),'"');case c:return t.push(e.data.replace(/[<&]/g,j));case u:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case h:var S=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(' PUBLIC "',S),O&&"."!=O&&t.push('" "',O),t.push('">');else if(O&&"."!=O)t.push(' SYSTEM "',O,'">');else{var B=e.internalSubset;B&&t.push(" [",B,"]"),t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}C.prototype=Error.prototype,n(E,C),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)te(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return O(this),this[e]},r(S,x),B.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(y);var n=this.getNamedItem(e.nodeName);return I(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new C(y);return t=this.getNamedItemNS(e.namespaceURI,e.localName),I(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return M(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},T.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new P;if(r.implementation=this,r.childNodes=new x,r.doctype=n,n&&r.appendChild(n),t){var o=r.createElementNS(e,t);r.appendChild(o)}return r},createDocumentType:function(e,t,n){var r=new Y;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},k.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o=new n.constructor;for(var s in n){var c=n[s];"object"!=typeof c&&c!=o[s]&&(o[s]=c)}n.childNodes&&(o.childNodes=new x);o.ownerDocument=t;switch(o.nodeType){case a:var u=n.attributes,l=o.attributes=new B,d=u.length;l._ownerElement=o;for(var p=0;p<d;p++)o.setAttributeNode(e(t,u.item(p),!0));break;case i:r=!0}if(r)for(var f=n.firstChild;f;)o.appendChild(e(t,f,r)),f=f.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==c&&e.nodeType==c?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==i?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==i?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(s,k),n(s,k.prototype),P.prototype={nodeName:"#document",nodeType:A,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case a:(o=n.cloneNode(!1)).ownerDocument=t;case g:break;case i:r=!0}o||(o=n.cloneNode(!1));o.ownerDocument=t;o.parentNode=null;if(r)for(var s=n.firstChild;s;)o.appendChild(e(t,s,r)),s=s.nextSibling;return o}(this,e,t)},getElementById:function(e){var t=null;return R(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new F;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new x,(t.attributes=new B)._ownerElement=t,t},createDocumentFragment:function(){var e=new Z;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new J;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Q;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new F,r=t.split(":"),o=n.attributes=new B;return n.childNodes=new x,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(P,k),F.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,D(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,(function(t){var n=[];return R(t,(function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new S(this,(function(n){var r=[];return R(n,(function(o){o===n||o.nodeType!==a||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},P.prototype.getElementsByTagName=F.prototype.getElementsByTagName,P.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,r(F,k),H.prototype.nodeType=i,r(H,k),L.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(L,k),G.prototype={nodeName:"#text",nodeType:c,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(G,L),z.prototype={nodeName:"#comment",nodeType:f},r(z,L),W.prototype={nodeName:"#cdata-section",nodeType:u},r(W,L),Y.prototype.nodeType=h,r(Y,k),V.prototype.nodeType=m,r(V,k),X.prototype.nodeType=d,r(X,k),Q.prototype.nodeType=l,r(Q,k),Z.prototype.nodeName="#document-fragment",Z.prototype.nodeType=g,r(Z,k),J.prototype.nodeType=p,r(J,k),K.prototype.serializeToString=function(e,t,n){return $.call(e,t,n)},k.prototype.toString=$;try{if(Object.defineProperty){Object.defineProperty(S.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(k.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case g:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=T,t.XMLSerializer=K},"ibA+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=t.ContentTypeHeader=t.FileExt=t.MediaType=t.ContentType=t.HttpCode=t.UploaderEvents=void 0,function(e){e.mediaUpload="media_upload",e.mediaProgress="media_progress",e.coverUpload="cover_upload",e.coverProgress="cover_progress"}(t.UploaderEvents||(t.UploaderEvents={})),function(e){e[e.ok=200]="ok",e[e.invalidParam=400]="invalidParam",e[e.invalidToken=403]="invalidToken",e[e.bucketUnExist=404]="bucketUnExist",e[e.sizeExceeded=413]="sizeExceeded",e[e.serverError=500]="serverError"}(t.HttpCode||(t.HttpCode={})),function(e){e.video="video",e.image="image",e.audio="audio"}(t.ContentType||(t.ContentType={})),function(e){e.video="video",e.audio="audio"}(t.MediaType||(t.MediaType={})),function(e){e.video="mp4",e.image="jpg",e.audio="aac"}(t.FileExt||(t.FileExt={})),function(e){e.video="video/mpeg4",e.image="image/jpeg",e.audio="audio/aac",e.slice="application/octet-stream",e.pngImage="image/png"}(t.ContentTypeHeader||(t.ContentTypeHeader={})),function(e){e[e.Success=0]="Success",e[e.Unknown=-1]="Unknown",e[e.PreparePublishFail=1e3]="PreparePublishFail",e[e.PublishResultRequestFailed=1001]="PublishResultRequestFailed",e[e.PublishResultResponseError=1002]="PublishResultResponseError",e[e.PublishResultVideoFailed=1003]="PublishResultVideoFailed",e[e.PublishResultCoverFailed=1004]="PublishResultCoverFailed",e[e.PublishResultVideoInvalid=1007]="PublishResultVideoInvalid",e[e.PublishResultCoverInvalid=1008]="PublishResultCoverInvalid",e[e.TokenInvalid=1012]="TokenInvalid",e[e.VideoPathIsNull=1013]="VideoPathIsNull",e[e.VideoNoExist=1014]="VideoNoExist",e[e.CoverNoExist=1016]="CoverNoExist",e[e.UserCancel=1017]="UserCancel",e[e.CheckFileFail=1101]="CheckFileFail",e[e.UssMergeFilesFail=1102]="UssMergeFilesFail"}(t.ErrorCode||(t.ErrorCode={}))},ifpt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileMd5=void 0;var r=n("aaBP"),o=n("ibA+"),s=n("rPHV");t.getFileMd5=function(e){var t=File.prototype.slice,n=2097152,a=Math.ceil(e.size/n),i=0,c=new r.ArrayBuffer,u=new FileReader;return new Promise((function(r,l){function d(){var r=i*n,o=r+n>=e.size?e.size:r+n;u.readAsArrayBuffer(t.call(e,r,o))}u.onload=function(e){c.append(e.target.result),++i<a?d():r(c.end())},u.onerror=function(e){l(new s.Error({code:o.ErrorCode.CheckFileFail,message:"Get file etag failed",error:e}))},d()}))}},"oEf+":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UssVod=void 0;var o=n("vDqi"),s=n("ibA+"),a=n("TU/D"),i=n("Ao50"),c=n("rPHV"),u=function(){function e(e){this.cancelToken=o.default.CancelToken.source(),this.uss=new i.USS(r(r({},e),{sliceSize:e.sliceSize}))}return e.prototype.upload=function(e){if(e.coverFile&&!c.isImage(e.coverFile))throw new c.Error({code:s.ErrorCode.PublishResultCoverInvalid,message:"Publish result cover invalid."});return new a.UssVodUploader(r(r({},e),{cancelToken:o.default.CancelToken.source(),uss:this.uss}))},e}();t.UssVod=u},rPHV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Error=t.isAudio=t.isVideo=t.isImage=t.createStorage=t.Queue=void 0;var r=function(){function e(e,t){this.index=-1,this.running=0,this.canceled=!1,this.tasks=e,this.concurrency=t.concurrency}return e.prototype.addTask=function(e){this.tasks.push(e)},e.prototype.setTaskFullfilledHandler=function(e){this.onTaskFullfilled=e},e.prototype.setTaskRejectedHandler=function(e){this.onTaskRejected=e},e.prototype.setAllTaskFullfilledHandler=function(e){this.onAllTaskFullfilled=e},e.prototype.run=function(){var e=this;this.running<this.concurrency&&!this.canceled&&this.index<this.tasks.length-1&&(this.running++,this.tasks[++this.index]().then((function(t){var n;null===(n=e.onTaskFullfilled)||void 0===n||n.call(e,t),e.index===e.tasks.length-1&&e.onAllTaskFullfilled()})).catch((function(t){var n;null===(n=e.onTaskRejected)||void 0===n||n.call(e,t)})).finally((function(){e.running>0&&e.running--,e.run()})),this.run())},e.prototype.start=function(){this.index=-1,this.run()},e.prototype.cancel=function(){this.canceled=!0},e.prototype.resume=function(){this.canceled=!1,this.run()},e}();t.Queue=r;t.createStorage=function(e){var t="USS_VOD_"+e;return{set:function(e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error(e)}},get:function(){try{return JSON.parse(localStorage.getItem(t))}catch(e){return null}},remove:function(){localStorage.removeItem(t)}}};t.isImage=function(e){var t=e.name.split(".").pop();return/^(jpg|jpeg|png|gif|bmp|webp)$/i.test(t)};t.isVideo=function(e){var t=e.name.split(".").pop();return/^(mp4|rmvb|mkv|flv|mpeg4|3gp|avi|mov|wmv|rm|mpg)$/i.test(t)};t.isAudio=function(e){var t=e.name.split(".").pop();return/^(mp3|aac)$/i.test(t)};var o=function(e){var t=e.code,n=void 0===t?-1:t,r=e.message,o=e.error,s=void 0===o?null:o,a=e.httpCode,i=void 0===a?null:a;this.code=n,this.message=r,this.error=s,this.httpCode=i};t.Error=o},s3hC:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UploaderEvent=t.vodAxios=void 0;var c,u=n("YZm+"),l=n("NDg5"),d=n("uhBA"),p=n("vDqi"),f=n("yPq/"),A=n("YZgg"),h=n("xk4V");t.vodAxios=p.default.create(),t.vodAxios.interceptors.response.use((function(e){return e}),(function(e){return isNaN(e.code)&&(e.code=500),Promise.reject(e)})),function(e){e.video_progress="video_progress",e.media_progress="media_progress",e.video_upload="video_upload",e.media_upload="media_upload",e.cover_progress="cover_progress",e.cover_upload="cover_upload"}(c=t.UploaderEvent||(t.UploaderEvent={}));var g=function(e){function n(t){var n=e.call(this)||this;return n.sessionName="",n.vodSessionKey="",n.appId=0,n.reqKey=h(),n.reportId="",n.enableResume=!0,n.applyRequestTimeout=5e3,n.applyRequestRetryCount=3,n.commitRequestTimeout=5e3,n.commitRequestRetryCount=3,n.retryDelay=1e3,n.validateInitParams(t),n.videoFile=t.mediaFile||t.videoFile,n.getSignature=t.getSignature,n.enableResume=t.enableResume,n.videoName=t.mediaName||t.videoName,n.coverFile=t.coverFile,n.fileId=t.fileId,n.applyRequestTimeout=t.applyRequestTimeout||n.applyRequestTimeout,n.commitRequestTimeout=t.commitRequestTimeout||n.commitRequestTimeout,n.retryDelay=t.retryDelay||n.retryDelay,n.appId=t.appId||n.appId,n.reportId=t.reportId||n.reportId,n.cosAuthTime=0,n.genFileInfo(),n}return o(n,e),n.prototype.setStorage=function(e,t){if(e){var n="webugc_"+u(e);try{localStorage.setItem(n,t)}catch(e){}}},n.prototype.getStorage=function(e){if(e){var t="webugc_"+u(e),n=null;try{n=localStorage.getItem(t)}catch(e){}return n}},n.prototype.delStorage=function(e){if(e){var t="webugc_"+u(e);try{localStorage.removeItem(t)}catch(e){}}},n.prototype.validateInitParams=function(e){if(!f.default.isFunction(e.getSignature))throw new Error("getSignature must be a function");if(e.videoFile&&!f.default.isFile(e.videoFile))throw new Error("videoFile must be a File")},n.prototype.genFileInfo=function(){var e=this.videoFile;if(e){var t=e.name.lastIndexOf("."),n="";if(this.videoName){if(!f.default.isString(this.videoName))throw new Error("mediaName must be a string");if(/[:*?<>\"\\/|]/g.test(this.videoName))throw new Error('Cant use these chars in filename: \\ / : * ? " < > |');n=this.videoName}else n=e.name.substring(0,t);this.videoInfo={name:n,type:e.name.substring(t+1).toLowerCase(),size:e.size},this.sessionName+=e.name+"_"+e.size+";"}var r=this.coverFile;if(r){var o=r.name,s=o.lastIndexOf(".");this.coverInfo={name:o.substring(0,s),type:o.substring(s+1).toLowerCase(),size:r.size},this.sessionName+=r.name+"_"+r.size+";"}},n.prototype.applyUploadUGC=function(e){return void 0===e&&(e=0),a(this,void 0,void 0,(function(){function r(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:if(500===t.code&&(n.host=n.host===f.HOST.MAIN?f.HOST.BACKUP:f.HOST.MAIN),o.emit(A.VodReportEvent.report_apply,{err:t,requestStartTime:p}),o.delStorage(o.sessionName),o.applyRequestRetryCount==e){if(t)throw t;throw new Error("apply upload failed")}return[4,f.default.delay(o.retryDelay)];case 1:return r.sent(),[2,o.applyUploadUGC(e+1)]}}))}))}var o,s,c,u,l,d,p,h,g,m,E,v;return i(this,(function(e){switch(e.label){case 0:return o=this,[4,this.getSignature()];case 1:if(s=e.sent(),u=this.videoInfo,l=this.coverInfo,d=this.vodSessionKey||this.enableResume&&this.getStorage(this.sessionName))c={signature:s,vodSessionKey:d};else if(u)c={signature:s,videoName:u.name,videoType:u.type,videoSize:u.size},l&&(c.coverName=l.name,c.coverType=l.type,c.coverSize=l.size);else{if(!this.fileId||!l)throw"Wrong params, please check and try again";c={signature:s,fileId:this.fileId,coverName:l.name,coverType:l.type,coverSize:l.size}}p=new Date,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.vodAxios.post("https://"+n.host+"/v3/index.php?Action=ApplyUploadUGC",c,{timeout:this.applyRequestTimeout,withCredentials:!1})];case 3:return h=e.sent(),[3,5];case 4:return[2,r(e.sent())];case 5:return 0==(g=h.data).code?(m=g.data,E=m.vodSessionKey,this.setStorage(this.sessionName,E),this.vodSessionKey=E,this.appId=m.appId,this.emit(A.VodReportEvent.report_apply,{data:m,requestStartTime:p}),[2,m]):((v=new Error(g.message)).code=g.code,[2,r(v)])}}))}))},n.prototype.uploadToCos=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,u,d,p,h;return i(this,(function(g){switch(g.label){case 0:return t=this,n={bucket:e.storageBucket+"-"+e.storageAppId,region:e.storageRegionV5},r=new l({getAuthorization:function(n,r){return a(this,void 0,void 0,(function(){var n,o;return i(this,(function(s){switch(s.label){case 0:return n=f.default.getUnix(),o=.9*(e.tempCertificate.expiredTime-e.timestamp),0!==t.cosAuthTime?[3,1]:(t.cosAuthTime=n,[3,3]);case 1:return t.cosAuthTime&&n-t.cosAuthTime>=o?[4,t.applyUploadUGC()]:[3,3];case 2:e=s.sent(),t.cosAuthTime=f.default.getUnix(),s.label=3;case 3:return r({TmpSecretId:e.tempCertificate.secretId,TmpSecretKey:e.tempCertificate.secretKey,XCosSecurityToken:e.tempCertificate.token,StartTime:e.timestamp,ExpiredTime:e.tempCertificate.expiredTime}),[2]}}))}))}}),this.cos=r,o=[],this.videoFile&&(u=s(s({},n),{file:this.videoFile,key:e.video.storagePath,onProgress:function(e){t.emit(c.video_progress,e),t.emit(c.media_progress,e)},onUpload:function(e){t.emit(c.video_upload,e),t.emit(c.media_upload,e)},onTaskReady:function(e){t.taskId=e}}),o.push(u)),this.coverFile&&(d=s(s({},n),{file:this.coverFile,key:e.cover.storagePath,onProgress:function(e){t.emit(c.cover_progress,e)},onUpload:function(e){t.emit(c.cover_upload,e)},onTaskReady:f.default.noop}),o.push(d)),p=new Date,h=o.map((function(e){return new Promise((function(n,o){r.sliceUploadFile({Bucket:e.bucket,Region:e.region,Key:e.key,Body:e.file,onTaskReady:e.onTaskReady,onProgress:e.onProgress},(function(r,s){return e.file===t.videoFile&&t.emit(A.VodReportEvent.report_cos_upload,{err:r,requestStartTime:p}),r?(t.delStorage(t.sessionName),'{"error":"error","headers":{}}'===JSON.stringify(r)?o(new Error("cors error")):void o(r)):(e.onUpload(s),n())}))}))})),[4,Promise.all(h)];case 1:return[2,g.sent()]}}))}))},n.prototype.commitUploadUGC=function(e){return void 0===e&&(e=0),a(this,void 0,void 0,(function(){function r(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:if(500===t.code&&(n.host=n.host===f.HOST.MAIN?f.HOST.BACKUP:f.HOST.MAIN),o.emit(A.VodReportEvent.report_commit,{err:t,requestStartTime:u}),o.commitRequestRetryCount==e){if(t)throw t;throw new Error("commit upload failed")}return[4,f.default.delay(o.retryDelay)];case 1:return r.sent(),[2,o.commitUploadUGC(e+1)]}}))}))}var o,s,c,u,l,d,p;return i(this,(function(e){switch(e.label){case 0:return o=this,[4,this.getSignature()];case 1:s=e.sent(),this.delStorage(this.sessionName),c=this.vodSessionKey,u=new Date,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.vodAxios.post("https://"+n.host+"/v3/index.php?Action=CommitUploadUGC",{signature:s,vodSessionKey:c},{timeout:this.commitRequestTimeout,withCredentials:!1})];case 3:return l=e.sent(),[3,5];case 4:return[2,r(e.sent())];case 5:return 0==(d=l.data).code?(this.emit(A.VodReportEvent.report_commit,{data:d.data,requestStartTime:u}),[2,d.data]):((p=new Error(d.message)).code=d.code,[2,r(p)])}}))}))},n.prototype.start=function(){var e=this,t=new Date;this.donePromise=this._start().then((function(n){return e.emit(A.VodReportEvent.report_done,{err:{code:0},requestStartTime:t}),n})).catch((function(n){throw e.emit(A.VodReportEvent.report_done,{err:{code:n&&n.code||f.default.CLIENT_ERROR_CODE.UPLOAD_FAIL},requestStartTime:t}),n}))},n.prototype._start=function(){return a(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.applyUploadUGC()];case 1:return e=t.sent(),[4,this.uploadToCos(e)];case 2:return t.sent(),[4,this.commitUploadUGC()];case 3:return[2,t.sent()]}}))}))},n.prototype.done=function(){return this.donePromise},n.prototype.cancel=function(){this.cos.cancelTask(this.taskId)},n.host=f.HOST.MAIN,n}(d.EventEmitter);t.default=g},"yPq/":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HOST=void 0,function(e){e[e.UPLOAD_FAIL=1]="UPLOAD_FAIL"}(r||(r={})),function(e){e.MAIN="vod2.qcloud.com",e.BACKUP="vod2.dnsv1.com"}(t.HOST||(t.HOST={})),t.default={isFile:function(e){return"[object File]"==Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},noop:function(){},delay:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},getUnix:function(){return Math.floor(Date.now()/1e3)},isTest:!1,isDev:!1,CLIENT_ERROR_CODE:r}},zDSj:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function i(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEtag=void 0;var s=n("YZm+"),a=n("ibA+"),i=n("rPHV");function c(e){var t=new FileReader;return t.readAsArrayBuffer(e),new Promise((function(e,n){t.onload=function(t){e(t.target.result)},t.onerror=n}))}t.getEtag=function(e){return r(this,void 0,void 0,(function(){function t(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t=t.concat(o)}return new Uint8Array(t)}function n(){if(!l.length)return"Fto5o-5ea0sNMlW_75VgGJCv2AcJ";var e=t(l);return p>1?(d=150,e=u(e.buffer)):e=Array.apply([],e),function(e,t){for(var n,r=0,o=e.length,s="";r<o;)n=e.subarray(r,Math.min(r+32768,o)),s+=String.fromCharCode.apply(null,n),r+=32768;return t?btoa(s).replace(/\//g,"_").replace(/\+/g,"-"):btoa(s)}(e=t([[d],e]),!0)}var r,u,l,d,p,f,A;return o(this,(function(t){switch(t.label){case 0:return[4,c(e).catch((function(e){throw new i.Error({code:a.ErrorCode.CheckFileFail,message:"Get file etag failed",error:e})}))];case 1:for(r=t.sent(),u=s.digest,4194304,l=[],d=22,p=0,f=r.size||r.length||r.byteLength,p=Math.ceil(f/4194304),A=0;A<p;A++)l.push(u(r.slice(4194304*A,4194304*(A+1))));return[2,n()]}}))}))}}}]);
//# sourceMappingURL=message-section.70aabc29.df2783d626591112d9dd.js.map